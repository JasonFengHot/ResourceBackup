一、CTS测试步骤如下：
  1.先把手机在设置中恢复到出厂设置/现对手机进行刷机，然后把mac地址给刷进去
  2.确定手机里面有SD卡
  3.时间和时区设置为当前时间和时区，时间设置好后，自动确定日期和时间选择使用网络提供时间，点上自动确定时区
  4.语言用English
  5.休眠时间设置为30分钟后或者最大的时间进行设置
  6.关闭屏锁
  7.确定是USB调试模式（在开发者选项中打勾）
  8.允许定位（在开发者选项中），同时选上Stay awake和Allow mock locations。
  9.安装两个apk：CtsDelegatingAccessibilityService.apk(在cts/android-cts/repository/testcase/CtsDelegatingAccessibilityService.apk)，CtsDeviceAdmin.apk(在cts/android-cts/repository/testcase/ CtsDeviceAdmin.apk),安装方法：进入该目录，用adb install CtsDelegatingAccessibilityService.apk方法进行安装
  10.默认键盘设置为English（US）
  11.保证sim卡已连接
  12.运行copy_media.sh文件（该文件在cts/android-cts-media-1.0/copy_media.sh），接着手机存储或者SD卡存储中会出现test文件夹（./copy_media.sh）
  13.Settings-->Accessibility-->Delegating Accessibility Service
  14.Settings-->Security-->Device administrators-->把两个都打上勾
	Security-->Unknown sources不能勾选 
  15.运行cts/android-cts/tools/cts-tradefed文件
  16.如果测试整个工程的话输入run cts --plan CTS
  17.如果测试某个包的话输入run cts -p 包名（如android.os）
  18.如果测试某个类的话输入run cts -c 类名（如android.os.cts.AsyncTaskTest）
  19.如果测试某个文件的话输入run cts -c 文件名（如android.os.cts.AsyncTaskTest.test）


二、编译：
  版本号查询是在该项目下的ProjectConfig.mk文件中查找verno，然后出现CUSTOM_BUILD_VERNO = V03_131126_UP22 ，CUSTOM_BUILD_VERNO1= _V01_E_X4.0_E3，CUSTOM_BUILD_VERNO2 = 2P4_MP，然后三个连起来就是版本号
  默认语言查询是在该项目下的ProjectConfig.mk文件中查找locale，然后第一个就是默认的语言
  是否加密查询是在该项目下的ProjectConfig.mk文件中查找widevine，如果查询结果是NO的话，就是没加密，直接编译好就行了；如果查询结果是YES的话，就是加密了，编译后还要在终端运行另一步骤(终端运行./mk sign-image),
  工程版本编译./mk 项目名 new
  把工程没有编译的再重新编译一下：./mk remake
  工程编译成user版本：./mk --help,然后可以查找user得到./mk -o=TARGET_BUILD_VARIANT=user e1k n(其中e1k是项目名)
  编译模块：./mk sagetel82_wet_kk mm packages/apps/Settings/; adb push out/target/product/sagetel82_wet_kk/system/priv-app/Settings.apk system/priv-app

三、常用密令：
  新建文件夹：mkdir+文件夹名字
  删除空文件夹：rmdir+空文件夹名字
  显示当前目录：pwd
  返回到最前面：cd
  返回到上一级：cd ..
  进入到下一级：cd + 路径
  运行文件：./ +文件名
  安装apk：adb install + **.apk
  显示当前目录下的所有子目录：ls
  显示当前目录下的所有子目录以及其修改的时间：ll
  编译模块：./mk mm packages/app/[application name] 

四、刷机：
  1.打开设置进行版本号查询，版本号查询是在该项目下的ProjectConfig.mk文件中查找verno，然后出现CUSTOM_BUILD_VERNO = V03_131126_UP22 ，CUSTOM_BUILD_VERNO1= _V01_E_X4.0_E3，CUSTOM_BUILD_VERNO2 = 2P4_MP，然后三个连起来就是版本号
  2.找到匹配手机的项目，然后编译这个项目
  3.编译好后，在该项目下的ProjectConfig.mk文件中查找widevine，如果是no的话，运行编译项目所对应的.sh文件；如果是yes的话，要在终端运行./mk sign-image，然后再运行编译项目所对应的.sh文件，然后打开Release_SW_sign/BIN文件夹下面的    MT6572_Android_scatter.txt，然后搜索file_name，后面全部加上-sign
  4.运行文件后会生成Release_SW文件夹
  5.在XP虚拟机下打开flash-tools的刷机工具，点击Scatter-loading，然后选择刚才Release_SW文件夹中的BIN文件夹下的MT6572_Android_scatter
  6.先点击Format把手机格式化，（把手机先断电（拔出电板），插上数据线，然后在插上电板，在虚拟机左上方的设备-->USB设备中选择自己的手机），然后进行格式化
  7.跟第六步一样，点击DownLoad就可以完成刷机了

五、常用的密码
  服务器账号：
	gsm\63994
	smn123456
  文档解压密码：
	1977051217
	2894058698
  Eservice
	网址http://eservice.mediatek.com/ 
	user name:nbbse-3 	
	password:sr%2016
		
  MTK文档下载
        http://dcc.mediatek.com   	 (/DocShare/login.jsp)	
	Username:zhangzhefeng@sagereal.com
	Password:12121976	

	http://online.mediatek.com
	MTK整合的在线系统：把eservice；DCC； File exchange；FAQ 都整合在一起；大家有时间多上此网站学习
	登录名：zhangzhefeng@sagereal.com
        密码：12121976
        
	Mtk附件下载 File exchange
        user name:nbbse-3 	
	password:sr2012

六、拉工程
 	L7：git clone git@140.206.112.146:SAGETEL82_V2.10_WET_KK
	svn co svn://172.16.78.128/MT6572_WET_JB3/trunk
	svn co svn://172.16.78.128/MT6572_WET_JB3/trunk_LCA
	svn co svn://172.16.78.128/MT6572_WET_JB3/tecno
	svn co svn://172.16.78.128/MT6572_WET_JB3/tecno_noGMS
	svn co svn://172.16.78.128/MT6572_WET_JB3/operator
	svn co svn://172.16.78.128/MT6572_WET_JB3/plus

	


	其中trunk分支为项目正常使用的分支，目前4.4版本仅有该分支，未来应该会在该基础上新建其他分支。
	而为了便于未来问题的查找和相关比较，特建立trunk_driver_only分支，该分支仅由相关驱动人员使用维护。


	同时，4.4版本的两个modem分支也已经上传建立。
	路径分别是svn://172.16.78.128/Modem_MT82_KK_WG
          	svn://172.16.78.128/Modem_MT82_KK_TG
		svn://172.16.78.128/Modem_MT6572_WET_JB3_WG



    82kk:svn co svn://172.16.78.132:3691/MT82_WET_KK/mbw
	     svn co svn://172.16.78.132:3691/MT82_WET_KK/trunk
    72kk:svn co svn://172.16.78.128/MT6572_WET_KK/trunk
         modem:svn co svn://172.16.78.128/Modem_MT6572_WET_KK_WG
    lte:svn co svn://172.16.78.132:3691/MT6582_6592_LWT_KK1/trunk
		kazam:svn co svn://172.16.78.132:3691/MT6582_6592_LWT_KK1/kazam
		ddm:svn co svn://172.16.78.132:3691/MT6582_6592_LWT_KK1/ddm
		operator:svn co svn://172.16.78.132:3691/MT6582_6592_LWT_KK1/operator
	modem:svn co svn://172.16.78.132:3691/Modem_MT6582_6592_LWT_KK1_W14A_V3
	l: git@172.16.64.1:ALPS.L0.MP8.V2.1_SAGETEL6735_65C_L.git 
		git@172.16.64.1:ALPS.L0.MP8.V2.1_SAGETEL6735_65C_L_modem.git 
	72l:git clone git@172.16.64.55:ALPS.L1.MP6.V1_SR6572_WET_L.git
	53l:git clone git@172.16.78.128:ALPS.L1.MP3.V2_SR6753_65C_L1.git
	72l patch:git clone git@172.16.64.55:patch.git
	m:git clone git@172.16.78.132:ALPS-MP-M0.MP7-V1.5_SR6755_65_M.git

	80l modem:git clone git@172.16.78.128:ALPS.L1.MP6.V2_SR6580_WE_L_modem.git
	35l modem:git clone git@172.16.64.55:ALPS.L1.MP3.V1_SR6735M_65C_L_modem.git
	53l mdoem:git clone git@172.16.78.128:ALPS.L1.MP3.V2_SR6753_65C_L1_modem.git 	
七、把某个原声软件包替换掉：
   首先要把最新的那个软件包（如Calendar整个文件夹）复制到packages/app里面，把原声的那个给去掉，接着要到project/trunk/trunk/mediatek/config,然后进入自己编的那个文件夹，在进入sagereal_copy文件夹，看看有没有你要替换的文件夹（如Calendar文件夹）相关文件，这些都是复制文件会把你有些东西覆盖掉，要把这些文件去掉，然后再编一下下到手机里就可以拉./mk up22_id_snami_m380 mm packages/apps/Calendar/;adb install -r out/target/product/up22_id_snami_m380/system/app/Calendar.apk


八、移植电话号码匹配长度
   首先打开trunk/mediatek/config/编译的项目文件夹/ProjectConfig.mk文件，然后查找SAGEREAL_MIN_MATCH_8，如果没有的话，加上SAGEREAL_MIN_MATCH_8 = yes
													      SAGEREAL_MIN_MATCH_9 = no
													      SAGEREAL_MIN_MATCH_10 = no
													       SAGEREAL_MIN_MATCH_11 = no
    然后打开trunk/mediatek/build/tools/javaoption.pm文件，然后查找SAGEREAL_MIN_MATCH_8，如果没有的话，加上SAGEREAL_MIN_MATCH_8 = yes
													      SAGEREAL_MIN_MATCH_9 = no
													      SAGEREAL_MIN_MATCH_10 = no
													       SAGEREAL_MIN_MATCH_11 = no
    然后打开trunk/frameworks/base/telephony/java/android/PhoneNumberUtils.java文件，然后进行判断else if(FeatureOption.SAGEREAL_MIN_MATCH_8){
      minMatchLen = 8;
  	    }
        else if(FeatureOption.SAGEREAL_MIN_MATCH_9){
           minMatchLen = 9;
	   }
        else if(FeatureOption.SAGEREAL_MIN_MATCH_10){
             minMatchLen = 10;
	   }
      else if(FeatureOption.SAGEREAL_MIN_MATCH_11){
            minMatchLen = 11;
 	  }
    判断好后就是可以执行这个代码，然后大工告成


九、 MTK_SPECIAL_FACTORY_RESET
    首先打开trunk/mediatek/config/编译的项目文件夹/ProjectConfig.mk文件，然后查找MTK_SPECIAL_FACTORY_RESET，没有的话，加上 MTK_SPECIAL_FACTORY_RESET=yes
    然后打开trunk/frameworks/base/data/keep_list/Android.mk，然后里面判断这个MTK_SPECIAL_FACTORY_RESET，如果是yes的话，会直接去运行keep_list和restore_list文件

十、移植软件版本号
    首先打开trunk/packages/apps/Settings/src/com/android/settings/DeviceInfoSettings.java文件，然后对照svn可视化软件中进行修改
    然后打开trunk/build/tools/buildinfo.sh文件，然后加上echo "ro.custom.build.srver1=$CUSTOM_BUILD_VERNO1"
                                                    echo "ro.custom.build.srver2=$CUSTOM_BUILD_VERNO2"
    然后打开trunk/mediatek/config/编译所在文件夹/projectconfig.mk文件，加入CUSTOM_BUILD_VERNO = V00_130524_UP02
							             CUSTOM_BUILD_VERNO1 = JB3
								     CUSTOM_BUILD_VERNO2 = _6572
    
十一、移植默认时区
   首先打开trunk/mediatek/config/项目所在文件夹/system.prop文件，然后加入#jiangcunbin add for timezone begin
								  persist.sys.timezone=Asia/Shanghai
								  #jiangcunbin add for timezone end
   然后重新编译，然后重新刷到机子里面看默认时区是否是自己加入的时区，是的话就大功告成了。

   L/M： 
	修改默认语言
	72l/ALPS.L1.MP6.V1_SR6572_WET_L/sagereal/mk/UP19_H3504_LP/ProjectConfig.mk
	# set locales & aapt config.
	PRODUCT_LOCALES :=fr_FR en_US ar_EG

	修改默认时区：
	72l/ALPS.L1.MP6.V1_SR6572_WET_L/sagereal/mk/UP19_H3504_LP/ProjectConfig.m
	config_timezone = Europe/Brussels


十二、文件浏览APK显示其缩略图
   首先打开trunk/mediatek/package/apps/FileManager/src/com/mediatek/filemanager/iconManager.java文件，具体修改参考svn可视化软件99

十三、.classpath路径：trunk/development/ide/eclipse/.classpath，该文件是隐藏的。

十四、移植根据SIM卡修改默认语言功能
   首先打开trunk/mediatek/config/编译的项目文件夹/ProjectConfig.mk文件，添加宏SAGEREAL_PRODUCTION = WET_LCA
                                                                       MTK_SPECIAL_FACTORY_RESET = no
                                                                       SAGEREAL_AUTO_SEARCH_LANGUAGE_BY_SIM = no
   然后打开trunk/mediatek/build/tools/javaoption.pm文件，添加SAGEREAL_AUTO_SEARCH_LANGUAGE_BY_SIM
   最后打开trunk/framework/opt/telephony/src/java/com/android/internal/telephony/MccTable.java文件，再 updateMccMncConfiguration()方法下添加if(FeatureOption.SAGEREAL_AUTO_SEARCH_LANGUAGE_BY_SIM){
                											setLocaleFromMccIfNeeded(context, mcc);
												    }

十五、G-sensor方向变化
   首先打开trunk/mediatek/custom/项目所在文件夹/Kernel/accelerometer/bma222E/cust_acc.c文件，再.direction = 后面加数字

十六、验证是否存在：开机后发现Home和Menu功能不正常
   首先打开trunk/package/apps/Launcher2/src/com/android/launcher2/Launcher.java文件，再OnResume()中加上这个判断，0表示两个键是关的，1表示两个键是开的
	if(Settings.Global.getInt(getContentResolver(),Settings.Global.DEVICE_PROVISIONED, 0) ==0){
  		Settings.Global.putInt(getContentResolver(), Settings.Global.DEVICE_PROVISIONED, 1);
	}
   然后打开trunk/package/apps/Launcher2/AndroidManifest.xml文件，加上<uses-permission android:name="android.permission.WRITE_SECURE_SETTINGS" />
(如果是再jb3就可以了，但是再kk上时还需要价格权限<uses-permission android:name="android.permission.WRITE_SETTINGS" />)

M：frameworks/base/services/core/java/com/android/server/pm/PackageManagerService.java文件中的setEnabledSetting方法中   ----->redmine62528
	  try {
                        if(packageName.equals("com.google.android.setupwizard")&&!(newState == COMPONENT_ENABLED_STATE_ENABLED||newState == COMPONENT_ENABLED_STATE_DEFAULT)){
                                    if(android.provider.Settings.Global.getInt(mContext.getContentResolver(),android.provider.Settings.Global.DEVICE_PROVISIONED, 0) ==0){
                                            android.provider.Settings.Global.putInt(mContext.getContentResolver(), android.provider.Settings.Global.DEVICE_PROVISIONED, 1);
                                }
                        }
                } catch (Exception e) {
                               // TODO: handle exception
                }




十七、Camera预览设置默认改为4：3，尽量添加宏控制
  首先打开trunk/mediatek/build/tools/javaoption.pm文件，添加宏SAGEREAL_CAMERA_RATIO_4_3
  然后打开trunk/mediatek/config/编译的项目文件夹/ProjectConfig.mk文件，添加宏SAGEREAL_CAMERA_RATIO_4_3 = yes
  最后打开trunk/packages/apps/Camera/src/com/android/Camera/CameraSetting.java文件,然后再resetIfInvalid(ListPreference pref, boolean first)中添加if(FeatureOption.SAGEREAL_CAMERA_RATIO_4_3){
            																		pref.setValueIndex(1);
            																	}else{
            																		pref.setValueIndex(0);
            																	}，
  接着要再initialCameraPictureSize(Context context,  parameters)中添加 if(FeatureOption.SAGEREAL_CAMERA_RATIO_4_3){
            										ratioString = supportedRatios.get(supportedRatios.size() - 2);
        									}else{
        										ratioString = supportedRatios.get(supportedRatios.size() - 1);
        									}
  注意：必须要import com.mediatek.common.featureoption.FeatureOption后重新编译一下（./mk mediatek/frameworks/common）才能使用FeatureOption.SAGEREAL_CAMERA_RATIO_4_3

十八、某个应用字体更换（可以直接百度使用第三方字库）
  首先要再package/apps/calculate/里面新建assets/fonts文件夹，然后把那个.otf/.ttf文件放到里面，然后到对应的控件里面 Typeface typeface = Typeface.createFromAsset(context.getAssets(), "fonts/HelveticaNeueLTStd-UltLt.otf");setTypeface(typeface);就可以了
  
十九、SD卡里面数据获取路径
	swap开:storage/sdcard0
	swap关:storage/sdcard1

二十、获取MTK抓log工具方法
  打开拨号界面，输入*#*#3646633#*#*，点击MTKLogger,然后把以前的都给删除重新开始，然后进行操作，操作结束后，通过USB连接把手机和电脑连接，打开mtklog/mobilog/mainlog

二十一、SIM卡联系人数量显示的与实际不符（SIM卡中有很多联系人，选择删除所有SIM卡联系人，删除过程中下拉状态栏，点击“联系人”正在运行，选择强制停止后返回联系人。sim卡中联系人的数量没有变，重启后才会减少。）
1、sim卡中的联系人删除原理：删除过程中首先删除的是sim卡里的数据，然后去删除数据库的数据，如果在删除过程中强制停止的话，可能就只删除了sim卡里面的数据，而还没有删除掉数据库的数据，然后再打开联系人的时候，它会根据数据库的数据进行更新，如果数据库没被 删除掉的话，联系人的数据也就不会变了，因此出现了上述的bug情况。
2、手机中联系人删除原理：删除过程中是直接删除数据库的数据，不会出现上述情况。
3、手机重启联系人会更新的原理：手机重启后，会先把数据库中关于sim卡的数据进行删除，然后再从sim卡中把那些号码导入到数据库，这样数据库的数据就会跟sim卡的数据一样，然后再从数据库读取数据显示出来就会是最新的。
4、无法修改原因：我通过调试和使用MTKlog抓取log的方法，在删除联系人的地方发现了有关它删除sim卡联系人的方法，然后进行修改，最终发现更新功能是能实现，但是删除的速度会减慢，本来是100条删除一次，现在变成每1条删除一次，这样会严重影响效率，而且该bug的操作我认为是非法操作，手机已经提醒如此操作会使数据发生错乱，综合上面种种原因，我认为该bug不用修改。
5、删除sim卡联系人数据具体方法：trunk/Packages/apps/Contacts/src/com/mediatek/contacts/list/DeleteProcessor.java中的runInternal()方法中。

二十二、modem编译方法
   首先下载代码,svn co svn://172.16.78.128/Modem_MT82_KK_WG,下载好后就要进行编译了，我们一般编的都是/make/SAGETEL82_WET_KK_HSPA.mak文件，所以编译的代码如下所示：./make.sh SAGETEL82_WET_KK_HSPA.mak new，编好后，就会多出build和build—internal文件夹，里面有六个文件需要我们修改名字（具体要修改那几个文件以及如何修改参考文档），然后把那六个文件拿出来，然后进入trunk/mediatek/custom/common/modem文件夹下面，然后新建个文件夹，把文件夹命名为“项目名+_hspa”（可以打开trunk/mediatek/config/项目名/ProjectConfig.mk文件，搜索custom_modem即可）,然后把那六个文件放到这个文件夹下即可。



二十三、(情景模式)勾选触摸提示音，每次约5s后第一次触摸时触摸音较小，之后触摸声音会变大一点(主要还是要注意kernel修改以后怎么把它烧到手机里面去)
   注意：先进入mediatek/config/所编的工程/ProjectConfig.mk,然后搜索CUSTOM_KERNEL_SOUND，看我们所使用su_android_speaker.c
   1.打开mediatek/custom/common/kernel/sound/上一步搜索出来的文件夹/yusu_android_speaker.c，然后把define CONFIG_DEBUG_MSG前面的“//”去掉，接着把define SPK_WARM_UP_TIME的参数改为50，然后再Sound_Speaker_Turnon方法下面加上了两句log。
   2.在终端里执行./mk sagetel82_wet_kk r kernel
   3.在终端里执行./mk bootimage
   4.在终端里执行./copy_sagetel82_wet_kk.sh
   5.然后用Release_SW文件夹进行刷机
   然后就可以了！

二十四、为什么第一次编译的时候要"./mk 工程名 new"，而第二次编的与上一次编的是同一个工程的话，我们直接"./mk new"就可以了？
   这是因为你把工程下下来后，第一次编译的时候会编译产生makeMtk.ini文件，然后再这个文件里面会把第一次输入的"./mk 工程名 new"中的工程名记录到这个文件里面,然后下次编译再你不写工程名的时候就会默认为makeMtk.ini文件的工程名

二十五、翻译的导入和导出
   framework、mediatek都可以一次性的导出和导入，packages要把它分成两部分进行导出和导入,不然到一半会出现错误！！
   埃塞俄比亚语言主要是改values-am、values-om-rET、values-ti-rET这三个里面的的string、mtk-string、array！！
   一般全局搜索有%的，然后按照value里面的进行修改，还有就是直接是'的要改成\'

二十六、拷贝文件的使用
   首先打开mediatek/build/custgen.mk，然后搜选一下是不是已经写入该拷贝文件，如果有的话可以直接拷贝，如果没有的话，应该添加
       $(shell cp $(TOPDIR)mediatek/config/$(PROJECT)/sagereal_copy/build/Makefile       $(TOPDIR)build/core/Makefile)，相当于把左边的拷贝到右边的，也就是左边的再改，然后右边的也会随之改变，改好后，你可以编译一下这个项目
   然后修改一下左边的文件，看看右边的文件有没有随之改变（kk以上的版本可以./mk custgen）
   注意：一个工程只能编译一个项目，如果你想编译该工程的另一项目，你必须要重新拉一份代码,然后再重新编译一遍

二十七、通话界面的修改
   编和push都是用Dialer
   ./mk sagetel82_wet_kk mm packages/apps/Dialer/; adb push out/target/product/sagetel82_wet_kk/system/priv-app/Dialer.apk system/priv-app

二十八、外部摁键的使用
   当外部摁键被摁下时，代码中一般可以搜索KEYCODE_DOWN

二十九、fota升级注意点：
     当做两个差分包的时候，也就是去编两个版本的时候，首先要改一下开机动画，可以使升级的时候有非常直观的改变
     当两个差分包编好后，你要到projectConfig.mk文件中修改下版本号，再无限升级的检测出来后看看版本号或者什么有没有改的

三十、
    经常会出现开机logo显示正确，而关机充电图标显示乱，
原因：1、我们少修改了一个文件mediatek/custom/common/lk/include/target/cust_display.h)以tecno的UP07为例，config文件中BOOT_LOGO=fwvga_tecno_d7 
tecnoD7项目是FWVGA的分辨率，因此需要在cust_display.h的FWVGA最后添加一句
#elif defined(FWVGA) || defined(CU_FWVGA) || defined(CMCC_FWVGA) || defined(FWVGA_TECNO_D7) (这个的分辨率是fwvga 480*854，所以每个项目都要到projectConfig.mk文件中找到手机对应的分辨率)
如果你的分辨率是320*480的话，就要在该文件中的#elif defined(HVGA) || defined(CU_HVGA) || defined(CMCC_HVGA) || defined(CT_HVGA) || defined(HVGA_UP11)加了，可以直接搜索分辨率(320*480)
注：BOOT_LOGO中定义的是小写的，而cust_display.h中需要写成大写的
     2、你要去看mediatek/custom/common/lk/logo中的图片的分辨率是否正确！


三十一、featrueoption的位置
    out/target/product/mq16_h451_t3_p/obj/JAVA_LIBRARIES/mediatek-common_intermediates/FeatureOption.java（看宏编译后生成的是什么就再java文件中调用什么，注意有些宏再projectConfig.mk文件中的宏名字和featrueoption产生的宏名字不一样，如果我们要使用这个宏的话以编后再featrueoption生成的为准）

三十二、usb默认联接用Media device(MTP)而不用USB Storage
   方法：[FAQ04464] [USB]如何修改USB连接后的默认功能
		/build/core/main.mk中搜索 ADDITIONAL_DEFAULT_PROPERTIES += persist.sys.usb.config，会发现默认连接值用哪个可以用宏控制，MTK_MASS_STORAGE

三十三、短信字数到达一定数字短信变成彩信（redmine 6837）
	SAGEREAL_SMSTOMMS_LIMIT，这个宏要打开!
    该功能修改再MmsConfig.java文件里面！

	1.短信变为彩信？？？？

	解决：
	packages/apps/Mms/res/xml/mms_config.xml
	<!-- Maximum number of SMS message segments in a long text message before converting the SMS message to an MMS message. -->
	<int name="smsToMmsTextThreshold">7</int>


三十四、如何用终端杀死进程
    第一步，查看当前有哪些进程，在终端输入命令：ps -A；
	第二步，中止该进程，在终端输入命令：kill 进程号（就是ps -A中的第一列数字PID，是英文Process IDentifier的缩写），或者输入 killall 进程名（ps -A中的最后一列CMD）。如果上述命令不成功，则可以利用下面命令强制中止该进 程：kill -9 进程号 		或者 killall -9 进程名。
	注：详细方法，可以在终端输入man kill 或 man killall。

	上述是电脑上的进程，如果是手机里面的话，要在终端中输入adb shell ps,然后kill -9 +进程号（暴力杀）

三十五、当用USB链接的时候，USB名称修改
    1、打开/system/vold/Fat.cpp，然后 if(isInttrunkernalSd)下面把要修改的名字修改了！（相当于我的电脑上显示出来的名称）
	2、是按照客户需求名称汇总表20131105文件修改！（这个是虚拟机上面的设备-->分配设备）

三十六、PhoneInterfaceManager对应的接口是ITelephony.aidl


三十七、照片-详情：Maker：DDMBrands；Model：使用项目名称（C语言中如果宏之前加#ifdef #else #endif #define必须要加#-->这叫预定义）
        1、mediatek/custom/mt6572/hal/camera/camera/camera_custom_if.cpp中修改（jb3），可以搜索CUSTOM_EXIF_STRING_MAKE
	2、mediatek/custom/up09l_h401_ddm_single/hal/inc/camera_custom_exif.h（kk），可以搜索CUSTOM_EXIF_STRING_MAKE
	3、mediatek/custom/common/hal/inc/camera_custom_exif.h（kk），可以搜索CUSTOM_EXIF_STRING_MAKE
        4、../sagereal/mk/UP19_H353_Vodacom/full_sr6572_wet_l.mk (l),可以搜索PRODUCT_MANUFACTURER和PRODUCT_MODEL


三十八、launcher界面最下面排顺序（Hotseat）-->[FAQ10350] 如何修改Allapp Button的位置
	1、/packages/apps/Launcher2/res/xml/default_workspace.xml中修改除了app button以外按钮的顺序，就是Hotseat
	然后/packages/apps/Launcher2/src/com/android/launcher2/Hotseat.java中有一个Allapp Button的默认位置，是通过/packages/apps/Launcher2/res/values/config.xml中的hotseat_all_apps_index值设置的，如果你要把all button的位置也修改了，必须要把这个hotseat_all_apps_index默认值给修改了,当然那个默认值修改后你要把default_workspace.xml中的hotseat的其他图标的位置做相应的修改！
	2、/packages/apps/Launcher3:
	DynamicGrid.java文件
	hotseatAllAppsRank = (int) (numColumns/2); //默认是列数除以2取整，可以设置为需要的值,(比如说(int) (numColumns/2)-1就是相当与把Allapp Button向左移动了一位，当然在default_workspace.xml中要把原来在Allapp Button左边的那个应用的位置给让出来！)

三十九、[6504]（设置）选择使用网络自动更新时间后，时间不准确
     进入frameworks/base/services/java/com/android/server/NetworkTimeUpdateService.java文件，然后把"203.160.128.59","2.android.pool.ntp.org","time-a.nist.gov"中的"203.160.128.59"注销掉，因为这个通过这个服务器获得的时间是有问题，导致了这个时间不准确！


四十、[6500](语音电话)SIM卡拨号与SIM卡位置存储的号码不一致
	描述：1、sim卡位置1存有电话号码  2、进入拨号盘，输入1#或其它数字加“#”  结果：拨号盘显示的号码不是对应的联系人里面存储的号码
	该问题不做修改，理由：1、该功能是按照每个联系人在sim卡里的排序进行的，然后如果删除某些联系人的时候，它就是单独把那几个的index去掉了，其他的index还是没变，如果我们对其进行修改后，使其删掉某些联系人的时候，其他的联系人进行重新排序，这样的话会导致代码运行过多，影响手机的运行速度。 2、该功能一般人是不知道的，对于大众性来说，没有必要修改这个功能。 3、MTK给我们的建议也是不用修改，工程量太大


四十一、[6509](情景模式)勾选触摸提示音，每次约5s后第一次触摸时触摸音较小，之后触摸声音会变大一点（第二十三条有详细步骤）
	进入custom/common/kernel/sound/amp_aw8145/yusu_android_speaker.c文件，然后把SPK_WARM_UP_TIME的数值修改！


四十二、[6410](通话记录)通话记录详情界面进入到电话本记录后，按返回键退出的不是上一个界面
	进入packages/apps/Dialer/src/com/android/dialer/CallDetailActivity.java文件，然后把onPostExecute（）中的mainActionIntent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TOP)注销掉！


四十三、[11203] pls remove the calendar option
	进入packages/apps/Mms/src/com/android/mms/util/MessageConsts.java把calendar的项给去掉，然后进入/packages/apps/Mms/res/values/mtk_arrays.xml把calendar的项去掉，最后进入/packages/apps/Mms/src/com/mediatek/ipmsg/ui/SharePanel.java文件把多余的一页去掉！

四十四、[11786](相机)后置摄像头拍照的预览大小更换为全屏后，再更换为4:3，默认像素变为8M
	   描述：手机默认像素为13.1M，后置摄像头的预览大小默认为4:3，更换为全屏后，像素变为6M，再更换为4:3后，像素默认为8M
		期望：更换为4:3，像素应该仍然为默认值13.1M；全屏的像素为6M，请确认是否正确
	 首先去找projectconfig.mk文件中的CUSTOM_HAL_MAIN_IMGSENSOR（后摄像头），然后按照这个找到/mediatek/custom/mq16_h504_c5vp/hal/imgsensor/ov8858_mipi_raw/config.ftbl.ov8858_mipi_raw.h文件，
     一般再java和xml文件中已经把每个比例的所有pictrue size都写进去了，只是config.ftbl.ov8858_mipi_raw.h这个文件中没有把所有的东西写进去（每个比例写了哪几个就在手机上显示哪几个尺寸）

四十五、紧急电话客制化
     [FAQ02892] 紧急号码的管理及客制化方法
	思想大义：framework\base\telephony\java\android\telephony\PhoneNumberUtils.java中的isEmergencyNumber为true，isSpecialEmergencyNumber为false
     1、不插卡时：framework\base\telephony\java\android\telephony\PhoneNumberUtils.java中的isEmergencyNumber(String number)方法中是有插卡和不插卡的两个方法(可以直接抓取log看，一般就能看出有卡和无卡情况下怎么修改)
	isEmergencyNumber(String number)方法中当int eccNo = 9;
	String []emergencyNumList = {"112", "911", "000", "08", "110", "118", "119", "999", "123"}中把要加的号码加上去（一般再SIM4的判断后面是无sim情况的）
    2、插卡时：打开 mdiatek\frameworks\base\op\java\com\mediatek\op\telephony\PhoneNumberExt.java，有isCustomizedEmergencyNumber(String number, String plusNumber, String numberPlus)方法，然后就可以在这里加上你要定制的紧急拨号号码！（特殊情况：如果是去掉911号码要在PhoneNumberUtils中判断sim1的时候（有注释的），直接在判断方法中把911去除）
    ps：编译mdiatek\frameworks\base\op\java\com\mediatek\op\telephony\PhoneNumberExt.java该文件的时候可以编译./mk -t mm mdiatek\frameworks\base

    ps:在插入卡的时候会发现在默认112、911为紧急拨号，如果要去除的话，要在frameworks/opt/telephony/src/java/com/android/internal/telephony/uicc/SIMRecords.java文件中handleMessage(Message msg)方法中 case EVENT_GET_SIM_ECC_DONE和case EVENT_GET_USIM_ECC_DONE下有个mEfEcc = "112,911"

   [FAQ21186] 特定运营商紧急号码配置（After Android O）


四十六、查看sim卡信息
	 *#*#4636#*#* 

四十七、改了宏该如何编译
     需要编译mediatek/frameworks/common(不需要push进去)，然后把使用宏的java代码重新编译一下，push到手机上就会有新的现象产生！

四十八、[FAQ09296] 如何将APN设置为不可编辑

四十九、通过蓝牙连接去使用另外一台手机的数据流量，去掉E图标或者H图标
      eservice：ALPS01658238

五十、通过终端找字符串
     find .|xargs grep -n --color "orange"
	 grep "字符" ./ -r(./代表当前文件夹，-r代表遍trunk历)

五十一、如何确定全屏时屏幕比例
     再projectConfig.mk文件中搜索LCM，会找到一个宽度和一个高度，然后比一下就会出来全屏的比例！

五十二、如何清空编译后生成的资源文件包
	去掉/out/target/common/obj/APPS里面中你想要去掉的模块的包

五十三、拉某一版本的代码
   svn co -r 版本号 svn://172.16.78.132:3691/MT6582_6592_LWT_KK1/operator

五十四、给文件可执行的权限
    chmod a+X 文件名

五十五、如何添加被svn ignore的文件
     svn add --no-ignore *.a

五十六、如何用logcat抓取log
      adb logcat > test.txt（再test.txt文件中显示）
		adb logcat |grep "index1 = "(再终端显示)  （|grep "index1 = "是按照这个搜索出来的的显示出来）。
      抓取log
      adb logcat -s + TAG
      adb logcat | grep "log中关键字“
      adb logcat > log.txt  没有时间点
      adb logcat -v time  >log.txt
      adb logcat -v threadtime > long.trace.txt


      分配空间：adb logcat -G 200M
     抓取kernel_log
	adb shell cat /proc/kmsg > log.txt

五十七、如何修改actionbar上面的颜色
     一般可先找到该activity到底是使用了哪种主题或者style到value/theme.xml（或style.xml）文件中找到相应的主题或者style，用android:windowBackground去设置！

五十八、camera闪光灯默认情况
     可以打开package/apps/camera/res/values/string.xml,然后搜索pref_camera_flashmode_default就可以了！(R.styleable.ListPreference_defaultValue要去搜索defaultValue而不是去搜索ListPreference_defaultValue)

五十八、默认声音改成80%
     可以打开/frameworks/base/media/java/android/media/AudioService.java，可以发现MAX_STREAM_VOLUME，这个数组里面有各种声音的最大值，STREAM_NOTIFICATION和STREAM_ALARM应该改成80%，然后进入/frameworks/base/media/java/android/media/AudioManager.java，搜索DEFAULT_STREAM_VOLUME，然后把STREAM_RING和STREAM_ALARM改成15x80%=12就可以了
	打开mediatek/frameworks/base/media/audio/java/com/mediatek/audioprofile/AudioProfileManager.java，然后搜索DEFAULT_NOTIFICATION_VOLUME_GENERAL和DEFAULT_ALARM_VOLUME_GENERAL，把他们改成15x80%=12就可以了！

五十九、如何修改邮件帐号类型和邮件签名
     帐号类型：packages/apps/Email/res/xml/providers.xml（redmine16643）
     邮件签名：（redmine30687）
	M:mediatek/config/mq16_h504_c5ql/sagereal_copy/packages/apps/Email/UnifiedEmail/src/com/android/mail/compose/ComposeActivity.java  -->appendSignature方法下
		 if(TextUtils.isEmpty(newSignature)){
			newSignature  = getString(R.string.email_signature_h504_c5ql);
          	}
	M:mediatek/config/mq16_h504_c5ql/sagereal_copy/packages/apps/Email/src/com/android/email/activity/setup/AccountSettingsFragment.java  -->loadSettings()方法下
		if(TextUtils.isEmpty(accountSignature)){
           		accountSignature =getString(R.string.email_signature_h504_c5ql);
       		 } 
	M:packages/apps/Email/res/values/mtk_strings.xml
	M:packages/apps/Email/res/values-es/mtk_strings.xml

六十、如何使settings/printing/cloud print默认为off
     打开frameworks/base/services/java/com/android/server/print/UserState.java，然后enableSystemPrintServicesOnFirstBootLocked()方法中的 if (builder.length() <= 0) {
            return;
        }后面加上if (true) return; 
     相当于没有寻找到相关设备，默认就会是off 

六十一、如何使定位的默认值为high accurancy
     打开frameworks/base/packages/SettingsProvider/res/values/defaults.xml，把def_location_providers_allowed设置为gps,network，然后恢复出厂设置就可以了！

六十二、如何使make passwords visible默认为off
     打开frameworks/base/packages/SettingsProvider/src/com/android/providers/settings/DatabaseHelper.java，然后查看com.android.providers.settings的数据库（一般你一点击你要修改的项，数据库的最后一项就会自动改变），你找到要修改项的名字，这个项的名字show_password，然后可以看到再loadSystemSettings中没有进行loading，所以加上loadBooleanSetting(stmt, Settings.System.TEXT_SHOW_PASSWORD, R.bool.show_password)（主要是该数据保存存在叫system的table中，所以用loadSystemSettings）;show_password到frameworks/base/packages/SettingsProvider/res/values/defaults.xml里面去加这个字符串，然后值为false


六十三、如何是unknown sources默认为off
     打开frameworks/base/packages/SettingsProvider/res/values/defaults.xml，把def_install_non_market_apps改成false！

六十四、如何使vibrate默认为on
     打开mediatek/frameworks/base/media/audio/java/com/mediatek/audioprofile/AudioProfileManager.java，然后搜索DEFAULT_VIBRATION_GENERAL 改成true！

六十五、如何使dial pad touch tones默认为off
     打开mediatek/frameworks/base/media/audio/java/com/mediatek/audioprofile/AudioProfileManager.java，然后搜索DEFAULT_DTMFTONE_GENERAL改为false!

六十六、如何使screen lock sound默认为off (redmine36401)
     打开mediatek/frameworks/base/media/audio/java/com/mediatek/audioprofile/AudioProfileManager.java，然后搜索DEFAULT_LOCK_SCREEN_GENERAL改为false!

六十七、默认语言
     打开mediatek/cofig/项目名/projectConfig.mk文件，搜索MTK_PRODUCT_LOCALES，该值的最前面那个就是默认语言

六十八、默认键盘语言
     这个是写在数据库里面的！

六十九、下载DRM的音频文件，使用google play music无法播放，原生音乐app可播放。
	[FAQ10443] [Audio App] DRM下载的音频文件无法使用GMS play music播放。
    可修改DrmMtkDef.cpp文件，把有需要打开该格式的的APK名称添加到TRUSTED_APP数组中（比如说用google play music打开该文件，就可以在这个数组里面加上apk名字.注意该apk名字eclipse中的DDMS中显示的apk名字，不是Hierarchy中显示的apk名字），
TRUSTED_APP[TRUSTED_APP_CNT]这个数组我们要把TRUSTED_APP_CNT也要加上1（可全局搜索TRUSTED_APP_CNT）
	同样的，如果是视频文件，也可以使用类似的方式修改，把播放视频APK 添加到TRUSTED_VIDEO_APP中

七十、如何预先缩放图片到指定大小
	解决：
	Bitmap.createScaledBitmap(originalImage,view.getWidth(),view.getHeight(),true);

七十一、信号跳变如何分析
	解决：
	如果是想从log里面看modem上报的信号强度，可以在radio log里面搜 : +ECSQ:，然后看第一个参数的值，如果是99为无效，其他值是越小表示信号强度越弱；

七十二、如何模拟sim卡的mcc和mnc
	解决：
	只要在ApnSettings.java文件中的initSimState()方法的最下面添加一行代码 mNumeric = "21403";就可以模拟了
//jcb
七十三、widget显示的哪里修改？
    进入该apk对应的AndroidManifest.xml，然后搜索receiver，这个搜索到的就是对应的widget，然后搜索shortcut，这个搜索到的是快捷方式，快捷方式也可以再widget中显示出来！

七十四、显示在桌面的widget大小
    framework/base/core/res/res/value/dimens.xml中搜索default_app_widget_padding_left，default_app_widget_padding_right，default_app_widget_padding_top，default_app_widget_padding_bottom就可以了！

七十五、桌面显示的格数（也就是每行可以放几个apk，每列能放几个apk）
    Launcher2中可以直接再packages/apps/Launcher2/res/values/config.xml中搜索cell_count_x和cell_count_x即可
    Launcher3桌面的行数和列数都是在DynamicGrid.java中动态计算的，xml中无法配置--->[FAQ11476] Launcher3如何设置桌面的行数和列数？

七十六、1、./mk systemimage:可以编译后直接生成新的build.prop(比如说修改分区后可以这么操作，然后看一下build.prop里面的效果)
	2、修改分区后./mk ptgen，可以在out/target/product/项目名/scatter.txt中看分区大小是否发生变化

七十七、如何修改手写识别的画笔的颜色以及如何修改手势列表的背景颜色
	1、写的时候的颜色
		frameworks/base/core/java/android/gesture/GestureOverlayView.java中在初始化mCertainGestureColor的时候将 mCertainGestureColor 的值修改为1ea5de
	2、列表中手势图片的颜色
		packages/apps/tecno_ue_contacts/src/com/android/contacts/activities/GestureFeaturesSetting.java中的内部类GesturesLoadTask的onPreExecute()方法中添加如下代码即可
		mPathColor = android.graphics.Color.parseColor("#1ea5de");
	3、修改手势列表的背景颜色
		packages/apps/tecno_ue_contacts/res/layout/gesture_settings.xml文件中将 android:background="@drawable/gesture_setting_background" 都修改为 android:background="#fafaf7" 就行了
		packages/apps/tecno_ue_contacts/res/layout-hdpi/gesture_list_item.xml中将 android:background="#FFE8EFF0" 改为 android:background="#fafaf7" 就行了

七十八、在修改Preference上的内容之后，不会立刻刷新如何修改！
	  只要在设置好内容之后调用notifyChanged()就行了

七十九、如何获取屏幕密度！
	  DisplayMetrics metric = new DisplayMetrics();
	  getWindowManager().getDefaultDisplay().getMetrics(metric);
	  int density Dpi = metric.densityDpi;	//屏幕dpi

八十、如何在user模式下看模块修改的效果：
	./mk -o=TARGET_BUILD_VARIANT=user -t mm package/app/Settings,就会编译出apk 和 odex两个文件，两个都push吧。。。

八十一、[SFR bug 913]2G TCP Congestion Window (CWND) doesn't meet SFR requirements （redmine 17722）
		[SFR bug 912]2G TCP Receive Window (RWIN) doesn't meet SFR requirement （redmine17721）

八十二、[FAQ11629] KK Launcher2状态栏不透明

八十三、如何使桌面去掉没有app的页面
      打开/packages/apps/Launcher3/res/values/config.xml，然后把config_workspaceMaxScreenNum改为1（相当于说再其他页都没有app的情况下，launcher最多显示一页，当然如果其他页上面也有app，当然可以多页）
      config_workspaceDefaultScreen则表示默认的中间页，也就是按home键回到的那一页！

http://eportal.mediatek.com/



















八十四、linux下替换某些文件中的某些字符
	格式: sed -i "s/查找字段/替换字段/g" `grep 查找字段 -rl 路径`
	sed -i "/MTK_VOLTE_SUPPORT =/s/=.*/= no/" ----->  sed -i "/查找字段/s/需要替换的字段/想要替换成的结果/


八十五、如何看代码编的是user还是eng？
    进入该工程代码，然后打开终端，运行cat makeMtk.ini

八十六、如何使开机就运行某些文件，如service
    首先new一个BroadcastReceiver，
	public class BootCompleteReceiver extends BroadcastReceiver{

	@Override
	public void onReceive(Context context, Intent intent) {
		final String ACTION = "android.intent.action.BOOT_COMPLETED";
		android.util.Log.d("jiangcunbin","4444444");
		if(intent.getAction().equals(ACTION)){
			android.util.Log.d("jiangcunbin","555555");
        	Intent intent1 = new Intent(context,BBService.class);
       		intent1.setAction(BBService.START_SERVICE);
        	context.startService(intent1);
		}
		
	}
	}
   然后，再AndroidManifest.xml中
		<receiver
            android:name=".service.BootCompleteReceiver">
		<intent-filter>
             <action android:name="android.intent.action.BOOT_COMPLETED" />
		</intent-filter>
	</receiver>

八十七、如何去除bluetooth proximity
   mediatek/packages/apps/Bluetooth/profiles/prxm/AndroidManifest.xml，然后把
		<intent-filter>
			<action android:name="android.intent.action.MAIN" />
			<category android:name="android.intent.category.LAUNCHER" />
		</intent-filter>
   注销掉即可！

八十八、如何加上wireless input device
    再jb3上可以加，但是不能再kk上面加！

八十九、当fota夸平台升级的时候数据库出错怎么办？比如由于夸平台data区不变可能会导致数据库没有升级，导致出错
    可以再相对应的app里面的DBHelp.java文件中有升级数据库的方法，按照版本升级，找到相对应的数据库文件的onUpgrade（）方法，然后知道jb3的数据版本，比如说jb3的版本是43
		 if (oldVersion <= 43) {
				   try {
	                    db.execSQL("alter table " + Account.TABLE_NAME
	                            + " add column " + AccountColumns.IS_START +" integer" + ";");
	                    final ContentValues cv = new ContentValues(1);
	                    cv.put(AccountColumns.IS_START, 0);
	                    db.update(Account.TABLE_NAME, cv, null, null);
	                } catch (final SQLException e) {
	                    // Shouldn't be needed unless we're debugging and interrupt the process
	                    LogUtils.w(TAG, "Exception upgrading EmailProvider.db from v113 to v114", e);

	                }
                
            }

九十、togglebutton如何使用背景
    mSundayButton.setButtonDrawable(getContext().getResources().getDrawable(R.drawable.sunday_4));sunday_4里面可以设置点击和不点击的图片（normal和pressed）
	在布局文件中可以android:textOff=""  
        	android:textOn="" ，不然的话会在图片上出现on和off字样
	drawble/sunday_4：
	<?xml version="1.0" encoding="UTF-8"?>
	<selector xmlns:android="http://schemas.android.com/apk/res/android"
        android:exitFadeDuration="@android:integer/config_mediumAnimTime">
    <item
        android:state_checked="true"
        android:drawable="@drawable/friday_pressed" />
    <item
    	android:state_checked="false"
        android:drawable="@drawable/friday_normal" />
</selector>

九十一、浏览器书签怎么添加   --->chrome
 /home/jcb/project/72/72kk/502s/operator/packages/providers/PartnerBookmarksProvider/res/values里面的两个文件进行修改!

九十二、如何修改network mode的默认值
  打开/frameworks/base/telephony/java/com/android/internal/telephony/RILConstants.java，该文件中的PREFERRED_NETWORK_MODE是默认的network mode的值！

九十三、当发送短信时选择名字匹配时自动匹配错误时（redmine 21463）
   打开/frameworks/base/telephony/java/android/telephony/PhoneNumberUtils.java文件，normalizeNumber(String phoneNumber)中加上
		//Bug21463 jiangcunbin add 2014/11/11:begin
			if("*611".equals(phoneNumber) || "611".equals(phoneNumber)){
				Log.d("jiangcunbin","phoneNumber = "+phoneNumber);
				return phoneNumber;
			}
		//Bug21463 jiangcunbin add 2014/11/11:end


九十四、[Bug](相机)用闪光灯拍照声音会卡（redmine 20631）
	原因：拍照后loading的时候一个cpu不够用，可以直接强制开启两个cpu
	[FAQ12541] 拍照时强制开两个CPU

九十五、soft touch 左右中快捷键（menu键出现运行的文件）（具体可参考h502s_srf中的redmine 16884）-->虚拟键
	frameworks/base/policy/src/com/android/internal/policy/impl/PhoneWindowManager.java，加上keyCode == KeyEvent.KEYCODE_F12的判断
	frameworks/base/core/res/res/values/config.xml，然后<integer name="config_longPressOnHomeBehavior">1</integer>改为2，<bool name="config_dreamsEnabledByDefault">true</bool>改为false（config_longPressOnHomeBehavior中的值每个都是有不同意思的，可以到这个文件中去看，那里有注释）
	mediatek/custom/up16_sfr_h502s/kernel/touchpanel/GT9XX_V22/tpd_custom_gt9xx.h，把#define GTP_KEY_TAB	 {KEY_BACK, KEY_HOMEPAGE, KEY_MENU}改为#define GTP_KEY_TAB	 {KEY_BACK, KEY_HOMEPAGE, KEY_F12}
	l路径:/alps/kernel-3.10/drivers/input/touchscreen/mediatek/GT9XX_V24，如果在projectConfig.mk中去搜索touchpanel，然后如果发现在前面路径中没有这个touchpanel的文件夹，这时候就需要我们去/sagereal/mk/WQ30_H556_WINONA/sr6735_65u_l1_defconfig文件去中找具体用了哪个touchpanel
	M路径：kernel-3.18/arch/arm/boot/dts/sr6580_we_m.dts，在这个里面有个tpd-key-local= <158 172 88 0>;88为F12的值，139为MENU的值


	ps：为什么我们不能直接在menu的以前的方法上直接改成另一种方法实现bug的要求呢？那是因为menu里面的方法是不能修改的，不然CTS是过不了的，所以我们直接把KEY_MENU改成了KEY_F12，然后在	PhoneWindowManager.java，加上keyCode == KeyEvent.KEYCODE_F12的判断，这样就会不走keyCode == KeyEvent.KEYCODE_MENU,会直接走keyCode == KeyEvent.KEYCODE_F12

九十六、关于通话灭屏情况分析
	首先，如果在锁屏界面接听电话，一般是10秒后自动灭屏，如果是在非锁屏情况下接听电话，一般就是按照设置的sleep时间来灭屏（比如说30秒），然后当你在非锁屏的情况下30秒后灭屏下，如果在小于3——5秒情况下直接把屏点亮，会导致没有锁屏，接下来也会按照30秒来灭屏，如果在大于3——5秒后再把屏幕点亮，则屏幕会被锁屏（挂断电话后会发现出现在锁屏界面上），接下来通话过程中会10秒钟灭屏！

九十七、关于相机中Anti-flicker默认要求为Auto
    packages/apps/Camera/res/values/camera_arrays.xml里面有 
	 <string-array name="pref_camera_antibanding_default_array" translatable="false">
        <item>auto</item>
        <item>60hz</item>
        <item>off</item>
    </string-array>,然后这个就是默认值的修改方法，如果相机配有自动功能，则选择auto，如果没有则选择下面一个

九十八、[需求](GPS)GPS默认要求关闭
    frameworks/base/packages/SettingsProvider/res/values/defaults.xml，然后def_location_providers_allowed改为“”（空的），assisted_gps_enabled改为false

九十九、信号图标的显示（信号的具体的值）
    frameworks/base/op/java/com/mediatek/op/telephony/ServiceStateExt.java

一百、当修改incallui里面的东西的时候，应该编译dialer（kk）

一百零一、[bug](相机)相机连拍，手松开后，仍会继续拍照（redmine22662）
  分两种情况：1、虽然声音和拍照张数不符合，但是不会一直连拍到40张：长按快门连拍，快门声音比拍出的照片数量多。因为目前长按快门连拍时，声音的循环播放是AP端来控制的，跟拍照的次数没有关系，所以会不同步。
			2、松手后直接拍照到40张：packages/apps/Camera/src/com/android/camera/actor/PhotoActor.java中 onKeyUp(int keyCode, KeyEvent event)中的
				case KeyEvent.KEYCODE_CAMERA:最后面加上			                              
				 mContinuousShotPerformed = false;
                if (mCamera.getCameraState() == Camera.STATE_SNAPSHOT_IN_PROGRESS) {
                    cancelContinuousShot();
                } （redmine 2259）

一百零二、如何修改开机向导的界面及功能（redmine 23354）
    这个apk在ddm/mediatek/packages/apps/OOBE文件夹中！

一百零三、voicemail number设置（redmine 30533或者参考文档（文档再桌面总结中））
		/home/jcb/project/72/ddm/up09l_h401_ddm_sl/ddm/frameworks/opt/telephony/src/java/com/android/internal/telephony/gsm/GSMPhone.java,该文件中要修改的按照文档来
		/home/jcb/project/72/ddm/up09l_h401_ddm_sl/ddm/frameworks/opt/telephony/src/java/com/android/internal/telephony/gsm/SIMRecords.java
		主要是再SIMRecords.java中的setVoiceMailByCountry方法中把
			//mIsVoiceMailFixed = true;  //注释掉此语句以让用户能够修改
			isSetByCountry = true; 
			voiceMailNum = "*77";
            voiceMailTag = "Messagerie vocale";设死！然后把这个方法下面的mVmConfig.containsCarrier(spn)判断方法去掉，该方法是当把voicemail-conf.xml写进common.mk中才能检测到，我们使用简单方法是没有把这个文件写进去的，所以把该判断方法也是去掉的！ 

一百零四、[bug]0005636: ITA Vodafone italy PLMN name is wrong（把plmn中的"Voda IT"改成"VODAFONE IT"）
		M:mediatek/frameworks/base/telephony/etc/spn-conf.xml，把这个里面的"Voda IT"都改成"VODAFONE IT"

一百零五、[Bug](设置)重置情景模式后，BesAudEnh不会还原（redmine 22521）
      /packages/apps/Settings/src/com/mediatek/audioprofile/AudioProfileSettings.java修改，具体看bug

一百零六、如何看该项目的谷歌包的版本
     operator/vendor/google/products/gms.mk最下面有
	PRODUCT_PROPERTY_OVERRIDES += \
    	ro.setupwizard.mode=OPTIONAL \
    	ro.com.google.gmsversion=4.4_r5

一百零七、电话响时把接电话和挂电话、短信回复的标志显示出来（闹钟响起时也可以用这个方法）(通话)手机来电页面无接听、挂断、短信图标
    1、来电时图标一直显示：在GlowPadView的onDraw方法中调用showTargets(true);-->如果想要修改这块（电话和挂电话、短信回复的标志）的大小，可以再packages/apps/InCallUI/res/layout/answer_fragment.xml中<com.android.incallui.GlowPadWrapper中的height修改一下（GlowPadWrapper是继承GlowPadView的）

一百零八、eclipse中如何快速把android实例显示再手机上
   ctrl+F11：直接显示再手机上
   F11：不仅会显示再手机上还会出现调试状态

一百零九、apn修改
   mediatek/frameworks/base/telephony/etc/apns-conf.xml

一百一十、SIM Toolkit里面的东西修改位置
   mediatek/packages/apps/Stk1里面

一百一十一、ota pin修改位置
   /mediatek/packages/apps/Omacp/src/com/mediatek/omacp/message/OmacpMessageSettingsDetail.java

一百一十二、开机向导的修改位置（redmine25423）
  /home/jcb/project/72/ddm/up11_ddm_a35ei_tigo/ddm/mediatek/config/up11_ddm_a35ei_tigo/sagereal_copy/mediatek/packages/apps/OOBE/src/com/mediatek/oobe/advanced/SNSSettings.java中onCreate中 mUnSupportedType = new String[] { "com.android.exchange", "co.google","com.android.email" ,"com.skype.contacts.sync"};这个是一个不支持类型的数组，想去掉哪一项就这里加哪一项

一百一十三、当FTHI没有activity给你显示的时候，比如说是后台达到某个要求的时候直接出现在界面的最前面时，这时候是没有一个activity能起来的，这个时候要AlertDialog dialog = b.create();
                        dialog.getWindow().setType(WindowManager.LayoutParams.TYPE_SYSTEM_ALERT);把dialog当成系统的全局dialog（redmine24323）

一百一十四、来短信时点亮屏幕（redmine 25327）
	/ddm/packages/apps/Mms/src/com/android/mms/transaction/MessagingNotification.java，里面有个blockingUpdateNewMessageIndicator(Context context, long newMsgThreadId,boolean isStatusMessage)方法，这里面可以直接把屏幕点亮，PowerManager pm = (PowerManager) context.getSystemService(Context.POWER_SERVICE);
	        mWakeLock = pm.newWakeLock(PowerManager.SCREEN_BRIGHT_WAKE_LOCK | PowerManager.ACQUIRE_CAUSES_WAKEUP, "updateNewMessageIndicator");
	        mWakeLock.setReferenceCounted(true);
		mWakeLock.acquire(5000);

一百一十五、如何修改主菜单中的apk的名字
     第一种方法是直接进apk把字符串改掉
     第二种方法是config/up09l_h401_ddm_sl/sagereal_copy/packages/apps/Launcher2/src/com/android/launcher2/IconCache.java里面中的cacheLocked(ComponentName componentName, ResolveInfo info,HashMap<Object, CharSequence> labelCache)中 if(componentName.getPackageName().equals("com.android.stk")){
														info.title="Menu TIGO";
																		}
       config/up09l_h401_ddm_sl/sagereal_copy/packages/apps/Launcher2/src/com/android/launcher2/LauncherModel.java中getShortcutInfo(PackageManager manager, Intent intent, Context context,Cursor c, int iconIndex, int titleIndex, HashMap<Object, CharSequence> labelCache)中if(componentName.getPackageName().equals("com.android.stk")){
																					info.title="Menu TIGO";
	
一百一十六、如何播放音乐
		mediaPlayer = new MediaPlayer();
			mediaPlayer.setDataSource("/storage/sdcard0/aa.mp3");
			mediaPlayer.prepare();
			mediaPlayer.start();//开始音乐
			mediaPlayer.pause();//暂停音乐
			mediaPlayer.stop();//结束音乐
			
一百一十七、intent和intentFilter的区别
			intentFilter是intent的过滤器！				

一百一十八、(小部件)电量控制小部件无法从最大亮点切换到自动亮度（redmine 25309）,该问题是再jb3升级到kk时候出现的，原因是jb3上面是没有disable_aal这个参数，而到了kk是有这个参数的，当这个参数为0时才能正常操作					
		packages/apps/Settings/src/com/android/settings/widget/SettingsAppWidgetProvider.java中
		int secureMode = Settings.System.getInt(context.getContentResolver(),Settings.System.DISABLE_AAL);改成int secureMode = Settings.System.getInt(context.getContentResolver(),Settings.System.DISABLE_AAL，0)；

一百一十九、[bug](短信)在弹出短信界面输入回复内容后点击查看，输入的内容消失（redmine 21898）
	只要把写的那些字符直接通过startactivity中的intent传过去就可以了！

一百二十、如何知道哪些软件是用的google的？
	/vendor/google/apps/Android.mk，然后放进去的都是写的，LOCAL_OVERRIDES_PACKAGES 表明把后面的apk给覆盖掉了

一百二十一、apn以及spn的文件修改位置
	/mediatek/frameworks/base/telephony/etc/apns-conf.xml(apn上网用的)
	/mediatek/frameworks/base/telephony/etc/spn-conf.xml -->PLMN(网络运营商)

一百二十二、[bug](彩信)彩信添加多个附件发送时只能发送最后一个附件（redmine 25857）
	可看/home/jcb/桌面/sagereal资料/自己总结/编辑彩信时日历和联系人附件不能与其他附件共存，这个文件（online上有）

一百二十三、launcher界面上文件夹，打开文件夹后每个apk的名字颜色怎么修改？apk最下面还有一个edittext的颜色怎么改？（redmine 26132）
	1、/packages/apps/Launcher3/res/values/colors.xml中folder_items_text_color这个值就是apk名字的颜色值！
	2、/packages/apps/Launcher3/res/layout/user_folder.xml，里面可以直接设颜色！

一百二十四、launcher界面上的快捷方式的图标和字体间距怎么改？主菜单中的图标和字体间距怎么改？
	根据eclipse看布局可以看出，这个的view是BubbleTextView，然后搜索该BubbleTextView会发现有两个布局文件中用到了这个view，同时这两个view都是用了 style="@style/WorkspaceIcon，所以我们找到了WorkspaceIcon的style，然后加了个<item name="android:drawablePadding">-3dp</item>，这样间距就小了！
	根据eclipse看布局可以看出，这个的view是PagedViewIcon，然后搜索该PagedViewIcon会发现只有一个布局文件中用到了这个view，同时这个view都是用了style="@style/WorkspaceIcon.AppsCustomize，所以我们找到了WorkspaceIcon.AppsCustomize的style，然后可以通过修改<item name="android:drawablePadding">-3dp</item>来调节间距大小！

	如何界面上的快捷方式的图标和主菜单中的图标向上移：packages/apps/Launcher3/src/com/android/launcher3/Utilities.java
	static void resizeIconDrawable(Drawable icon) {
        	icon.setBounds(0, 0, sIconTextureWidth, sIconTextureHeight);
    	}    
	修改为
  	static void resizeIconDrawable(Drawable icon) {
        	icon.setBounds(0, -5, sIconTextureWidth, sIconTextureHeight-5);
    	}

	如何设置search bar、folder、Hotseat的宽和高 在DynamicGrid.java中
	
	packages/apps/Launcher3/res/values/dimens.xml中的dynamic_grid_search_bar_height是指search bar的大小，使用的地方就是DynamicGrid.java


一百二十五、待机界面和apk的图标缩小10%，也就所原先的90%
	packages/apps/Launcher3/src/com/android/launcher3/Utilities.java，然后setIconSize(int widthPx)方法中sIconWidth = sIconHeight = widthPx;修改为sIconWidth = sIconHeight = (int)(0.9f * widthPx);

一百二十六、壁纸位置/packages/apps/Launcher3/res/drawable-hdpi/中,然后调用是在/packages/apps/Launcher3/res/values-nodpi/wallpapers.xml（默认壁纸一般都是frameworks/base/core/res/res/drawable-nodpi/default_wallpaper.jpg，基本上拷贝）

一百二十七、卡槽与SIM卡不对应，卡槽1对应的是SIM卡2（redmine26271）
		这个问题主要是修改modem，然后修改后把ProjectConfig.mk中的CUSTOM_MODEM=band18_co_clock_simswitch_hspa

一百二十八、[Bug](音乐播放器)后台播放音乐，在锁屏界面无上、暂停、下一首切换按键（redmine 26247）
	/trunk_LCA/frameworks/base/packages/Keyguard/res/values-sw320dp/dimens.xml
			<dimen name="keyguard_security_height">320dp</dimen>
   			<dimen name="glowpadcontainer_bottom_margin">20dp</dimen>

 一百二十九、当预支google apk的时候，在vendor/google/apps/android.mk中应该怎么写？
		这个文件每个项目都是copy的，因为公共的这个文件时默认把所有google apk预置进去的，然后每个项目不是吧所有的apk都预置进去的，所以在copy的时候会把部分的apk去掉，所以可以在公共的vendor/google/apps/android.mk这个文件中来找


一百三十、Data Roaming: Set it OFF（redmine 21280）settings->SIM management->Roaming->Data roaming
		M:/frameworks/opt/telephony/src/java/android/provider/Telephony.java --> DATA_ROAMING_DEFAULT 改为(=)DATA_ROAMING_DISABLE ; 
		M:/mediatek/frameworks/base/telephony/java/com/mediatek/telephony/SimInfoManager.java --> DATA_ROAMING_DEFAULT 改为(=)DATA_ROAMING_DISABLE ; 
		M:/frameworks/base/packages/SettingsProvider/src/com/android/providers/settings/DatabaseHelper.java--> 
loadSetting(stmt, Settings.Global.DATA_ROAMING,"true".equalsIgnoreCase(SystemProperties.get("ro.com.android.dataroaming",String.valueOf(FeatureOption.MTK_CHIPTEST_INT))) ? 1 : 0);
																						 loadSetting(stmt, Settings.Global.DATA_ROAMING_2, "true".equalsIgnoreCase(SystemProperties.get("ro.com.android.dataroaming", String.valueOf(FeatureOption.MTK_CHIPTEST_INT))) ? 1 : 0);

一百三十一、System settings-SIM management-Roaming-Show roaming reminder: ALWAYS（redmine 21281）
		ProjectConfig.mk中SAGEREAL_NEVER_SHOW_ROAMING = no

一百三十二、projectConfig.mk文件需要定义的宏需要定义再哪里？
      AUTO_ADD_GLOBAL_DEFINE_BY_NAME-->这里定义的宏，当你使用这个宏的时候直接使用该名字，比如MTK_ACMT_DEBUG=no，使用时if（MTK_ACMT_DEBUG），这样就可以了
      AUTO_ADD_GLOBAL_DEFINE_BY_VALUE-->这里定义的宏，当你使用这个宏的时候直接使用该宏后面的值，比如SAGEREAL_PRODUCTION=UP19_H352_SY_E25，使用时#if defined(UP19_H352_SY_E25)，这样就可以了
	  AUTO_ADD_GLOBAL_DEFINE_BY_NAME_VALUE-->这里定义的宏，当你使用这个宏的时候要名字以及后面的值一起使用，

一百三十三、[bug](Recovery Mode) Recovery 模式中无法恢复出厂设置，即进入恢复出厂设置没有yes选项（redmine 26513）
	bootable/recovery/recovery.cpp，打开该文件const char* items[]中把第八项往上移（该bug我们是移到第二项），然后把chosen_item != 7改成chosen_item != 1

 一百三十四、ActionBar中添加返回箭头
	getActionBar().setDisplayHomeAsUpEnabled(true);已经有的不显示，请设置为false
	实现点击返回功能：
	((View)(findViewById(android.R.id.home).getParent().getParent())).setOnClickListener(new OnClickListener() {
			@Override
			public void onClick(View v) {
				finish();
			}
		});

一百三十五.用Photos播放视频，未播放的进度条颜色与背景色一致，看不到未播放的进度条(redmine 26528)
	/home/jcb/project/72/72kk/ddm/up29_h403_ddm/ddm/frameworks/base/core/res/res/layout/media_controller.xml

一百三十六、新建联系人添加头像，选择Crop Photo裁剪图片，不能保存头像，界面提示“Unable to save Photo edits”
		packages/apps/Contacts/src/com/android/contacts/activities/AttachPhotoActivity.java   -->onActivityResult中加intent.addCategory("android.intent.category.ALTERNATIVE");
		packages/apps/Contacts/src/com/android/contacts/detail/PhotoSelectionHandler.java -->getCropImageIntent中加intent.addCategory("android.intent.category.ALTERNATIVE");

一百三十七、mtklog中的aee_exp主要是上层报的错，而data/app_exp主要是kernel报的错

一百三十八、从jb3升级到kk，音量变成原来的一半
		因为jb3的音量最大值是7，而kk的最大值是15，所以当jb3存的音量是7时，升上去到kk后7相当于一半的音量


一百三十九、[bug](快捷方式)语言设置为阿拉伯语，添加快捷方式至桌面或删除桌面快捷图标，待机界面会先显示一下第二页再显示主页面（redmine 26599）
	 关于redmine 26599这个问题是在由于阿拉伯语显示的时候从右往左引起的，而我们其他的语言一般都是从左到右显示的
   	修改方法：/ddm/packages/apps/Launcher3/AndroidManifest.xml中的com.android.launcher3.LauncherApplication上有个android:supportsRtl="true"这个支持从右往左的功能，所以把这句话去掉就可以了，阿拉伯语的launcher也会从左往右	就不会这个问题了！

一百四十、[Bug](通话)连接蓝牙耳机，并插入有线耳机设备，接听电话，通话界面显示声音传出图标与实际不一致（redmine 26906）
	packages/services/Telephony/src/com/android/phone/BluetoothManager.java   -->mBluetoothHeadsetAudioState =intent.getIntExtra(BluetoothHeadset.EXTRA_STATE,  		BluetoothHeadset.STATE_AUDIO_DISCONNECTED);改成mBluetoothHeadsetAudioState =intent.getIntExtra(BluetoothHeadset.EXTRA_STATE,  BluetoothHeadset.STATE_AUDIO_CONNECTED);
	packages/services/Telephony/src/com/android/phone/AudioRouter.java	-->上面修改后会导致calculateModeFromCurrentState方法中的mWiredHeadsetManager.isHeadsetPlugged()和mBluetoothManager.showBluetoothIndication()都为true，所以我们就可以先判断mBluetoothManager.showBluetoothIndication()这个，判断好这个会自动return，然后就直接可以显示蓝牙通话的图标了！

一百四十一、[bug](日历)日历中的事件不能通过蓝牙分享（redmine 27043）
	打开packages/apps/Bluetooth/src/com/android/bluetooth/opp/Constants.java文件，然后 ACCEPTABLE_SHARE_INBOUND_TYPES = new String[] 中加上"text/x-vcalendar",在UNACCEPTABLE_SHARE_INBOUND_TYPES = new String[]中去掉"text/x-vcalendar",这样我们手机就可以通过蓝牙分享接收了，但是分享出去的话只能是同样这样修改的手机才可以！


一百四十二、camera拍照的的咔嚓声音的存储位置
   adb shell -->cd /system/media/audio/ui 

/home/jcb/project/72/72kk/ddm/up29_h403_ddm/ddm/frameworks/av/services/camera/libcameraservice/CameraService.cpp


一百四十三、calendar（日历）中新建日历中的REPETITION中的布局（redmine 27286）
	packages/apps/Calendar/res/values-land/dimens.xml中的<dimen name="recurrence_picker_width">440dp</dimen>

一百四十四、deskclock（闹钟）中新建的时候横屏的时候出现选择时间的布局（redmine 27285）
   frameworks/opt/datetimepicker/res/values/dimens.xml，<dimen name="extra_time_label_margin">-24dp</dimen>

一百四十五、[bug](定时开关机)定时开关机界面，上午、下午高亮显示错误（redmine 27288）
	/mediatek/packages/apps/SchedulePowerOnOff/res/values/colors.xml中<color name="ampm_on">#c6c6c6</color> <color name="ampm_off">#333333</color>   两个值换一下

一百五十五、某些apk的lib库在代码中的位置vendor/mediatek/up29_h403_ddm/artifacts/out/target/product/up29_h403_ddm/system/lib/libaudio_ics.so
	（也可以直接放在apk下面，但是android.mk要修改，按照如下在android.mk文件中加上下面语句
	*.so或*.a是：LOCAL_PREBUILT_LIBS += 1.so 2.so 3.a #还可以一次性加多个同类型的文件，这样的话，第3步就得将‘1’,‘2’,‘3’全部加入PRODUCT_PACKAGES
	*.jar是：LOCAL_PREBUILT_JAVA_LIBRARIES += 1.jar 2.jar
	如果是静态的*.jar，则是：LOCAL_PREBUILT_STATIC_JAVA_LIBRARIES += 1.jar 2.jar
		



一百五十六、当从jb3升级到kk的时候，如果左面上显示的是一个android机器人的图标，而不是再default_workspace中配置的apk图标
      进入packages/apps/Launcher2/src/com/android/launcher2/LauncherModel.java文件中，然后再loadWorkspace()中的case LauncherSettings.Favorites.ITEM_TYPE_SHORTCUT:下面加上
			if(intent.getComponent()!=null){
                                	if(intent.getComponent().toString().equals("ComponentInfo{com.android.contacts/com.android.contacts.activities.DialtactsActivity}")){
                                		Log.d("jiangcunbin", "istrue");
                                		ComponentName cn = new ComponentName("com.android.dialer", "com.android.dialer.DialtactsActivity");
                                		intent.setComponent(cn);
                                	}else if(intent.getComponent().toString().equals("ComponentInfo{com.google.android.dialer/com.android.dialer.DialtactsActivity}")){
                                		Log.d("jiangcunbin", "istrue");
                                		ComponentName cn = new ComponentName("com.android.dialer", "com.android.dialer.DialtactsActivity");
                                		intent.setComponent(cn);
                                	}else if(intent.getComponent().toString().equals("ComponentInfo{com.google.android.gallery3d/com.android.camera.CameraLauncher}")){
                                		ComponentName cn = new ComponentName("com.android.gallery3d", "com.android.camera.CameraLauncher");
                                		intent.setComponent(cn);
                                	}
                 }


一百五十七、[bug](设置)辅助功能中打开TalkBack，主菜单中的应用名称显示不全（redmine 27265）
		packages/apps/Launcher3/res/values/styles.xml，<style name="WorkspaceIcon">中去掉 <item name="android:ellipsize">marquee</item>；<item name="android:singleLine">true</item>改成false；加上<item name="android:maxLines">2</item>，如果显示为两行后还是有些被遮住就需要去修改图片和字体间的距离了，具体可以参照“第一百二十四条”


一百五十九、
     1、默认输入法的配置（默认输入法和默认输入法的语言）
     kk：进入projectConfig.mk文件，搜索DEFAULT_INPUT_METHOD=com.google.android.inputmethod.latin和DEFAULT_LATIN_IME_LANGUAGES=en_US，然后如果输入法是第三方的，必须要把客户提供的第三方软件也要编进去（把该apk放到packages/apps/中，然后在build/target/product/common.mk中也加上，让它编进去）
     L、M：   
	请在APK正确预置的前提下，再修改如下：
  	在InputMethodManagerService的systemRunning()函数， if (!mImeSelectedOnBoot) 的分支中修改如下
     	if (!mImeSelectedOnBoot) {
                   Slog.w(TAG, "Reset the default IME as \"Resource\" is ready here.");
                  // String preInstalledImeName = SystemProperties.get("ro.mtk_default_ime");
                  String preInstalledImeName = "第三方输入法的完整包名ID";
	或者直接修改build.prop中的ro.mtk_default_ime属性值，也可在system.prop中增加此属性值。只要修改完后，adb shell getprop ro.mtk_default_ime能获取到正确的预置输入法ID即可。

     2、[FAQ08909]如何实现把多个第三方输入法转换为系统输入法。 在输入法设置时候勾选框默认是勾选的。
 	PS：勾选的意思为进入Settings-->Language & input-->Current Keyboard中，会有这些多个第三方apk给你选择，而前面的默认是指这么多输入法会有一个默认的值
 
一百六十、sim lock(锁网的实现)
     一、首先是要下载对应的modem代码，通过shengjun的ppt里面的方法，把该锁的运营商给锁起来（custom/service/nvram/custom_nvram_sec.c这个文件中去锁网的时候最好用一个宏去控制下，做到一个项目一个宏，比如说加个宏__UP11_DDM_A35_EI_SINGLE_TELMA_SIM_LOCK__，然后还要去定义这个宏，那么就要进入make/文件夹中，然后按照其他项目建一个自己项目的.mak文件，再该文件中去定义前面的宏，再该.mak文件中的CUSTOM_OPTION +=后面加上宏），然后用./make.sh .mak(新加的.mak文件) new去编译这个modem，然后按照excel表格去把需要的文件拿出来放到mediatek/custom/common/modem/中
	ps：如果是升级下载的话必须还要修改modem的东西，不然的话升级下载后还是没有锁网现象，修改方法
	1、trunk/service/nvram/src/nvram_io.c这个文件中加上
	#if !defined(__SFR_H502S_SIMUNLOCK__) && !defined(__UP11_DDM_A35_EI_SINGLE_TELMA_SIM_LOCK__)
          EXT_ASSERT (KAL_FALSE, DISPLAY_ERROR(status),NVRAM_LOC_WRITE_IMPORTANT_DATA_FAIL , ldi->LID);
            return status;
	    #endif	
	#if !defined(__H5_MTN_SIMLOCK__) && !defined(__UP11_DDM_A35_EI_SINGLE_TELMA_SIM_LOCK__)
         EXT_ASSERT(KAL_FALSE, DISPLAY_ERROR(status), NVRAM_LOC_READ_IMPORTANT_DATA_FAIL, ldi->LID);
			#endif
	#if !defined(__H5_MTN_SIMLOCK__) && !defined(__UP11_DDM_A35_EI_SINGLE_TELMA_SIM_LOCK__)
	 EXT_ASSERT(KAL_FALSE, DISPLAY_ERROR(status), NVRAM_LOC_RESTORE_SUCCESS_READ_FAIL, ldi->LID);(这句话是在kk的版本上必须修改的，不然OTA方式升级没有问题，升级下载方式升级会出问题)
		#endif				
		（具体可以参照kk的modem）
	2、trunk/interface/service/nvram/nvram_editor_data_item.h中NVRAM_EF_SML_LID_VERNO加上1，同时用自己modem的宏控制下，
		如#elif defined （__UP09L_H401_DDM_SINGLE_SIMLOCK__）
			#define NVRAM_EF_SML_LID_VERNO               "008"
	二、除了上述的需要修改外还要在上层代码中打开SAGEREAL_SIM_ME_LOCK_SUPPORT = yes

一百六十一、build/tools/buildinfo.sh脚本文件编译后生成的东西会在/out/target/product/项目名/system/build.prop中显示出来

一百六十二、SystemProperties.get("ro.custom.build.srver1",默认值）；这个"ro.custom.build.srver1"是从build.prop中去获取出来的！

一百六十三、状态栏（StatusBar）、长按home键出现的最近打开的app的界面（RecentActivity）都是属于systemui的


一百六十四、编辑图片后保存原图片（redmine 28347 ） 
		[需求]图库When you edit a picture it cannot modify the original picture, it has to created a copy of it
	使用SAGEREAL_SAVE_ORIGINAL_PICTURE=yes

一百六十五、如何用密令来查看adb shell里面每个文件夹的大小
       du -d 1 data/（查看data区下面的size大小）

一百六十六、如何在拉代码过程中暂停和复原
       暂停：ctrl+z
       复原：fg

一百六十七、音量控制代码的路径在哪里？（同时插上耳机且声音过重出现提示对话框）
      frameworks/base/core/java/android/view/VolumePanel.java


一百六十八、开机自启动某些apk的时候可以在哪里写？
     1、/packages/apps/Launcher3/src/com/android/launcher3/Launcher.java中的oncreate方法下直接启动某个apk（使用startActivity的方法）
     2、在systemui的地方直接去调用boot_complete的广播，然后直接启动某个apk（使用startActivity的方法）
     3、在settings的地方直接去调用boot_complete的广播，然后直接启动某个apk（使用startActivity的方法）
     4、在launcher的地方直接去调用boot_complete的广播，然后直接启动某个apk（使用startActivity的方法）
、
一百六十九、在开机向导结束之后会修改数据库将 Settings.Secure.USER_SETUP_COMPLETE 的值修改为 1，Google开机向导和OOBE开机向导都会修改这个值

一百七十、chip id 
	基带芯片的唯一的chip id（CPUID）
	Userdata的backup和restore是读取的chip id，此id在/proc/rid，如果不一样，就不能实现不同机器的userdata backup和restore，请知悉。

一百七十一、如何限制设备的语音通话功能
	在frameworks/base/core/res/res/values/config.xml中将config_voice_capable的值设置为false可以限制设备的语音通话功能，同时电话本会保留用以发信息，数据连接等功能也会保留，暂未发现其他bug

一百七十二、[Bug](自动开机)开机状态下拔下电池再插上电池，会自动开机
	该功能是kk新加的功能，短时间掉电后会自动开机，因此不用修改，谢谢

一百七十三、[bug](通讯录)联系人通过SD卡分享，状态栏中始终有通讯录的提醒，点击后也不会消失
	找到了在状态栏显示的那些代码，发现这个contacts is running这个是MTK的一个patch打上去的，建议不做修改！有风险！

一百七十四、[bug](日期格式)更改设置中的日期格式，待机界面中的日期格式不会随之变化（redmine 22595）

一百七十五、[bug]USB connection 默认设置（redmine 12762）

一百七十六、联系人->menu->place on home screen后显示在launcher的哪个页面？
   KK：packages/apps/Launcher3/src/com/android/launcher3/LauncherModel.java中的addAndBindAddedApps方法中int startSearchPageIndex = workspaceScreens.isEmpty() ? 0 : 2;（显示在idex为2的页面上，第一页是index为0）
   L、M：packages/apps/Launcher3/src/com/android/launcher3/LauncherModel.java中findSpaceForItem方法中 int preferredScreenIndex = workspaceScreens.isEmpty() ? 0 : 1;（显示在idex为1的页面上，第一页是index为0）

一百六十七、psensor/TP功能上层修改在哪里？上层控制psensor/TP的开关的方法是什么？
    上层修改在/packages/apps/InCallUI/src/com/android/incallui/ProximitySensor.java文件中的updateProximitySensorMode()方法中
	或者packages/apps/Dialer/InCallUI/src/com/android/incallui/ProximitySensor.java文件中的updateProximitySensorMode()方法中（N以后）

    上层控制psensor/TP的开关的方法是：
		1、开：mProximityWakeLock.acquire();
		2、关：int flags =(screenOnImmediately ? 0 : PowerManager.WAIT_FOR_PROXIMITY_NEGATIVE);
                        mProximityWakeLock.release(flags);

一百六十八、 Sim卡中的通话记录与NVRAM中通话记录的关系
下面通过几个关键点来介绍：
    1.Sim卡和NVRAM里面都存放有通话记录，但是Sim卡由于容量限制只存放已拨记录，并且已拨记录只包含名字和号码。
    2.当我们进入通话记录菜单的时侯，显示出来的通话记录是从NVRAM里读出来的，当我们产生一个新的通话时，通话记录也是更新到NVRAM里面去。
    3.Sim卡的通话记录和NVRAM里面的通话记录会进行同步,这个同步的做法是,关机的时候会把NVRAM的已拨通话记录更新到Sim卡里面去,开机的时候,会先判断Sim卡是否更换，如果更换了，则会删除手机的通话记录，然后将Sim卡的通话记录复制到NVRAM里面。
    4.Sim卡通话记录与NVRAM通话记录的同步是可以改变的，在10A上可以通过宏CFG_MMI_CLOG_SIM_SYNC_SUPPORT来控制，但是在10A之前没有类似的宏，所以需要手动修改代码。关机时候的同步过程是在phb_sync_handler里面完成的，所以只需定义__PHB_NVRAM_LN_ONLY__就可以免去这个过程；开机过程的同步是在phb_startup_erase_ln完成的，只要在函数前面加上两条语句直接返回即可：phb_init_ln_confirm(PHB_ERRNO_SUCCESS, control_block);  return;  

一百六十九、[FAQ10474] 如何在Launcher的主菜单中隐藏某个应用？

一百七十、[FAQ04294] 如何定制Launcher主菜单中应用程序图标的显示顺序? -->Launcher2/res/xml/default_toppackage.xml

一百七十一、[FAQ11441] Launcher3中主菜单的布局如何调整(譬如从5*4调整为4*4)?
	Launcher3主菜单布局的行数和列数，都是在DynamicGrid.java中动态计算的，xml中无法配置。
	如果想修改主菜单的布局，调整行数和列数，请修改DynamicGrid.java中allAppsNumRows和allAppsNumCols的值。
 
一百七十二、kk上数据链接图标修改/frameworks/base/packages/SystemUI/src/com/android/systemui/statusbar/policy/TelephonyIcons.java

一百七十三、如何启用ondraw()方法
         通知view重绘可调用invalidate()方法（ui线程中）或者调用postInvalidate()方法（非ui线程中）

一百七十四、onTouchEvent或者onKeyDown等方法返回值
       如果retrun true就是说不会传播下去了，也就是说如果自己的view上onKeyDown的方法中retrun true，就意味着他的上一层（调用他的activity中）的onKeyDown方法不会被调用，如果return false就是说还是会传播下去的
	传播顺序：按键上的事件监听器(button.setOnKeyListen(new onkeylistener))>组件提供的事件回调方法（自定义的view中的onKeyDown方法）>自定义组件所在的activity中提供的事件回调方法（自定义的view所在activity中的onKeyDown方法）


一百七十五、如何查看电脑的ip地址等信息
       打开终端，输入ifconfig即可

一百七十六、手势检测
     在activity中GestureDetector gestureDetector = new GestureDetector(new OnGestureListener() ，然后OnGestureListener()里面的都是各种手势检测的方法，当然还要加上
	public boolean onTouchEvent(MotionEvent event) {
		// TODO Auto-generated method stub
		return gestureDetector.onTouchEvent(event);
	}这个方法，最重要的是gestureDetector.onTouchEvent(event)这句话，相当于把activity中的touchEvent方法交给gestureDetector处理


一百七十七、快捷方式不能更新
     72KK与82KK有一个共性问题，某些老版本的apk在安装后第一次打开会在Idle界面自动生成一个快捷方式，然后更新此apk，发现自动生成的这个快捷方式图标未更新，QQ新老版本就有这个问题存在；
  纠其原因，是因为apk自己生成的那个虽然与应用程序图标相同，但却是一个shortcut，而我们手动拖出来放在桌面上的却是application，而源码中只判断了application，因此造成了这个现象的产生；
  现已经在所有KK分支中上传；
 
     该问题并不是很严重，目前只发现QQ满足以下三点：
	1.新老版本图标不同
	2.打开后会自动在桌面生成图标
	3.生成的图标是shortcut类型的
  如后续客户在他们自己使用apk的过程中发现了该问题，还请集成组同时更新以下代码：
  packages/apps/Launcher3/src/com/android/launcher3/Workspace.java
  packages/apps/Launcher2/src/com/android/launcher2/Workspace.java

一百七十八、speed dialer（快速拨号修改）
  比如说长按3拨打“*611”
  1、当长按3的时候直接用拨打电话的方法拨打*611，而不是显示是否去添加快速拨号的对话框
	DialpadFragment.java中的onLongClickInternal(View view)方法中的 if (isDialed) 下面改成
		if(key == 3){
        		Intent intent = new Intent(Intent.ACTION_CALL_PRIVILEGED, Uri.fromParts("tel",
                        "*611", null));
                intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
                getActivity().startActivity(intent);
              //jiangcunbin modify for speed dial by redmine 29826 end
        	}else {
        		/// M: fixed CR ALPS01082215.use a function to show dialog
        		showSpeedDialConfirmDialog();
        	}
   2、手动设置快速拨号界面中第三行直接显示*611且不可编辑
     	SpeedDialManageActivity.java中的onListItemClick方法中的position == 0变成position == 0 || position == 2
        	 populateMatrixCursorEmpty方法中加上
			if(i == 2){
        			matrixCursor.addRow(new String[] {
                        	"3", "*611", "", "", "", ""
               		 });

一百七十九、incalluiactivity界面中显示名字的地方：CallCardFragment.java文件中的setPrimaryName(String name, boolean nameIsNumber)方法中
		通话记录显示名字的地方：CallLogAdapter.java文件中的bindView(View view, Cursor c, int count)方法中的String mName = info.name;
		拨号界面显示名字的地方：CallLogListItemView.java文件中的setCallLogName(CharSequence name, boolean isNameOrNumber)方法中

一百八十、获取当前task的topactivity
	ActivityManager activityManager = (ActivityManager) getSystemService(ACTIVITY_SERVICE);
	ComponentName cn = activityManager.getRunningTasks(Integer.MAX_VALUE).get(0).topActivity;
	ComponentName 格式为{包名/包名.类名} 
	可以通过ComponentName的getClassName()方法获得当前Activity类名 
	getRunninTask(int max)获得当前的max个task的list<ActivityManager.runningTask>，实际个数可能少于max个，取决于当前运行的task个数是否大于max个。 
	get(0)取得当前使用的runningTask,get(1)是上一次使用的runningTask 
	ActivityManager.runningTask的topActivity可以获得取得runingTask的顶层activity （当前屏幕正在运行的程序）
	注：要在androidmanifest.xml中，添加用户权限 
	<uses-permission android:name="android.permission.GET_TASKS">

一百八十一、lcd灯和led灯控制：
        打开终端，adb shell --> echo 255 >  /sys/class/leds/lcd-backlight/brightness(255是屏幕亮度，该值的大小为0--255，当该值等于0时就是黑屏，当该值等于255就是屏幕最亮)
	打开终端，adb shell --> echo 1 >  sys/class/leds/green/brightness(1是代表亮，0代表不亮)	

一百八十二、点击屏幕的时候（还未锁屏，刚灭屏），然后亮屏，这是在哪里修改？
	/frameworks/base/policy/src/com/android/internal/policy/impl/PhoneWindowManager.java文件中的userActivity()方法

一百八十三、frameworks/base/core/jni/android/graphics下面的都是画图的一些文件，像阿拉伯语其实都是画出来的！

一百八十四、如何修改某些plmn(plmn = mcc+mnc)的一些漫游或者显示的文件
	/frameworks/opt/telephony/src/java/com/android/internal/telephony/gsm/GsmServiceStateTracker.java
	N:frameworks/opt/telephony/src/java/com/android/internal/telephony/ServiceStateTracker.java
	哪些PLMN（PLMN=MCC+MNC）想不显示roaming图标就可以在customEhplmn中加上该主运营商和虚拟运营商的plmn就可以了（如果要把某个虚拟运营商去掉roaming图标，也要把主运营商的plmn加上去）
	如果要去获取主运营商和虚拟运营商，可以早radio.log中去搜索plmn
	
	MVNO(Mobile Virtaul Network Operator)虚拟网络运营商，没有自己的实体网络，通过租用MNO(Mobile Network Operator)的网络来提供网络服务

	[FAQ10438][NW]如何设定忽略国内漫游 ---> SIM卡的MCC跟网络MCC相同时，默认设定不属于漫游，不需要修改。如果需要修改，按照该FAQ，每个平台修改方法不同



     
一百八十五、当非ui线程中去使用组件的时候会报错
       如：Timer timer2 = new Timer();
        timer2.schedule(new TimerTask() {
			
			@Override
			public void run() {
				Toast.makeText(PlaneGameActivity.this, "jcb", 1000);
				
			}
		}, 1000);，Toast就相当与在非ui线程中使用ui组件，会报错，
     修改方法为：
	Timer timer2 = new Timer();
        timer2.schedule(new TimerTask() {
			
			@Override
			public void run() {
				runOnUiThread(new Runnable() {
					
					public void run() {
						Toast.makeText(PlaneGameActivity.this, "jcb", 1000);
						
					}
				});
				
			}
		}, 1000);	


一百八十六、settings--> display -->Brightness中亮度调节默认值怎么改？
  /frameworks/base/packages/SettingsProvider/res/values/defaults.xml中的def_screen_brightness这个是亮度值，然后def_screen_brightness_automatic_mode这个为亮度是否为auto，如果def_screen_brightness_automatic_mode为true，def_screen_brightness的值就不起作用，同理，如果def_screen_brightness_automatic_mode为false，亮度就按照def_screen_brightness的值来

一百八十七、（信息）在收到内容只有一个“=”的信息后，手机自动重启（redmine 9870）
	原因：
		01-01 03:11:31.515 501 517 E AndroidRuntime: *** FATAL EXCEPTION IN SYSTEM PROCESS: android.server.ServerThread
	01-01 03:11:31.515 501 517 E AndroidRuntime: java.lang.RuntimeException: Error receiving broadcast Intent { act=android.provider.Telephony.SMS_RECEIVED flg=0x10 (has extras) } in com.android.server.location.GpsLocationProvider$6@41676700
	01-01 03:11:31.515 501 517 E AndroidRuntime: at android.app.LoadedApk$ReceiverDispatcher$Args.run(LoadedApk.java:798)
	01-01 03:11:31.515 501 517 E AndroidRuntime: at android.os.Handler.handleCallback(Handler.java:800)
	01-01 03:11:31.515 501 517 E AndroidRuntime: at android.os.Handler.dispatchMessage(Handler.java:100)
	01-01 03:11:31.515 501 517 E AndroidRuntime: at android.os.Looper.loop(Looper.java:194)
	01-01 03:11:31.515 501 517 E AndroidRuntime: at com.android.server.ServerThread.run(SystemServer.java:1303)
	01-01 03:11:31.515 501 517 E AndroidRuntime: Caused by: java.lang.ArrayIndexOutOfBoundsException: length=0; index=0
	01-01 03:11:31.515 501 517 E AndroidRuntime: at com.android.server.location.GpsLocationProvider.gpsTestMessageParser(GpsLocationProvider.java:1902)
	01-01 03:11:31.515 501 517 E AndroidRuntime: at com.android.server.location.GpsLocationProvider.access$2400(GpsLocationProvider.java:98)
	01-01 03:11:31.515 501 517 E AndroidRuntime: at com.android.server.location.GpsLocationProvider$6.onReceive(GpsLocationProvider.java:1861)
	01-01 03:11:31.515 501 517 E AndroidRuntime: at android.app.LoadedApk$ReceiverDispatcher$Args.run(LoadedApk.java:788)
	01-01 03:11:31.515 501 517 E AndroidRuntime: ... 4 more
	说明上述原因是数组越界
	修改：frameworks/base/services/java/com/android/server/location/GpsLocationProvider.java中

一百八十八、如何在新的apk代码中去调用某些类的方法（反射）
        Class clazz = Class.forName("android.os.SystemProperties");  -->通过具体类名获取到具体的类
	Method method = clazz.getMethod("get", String.class);   -->通过上面拿到的类获取到get方法（String.class是参数的类型，相当于后面的"internal_sd_path"的类型）
	String path = (String) method.invoke(clazz, "internal_sd_path"); -->通过上面的类和方法获取到该方法运行后的结果（其中"internal_sd_path"为get里面的参数）
						这句话等于String path = SystemProperties.get("internal_sd_path")								
	Log.e("test", path);

       ps：有时候google把某些类的方法给@hide了，这就导致我们在其他apk上无法拿到这个方法，这时候就要用到反射
       @hide在新的sdk版本上越来越少，因为google会对每一个@hide的方法进行多次验证，如果验证完全没问题了就会把@hide给去掉



一百八十九、如何获取到phone storage的路径
     String path = SystemProperties.get("internal_sd_path")，L、M上不可用。	

一百九十、控制是否添加主题功能的宏是SAGEREAL_CUSTOM_SCENES

一百九十一、
     中国移动：band1、band8
     中国联通：band1、band8
     美频：band2、band4、band5
     欧频：band1、band8

一百九十二、关机命令：sudo shutdown -h +时间（时间为0时即为马上关机、时间不为0时就是按照该时间后关机）

一百九十三、int mHallSensorFaultMsgTag = 0；
	   msg.arg1 = ++mHallSensorFaultMsgTag;
        这个情况要遵循先加后赋值原则，即msg.arg1=0+1=1，同时需要知道mHallSensorFaultMsgTag也会变成1

一百九十四、ram：运存（即电脑上的内存条，手机中的运存512M）
	   rom：硬盘（即电脑中的硬盘，手机中的内外置T卡）

一百九十五、有序广播：按照priority去设置优先级，优先级比较高的先接受到广播，abortBroadcast()可以把中断广播，比如说在优先级1000的地方接收到广播后直接使用该方法，那么比这个优先级低的地方就接收不到广播了！
    普通广播：没有优先级，同时获取！
     

一百九十六、如何直接用终端看属性值
    连上手机，打开终端，输入adb shell getprop +属性值


一百九十七、如果apk有库文件怎么办？
如果该apk有lib库的话，也要把这个lib给内置进去，然后android.mk文件也需要修改，具体可参照其他项目的内置lib库的apk中的android.mk（预制在system区需要这个步骤，预制在data区或者vendor下的话就会开机自动去解析lib文件，不会出现找不到lib库报错问题）
库文件加的方法:	include $(CLEAR_VARS)
	LOCAL_MODULE := libLCEFnativeU
	LOCAL_SRC_FILES := libs/libLCEFnativeU.so
	LOCAL_MODULE_SUFFIX := .so
	LOCAL_MODULE_CLASS := SHARED_LIBRARIES
	LOCAL_MODULE_TAGS := optional
	LOCAL_MODULE_PATH := $(PRODUCT_OUT)/system/lib  -->相当于把库放到system/lib中，apk要用到的时候会直接去拿
	include $(BUILD_PREBUILT)
或者是把库文件拿出来放到/vendor/mediatek/项目名/artifacts/out/target/product/项目名/system/lib -->相当于把库放到system/lib中，apk要用到的时候会直接去拿


一百九十八、怎么样算gps状态改变
    1、关闭或者打开gps  2、搜到星的时候也算gps的状态改变

一百九十九、gps的各种方法使用具体可以看/home/jiangcunbin/Desktop/sagereal资料/自己总结/gps中的文件

二百、如何把终端中显示的东西打印到某个本地文件中？
    adb shell ls system/app >test.txt     (system/app为你要ls的路径)
    adb shell ls -l system/app >test.txt
    adb shell df >test.txt



二百零三、修改modem后应该怎么编译
	./mk update-modem ,然后直接生成新的刷机包就可以了


二百零四、apk全屏显示
    AndroidManifest.xml文件中加上android:theme="@android:style/Theme.Black.NoTitleBar.Fullscreen"


二百零五、Collections.sort排序
	Collections.sort(appsPackageName, comparator);
	举例：
		ArrayList<String> aa = new ArrayList<String>();
		aa.add("1");
		aa.add("2");
		Collections.sort(aa, comparator );
		Comparator<? super String> comparator =  new Comparator<String>() {

			public int compare(String lhs, String rhs) {
				// TODO Auto-generated method stub
				return Integer.valueOf(lhs)-Integer.valueOf(rhs);
			}
		};
		aa是什么类型的list，那么comparator的方法的参数就是什么类型的，比如说这个是string的list，那么生成的方法的参数就是String类型的，但是该方法返回的是一个int
        如果你要排序某些string的数组，那么可以给每个string中做个数字的排序，
        HashMap<String, String> hashMap = new HashMap<String, String>();
		hashMap.put("packageName","aa");
		hashMap.put("index", "1");
        ArrayList<HashMap<String, String>> appsPackageName =  new ArrayList<HashMap<String,String>>();
	appsPackageName.add(hashMap);
        相当于把string中的东西放到hashMap上，然后同时在hashMap中加上一个标记位，然后标记位去通过Collections.sort(aa, comparator );进行比较

二百零六、修改recovery后怎么快速编译
       ./makeMtk mm bootable/recovery/
	./makeMtk -opt=ONE_SHOT_MAKEFILE=build/target/board/Android.mk r recoveryimage
	然后把recovery.img单独down进去就行了


二百零七、*906#进入点代码写在哪里？
      /packages/apps/Dialer/src/com/android/dialer/dialpad/DialpadFragment.java文件中的afterTextChanged(Editable input)方法中加上
	//Bug31686 jiangcunbin modified for *906# 2015/04/20:begin
		String factoryTest = "*906#";
		if(mDigits.getText().toString().equals(factoryTest)){
			try{
				Intent factoryTestIntent = new Intent();
				factoryTestIntent.setComponent(new ComponentName("com.example.factorydevelopx","com.example.factorydevelopx.MainActivity"));
				factoryTestIntent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
				startActivity(factoryTestIntent);
			}catch(Exception e){
				e.printStackTrace();
			}
			mDigits.getText().clear();
			return ;
		}
	//Bug31686 jiangcunbin modified for *906# 2015/04/20:begin


二百零八、如何使data/nvram中的东西备份到bin区
打开mediatek/custom/common/cgen/CFG_file_info.c或mediatek/external/nvram/libcustom_nvram/CFG_file_info.c文件，然后找到aBackupToBinRegion[]这一个数组，把要备份到bin区写到这里，然后刷IMEI触动备份即可

二百零九、note邮件中如果回复收不到邮件怎么办
     打开Sagereal‘S Address Book在Webmail这个按钮，然后搜索出jiangcunbin，然后点击进入看Internet Address是否为jiangcunbin@sagereal.com

二百一十、如何隐藏主菜单里面的菜单
     第一种方法是按照online上的方法：隐藏某个App：FAQ10474  ->[FAQ10474] 如何在Launcher的主菜单中隐藏某个应用？
     第二种方法：新建一个class是继承AppFilter，可以参考/home/jiangcunbin/Desktop/sagereal资料/自己总结/launcher/RivoAppFilter.java文件，然后把要隐藏的文件放到这个文件的数组中，然后在/packages/apps/Launcher3/res/values/config.xml文件中<string name="app_filter_class" translatable="false">com.android.launcher3.RivoAppFilter</string>加上包名类名，然后调用的都是
RivoAppFilter里面的方法了！原理：launcherModel.java文件中的loadAndBindAllAppsList方法下面有个 mBgAllAppsList.add(apps.get(i));，然后实际上调用了AllAppsList.java文件中的add方法，然后在这个方法中 if (mAppFilter != null && !mAppFilter.shouldShowApp(info.componentName)) {
            return;
        }有这个方法，mAppFilter.shouldShowApp(info.componentName)为false就直接return了，就不会加到列表中了，其实我们就是把mAppFilter.shouldShowApp(info.componentName)中的方法修改了，现在的mAppFilter相当于就是RivoAppFilter


二百一十一、[FAQ08623]如何在滑动解锁界面添加“紧急拨号”按钮
	如需在滑动解锁界面添加“紧急拨号”，请修改EmergencyButton.java文件onFinishInflate()方法，将mIsSecure = mLockPatternUtils.isSecure()改为 mIsSecure = true。


二百一十二、怎样延长锁屏界面显示时间？
	屏灭状态，按power键，显示锁屏界面，然后又进入灭屏状态，现在显示锁屏界面，到又进入灭屏状态大概5s，怎样延长该时间到15s。
	修改KeyguardViewMediator.java中的KEYGUARD_LOCK_AFTER_DELAY_DEFAULT的值


二百一十三、startService和bindService的区别
	用startService去启动service的话，访问者和service没有太大关联，即使访问者退出了，service还是会在后台运行
        用bindService去启动service的话，访问者会和service绑定在一起，一旦访问者退出了，service也会随之停止


二百一十四、[需求](Factory Mode)All the menus should be in English
	MTK_FACTORY_MODE_IN_GB2312=no


二百一十五、android.mk文件中LOCAL_MODULE := TigoPortal_sl
			  LOCAL_SRC_FILES := $(LOCAL_MODULE).apk是apk显示的名字（adb shell进去后可以看到）-->必须跟apk包的名字一样
          每个apk中AndroidManifest.xml中的label是显示在launcher上面的apk名字


二百一十六、如何通过反射调用featureoption
       Class clazz = Class.forName("com.mediatek.common.featureoption.FeatureOption");
			Field[] fields = clazz.getDeclaredFields();                 //获取这个类里面的所有变量
			for (int i = 0; i < fields.length; i++) {
				if ("boolean".equalsIgnoreCase(fields[i].getType().getName())) {
					Log.e("zhangqi", fields[i].getName() + ":" + fields[i].getBoolean(clazz));
					builder.append(fields[i].getName() + ":" + fields[i].getBoolean(clazz) + "\n");
				}
			}


二百一十七、读取文件方法和写入文件方法
	读取文件方法1：
        private String path = "/sys/devices/platform/pcbid/pcbid"
		File file = new File(path);
		BufferedReader bufferedReader = null;
		if(file.exists()){
			try {
				bufferedReader = new BufferedReader(new InputStreamReader(new FileInputStream(file)));
				bufferedReader.readLine();
				.....
			} catch (FileNotFoundException e1) {
				// TODO Auto-generated catch block
				e1.printStackTrace();
			}catch (IOException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			}
		}

	读取文件方法2：
	private boolean proc_read_flash_light() {
	    	FileInputStream fileinputstream=null;
		byte abyte0[] = new byte[3];
	    	try {
	    		File procFile = new File("/proc/torch_config");
	    		if(procFile.exists() && procFile.canRead()) {
		    		fileinputstream = new FileInputStream(procFile);
		    		fileinputstream.read(abyte0);
	    		}
	    	} catch (Exception e) {
			e.printStackTrace();
	    	} finally{
	    		try {
	    			if(fileinputstream != null){
	    				fileinputstream.close();
	    			}
	    		} catch (Exception e) {
				e.printStackTrace();
	    		}
	    	}
		return abyte0[2] == 0x31 ? true : false;
    



	写入文件方法1：
	final File file = new File("/storage/sdcard0/jcb.txt");
	try {
		FileOutputStream fileOutputStream = new FileOutputStream(file);
		fileOutputStream.write(aa.getBytes());
		fileOutputStream.close();
	    } catch (FileNotFoundException e) {
		e.printStackTrace();
	    } catch (IOException e) {
		// TODO Auto-generated catch block
		e.printStackTrace();
		}

	写入文件方法2：
	private void proc_write_flash_light(boolean state) {
	    	FileOutputStream fileoutputstream=null;
	    		
	    	byte abyte0[] = new byte[1];
	    	if(state)
	    		abyte0[0] = 0x31;
	    	else
	    		abyte0[0] = 0x30;
	    		
	    	try {
	    		File procFile = new File("/proc/torch_config");
	    		if(procFile.exists() && procFile.canWrite()) {
		    		fileoutputstream = new FileOutputStream(procFile);
		    		fileoutputstream.write(abyte0);
		    		fileoutputstream.flush();
	    		}
	    	} catch (Exception e) {
			e.printStackTrace();
	    	} finally{
	    		try {
	    			if(fileoutputstream != null){
	    				fileoutputstream.close();
	    			}
	    		} catch (Exception e) {
				e.printStackTrace();
	    		}
	    	}
    	}


         ps：新建文件的方法private String path = "/sys/devices/platform/pcbid/pcbid" 
			File file = new File(path);
                	file.createNewFile();当然当使用new FileOutputStream(file)方法的时候也是会默认新建文件到指定路径的



二百一十八、1、如何在string中截取一段字符(String里面做了动作后一定要重新复制，不然没有效果)
	  	String gbStr = (float) space / 1024 / 1024 / 1024 + "";
          	String b = gbStr.substring（0，6），就是从第0位到第6位       -->一定要对b重新赋值，因为使用substring方法后gbstr值不会改变
           2、如何去掉string中前后的空格
                  String gbStr ="     jcb   ";
		  String b = gbStr.trim();   ' '(ps:为空格)的asc码为32，<=32的都会被去除，该方法不止去掉空格
	   3、equalsIgnoreCase -->可忽略大小写
              equals           -->不可忽略大小写

	   4、String aa = "adc"
              int cc = aa.indexOf("a"); ==>cc为“a”在aa这个字符串中的索引位置，即在第几个，该答案为0；如果该值为-1代表没有找到

二百一十九、如何使屏幕不灭屏
	getWindow().addFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON);-->保持屏幕不灭屏

二百二十、无法抓取log时将log写入到文件中的方法
	public static void Log(String tag, String str) {
    	File file = null;
	try {
		file = new File("storage/sdcard0/log.txt");
		if(!file.exists()) {
			file.createNewFile();
		}
	} catch (IOException e1) {
		e1.printStackTrace();
	}
	if (file == null) return;
    	FileWriter fw = null;
    	try {
		fw = new FileWriter(file, true);
		fw.append("\n" + System.currentTimeMillis() + "\t" + tag + ",\t" + str);
	} catch (IOException e) {
		e.printStackTrace();
	} finally {
		if (fw != null) {
			try {
				fw.flush();
				fw.close();
			} catch (IOException e) {
				e.printStackTrace();
			}
			fw = null;
		}
	}
    }

二百二十一、172.16.78.123通过Remmina Remote Desktop client打开，密码是88888123

二百二十二、watchDog的作用
	  Watchdog目的是监控系统几个比较主要的service，如果超过一定时间没有反应，认为系统出错，会强制重启Android.

二百二十三、ro.build.user（在build.prop）用来显示编译的电脑名字

二百二十四、控制gms包是否编译进去，可以用宏BUILD_GMS进行控制


二百二十五、activity什么时候去运行onDestroy()？
       必须要用activity.finish()方法，还有就是按手机中的后退键的时候










二百二十六、注意：
	new Thread(new Runnable(){
			public void run(){
				while(isTesting){
						if(isTestLed){
							showLed(index);
							Thread.sleep(1000);
							showLed(0);
							index = (++index) % 4;
				}
			}
		}).start();
	当isTesting这个为false的时候相当与thread就已经停了，不是说后面把isTestLed这个变成true后就会继续运行，停止以后必须重新运行start方法


二百二十七、L项目文件获取写入权限：
	[FAQ13635]Android L APP 如何获取sys file system 中节点的写权限+SELinux_Policy_Editing_Guideline这个文档
	device/mediatek/common/sepolicy/system_app.te 


二百二十八、当aidl绑定不成功的时候怎么办？
	if (null != fmInterfaceService ){
		 try{
			android.util.Log.d("jiangcunbin","startFM");
			fmInterfaceService.startFM();
		}catch(RemoteException e){
			 e.printStackTrace();
		}
	}else{						-->重新去绑定
                 android.util.Log.d("jiangcunbin","重新绑定1");
		isFailed = true ;
		Intent aidlIntent = new Intent();
        	aidlIntent.setAction("android.intent.action.START_FM_SERVICE_AIDL");
       		bindService(aidlIntent,conn,Service.BIND_AUTO_CREATE);
                      		 	} 


	   private ServiceConnection conn = new ServiceConnection()
   	{
          @Override
		public void onServiceDisconnected(ComponentName name) {
			// TODO Auto-generated method stub
			fmInterfaceService = null;
			Log.d("xiejianlong", "绑定失败1");
		}
		
		@Override
		public void onServiceConnected(ComponentName name, IBinder service) {
			// TODO Auto-generated method stub
			Log.d("xiejianlong", "绑定成功1");
			fmInterfaceService = FMInterface.Stub.asInterface(service);  //获取远程service的onBind()方法返回的对象的代理
			if(isFailed = true){			-->重新绑定后如果绑定成功了就直接在这里进行aidl需要的动作
				//这边isFailed是一个flag，只有当第一次绑定失败的时候才会掉这里的方法，不然就直接在前面直接调用需要的动作了
				if (mAudioManager.isWiredHeadsetOn()){
					try{
				        	android.util.Log.d("jiangcunbin","重新绑定后startFM");
						fmInterfaceService.startFM();
					}catch(RemoteException e){
						e.printStackTrace();
					}
				}else{
					try{
						android.util.Log.d("jiangcunbin","重新绑定后closeFM");
						fmInterfaceService.closeFM();
					}catch(RemoteException e){
						e.printStackTrace();
				}	
			
			}	
			
			Log.d("xiejianlong", "fmInterfaceService="+fmInterfaceService);
			
		}
	}
 
   
   };


二百二十九、如何使用thread?
	new Thread(new Runnable(){
			public void run(){
				while(isTesting){  -->这个只有在activity为ondestory的时候才会是false，一般情况下都是true的，就是要保持这个线程一直在运行，然后通过isTestLed这个参数去控制是否有效果，这样的好处就是你不管怎样多次进入该activity都是只有一个线程，如果你在onresume的地方去通过new Thread(vibRunnable).start()去启动的话，会导致多次进入线程后会有多个线程起来
					try{
						if(isTestLed){
							showLed(index);
							Thread.sleep(1000);
							showLed(0);
							index = (++index) % 4;
						}else{
							Thread.sleep(1000);
						}
					}catch(Exception e){
						e.printStackTrace();
					}
				}
			}
		}).start();

注意：一般性线程的关闭与否就直接用上面的isTestLed去控制，不要用Thread.stop()方法去控制，这样可能导致thread中的方法还没运行完直接被你stop掉了，比如说工厂测试的led灯，他是在线程中一秒亮一秒后灭的，如果你去stop的话这样的就很大可能在亮起的时候直接被stop掉了，这样你跳出应用也一直亮着，没有执行灭灯的动作



二百三十、手机安装apk的代码：/packages/apps/PackageInstaller/src/com/android/packageinstaller/
	在PackageInstallerActivity.java这个Activity中：
		1.首先检查所要安装的程序是否是正确的安装文件
		2.判断安装应用是否设置未知来源应用的安装判断：isInstallingUnknownAppsAllowed()
		3.当前系统中是否已安装了此应用程序，提示用户是否重复安装
		4.还获取所欲安装的程序所将要用到的权限，然后将这些信息通过一个对话框提示给用户，startInstallConfirm()
	然后当用户确定安装时，启动packages/apps/PackageInstaller/src/com/android/packageinstaller/InstallAppProgress.java，在这个Activity中，系统调用
	pm.installPackageWithVerificationAndEncryption(mPackageUri,observer,installFlags,installerPackageName);-->该方法实现在packageManagerService.java中，即进行安装
  
 

二百三十一、 android.os.Process.killProcess(android.os.Process.myPid());//结束当前程序的进程

二百三十二、long a =1000; long b =100000;a/b =0,why?
       因为long/long产生的结果是整数，会把后面的小数点去掉
       怎么办？a/(float)b这样产生的就是有小数点的

二百三十三、长按power键，跳出关机等的diaolog修改位置：frameworks/base/policy/src/com/android/internal/policy/impl/GlobalActions.java
	   如何去掉power键的功能，在加上自己所要求的功能（L）：	frameworks/base/policy/src/com/android/internal/policy/impl/PhoneWindowManager.java文件中case KeyEvent.KEYCODE_POWER后面加上
				ActivityManager activityManager = (ActivityManager) mContext.getSystemService(Context.ACTIVITY_SERVICE);
		     try{
  			if (activityManager.getRunningTasks(1).get(0).topActivity.getPackageName().equals("com.example.factorydevelopx")){
   			//Please reset the special package name.
   			    result |= ACTION_PASS_TO_USER;
  			   }
 			}catch(NullPointerException e){
			 }，然后在自己的要调用的地方直接重写onkeydown方法，然后在keyCode == KeyEvent.KEYCODE_POWER里面写自己要实现的功能即可
		72KK可直接参照[FAQ10435]如何让 app 自行处理 power key就可以了

二百三十四、launcher上的图标位置（另外一套主题）：/packages/apps/Launcher3/assets/innertheme1

二百三十五、如何替换新的adb以及sudo adb       ---->比如说在windows系统中无法用adb remount连上手机，就是因为adb的版本太低了
       一、替换adb
	1、/out/host/linux-x86/bin/adb-->这里面一般都是编译出来的工具
	2、然后这个一般都是新的，然后可以把这个adb替换到eclipse_and_sdk/android-sdk-linux/platform-tools/adb
       二、替换sudo adb
	1、rm -r /usr/bin/adb (去除老的adb)
        2、sudo ln -s /home/jiangcunbin/bin/adb /usr/bin/adb  把新版本的adb链接到/usr/bin/adb中即可
      如何看adb的version --> ./adb version
	
二百三十六、～/ ---> /home/jiangcunbin/

二百三十七、开机震动的调用位置以及打开关闭方法，可以直接去online上搜索

二百三十八、ro值修改位置（KK）
       ro.build.display.id -->相当于版本号，可直接修改ProjectConfig.mk文件中的CUSTOM_BUILD_VERNO，CUSTOM_BUILD_VERNO1，CUSTOM_BUILD_VERNO2
	ro.product.model -->/build/target/product/up29_h403_ddm.mk中
	ro.product.name -->ProjectConfig.mk文件中SAGEREAL_PRODUCT_NAME
	ro.product.device -->ProjectConfig.mk文件中SAGEREAL_TARGET_DEVICE
	ro.product.board -->ProjectConfig.mk文件中SAGEREAL_TARGET_DEVICE
	ro.product.locale.language -->/build/core/Makefile中可搜索define default-locale-language，其中后面的$是指取出的值赋值给default-locale-language
	ro.product.locale.region  -->/build/core/Makefile中可搜索define default-locale-region，其中后面的$是指取出的值赋值给default-locale-region
	ro.build.product -->ProjectConfig.mk文件中SAGEREAL_TARGET_DEVICE
	ro.build.fingerprint --> /build/core/Makefile中可搜索BUILD_FINGERPRINT


二百三十九、common.mk中加宏的时候
ifdef MTK_WEATHER_PROVIDER_APP   -->先判定是否有宏
ifneq ($(strip $(MTK_WEATHER_PROVIDER_APP)), no)   -->再判断宏的值
   PRODUCT_PACKAGES += MtkWeatherProvider
 endif
endif


ifneq (yes, $(strip $(BUILD_CLARO_GMS)))     --> 当BUILD_CLARO_GM不是yes的情况下，怎么样，其他情况怎么样
$(shell rm -r $(TOPDIR)vendor/claro_gms)
else
$(shell cp $(TOPDIR)mediatek/config/$(PROJECT)/sagereal_copy/vendor/claro_gms/apps/Android_gms.mk	 $(TOPDIR)vendor/claro_gms/google/apps/Android.mk)
endif
ps：BUILD_CLARO_GMS在common.mk里面如果其他项目的projectConfig.mk文件中没有定义这个宏，也不会报错，直接当成no，如果是java宏的话一定要去判断ifdef BUILD_CLARO_GMS，不然某些项目没有定义这个宏，就会报错 


二百四十、string字符串如何通过某个符号或者字符分开
    String a = "rm68172_fwvga.dsi.vdo.lcm.drv";
    String[] split = a.split("_");(或者某个字符串 String[]split = a.split("v"))
	ps:如果要用"."分开的话要注意：要用"\\."

二百四十一、string字符串如何从小写变成大写
    String a = "rm68172";
    String upperCase = a.toUpperCase();

二百四十二、如何直接调用filemanager界面
	Intent intent = new Intent();
	intent.setAction("com.mediatek.filemanager.ADD_FILE");
	intent.addCategory("android.intent.category.OPENABLE");
	startActivityForResult(intent, 0);
     然后当文件管理器中选中文件的时候，会返回一个选中文件的路径的uri，这个可以在自己调用的地方接收到，重写protected void onActivityResult(int requestCode, int resultCode, Intent data)方法就可以了

二百四十三、如何去除某个activity的状态栏的下拉功能
	[FAQ11621]KK 全屏界面禁止状态栏下拉，前面两步一般都已经移植进去了，然后第三步要求自己到要用的地方去加
        比如说是一个自己画图的view,可以DrawLineView.this.setSystemUiVisibility(View.SYSTEM_UI_FLAG_IMMERSIVE_GESTURE_ISOLATED);这样就可以了，但是现在貌似对自己布局的那些activity没有实现该方法（自己没有研究通）

二百四十四、<merge/>在布局中的使用，主要目的是通过删除多余或者额外的层级，从而优化整个layout的结构，用来优化ui，主要这个是可以替代frameLayout的，其他的不可以

二百四十五、animation-list使用，主要是用来做逐帧动画的，也就是把照片连起来成为一个动画

二百四十六、fileInputStream和fileOutputStream使用
	 File file1 = new File("/home/jiangcunbin/log.txt");
	 File file2 = new File("/home/jiangcunbin/log2.txt");
	 try {
		FileInputStream fileInputStream = new FileInputStream(file1);
		FileOutputStream fileOutputStream = new FileOutputStream(file2);
		byte[] buff = new byte[2048];
		int read = fileInputStream.read(buff);
		String string = new String(buff,0,read);  -->长度为2048个字节的string字符串
		fileOutputStream.write(buff, 0, read);

	} catch (FileNotFoundException e) {
		// TODO Auto-generated catch block
		e.printStackTrace();
	} catch (IOException e) {
		// TODO Auto-generated catch block
		e.printStackTrace();
	}

二百四十七、有时候一个button类似的组件没写背景但是背景上有东西，这时候可以直接把背景设为null，android:background="@null"


二百四十八、RTX里面结构的安装方法：C:\Users\JCB\Documents\RTXC File List\C_Program Files_Tencent_RTXC\Accounts\jiangcunbin中有UserList2文件即可
				或者C:\用户\JCB\我的文档\RTXC File List\C_Program Files_Tencent_RTXC\Accounts\jiangcunbin中有UserList2文件即可

二百四十九、switch中图标修改
	    android:thumb="@drawable/switch_selector"   -->这个是会动的那个图标
            android:track="@drawable/switch_bg" -->这个是不会动的那个背景
            android:scaleX="0.7"         -->图标缩放
            android:scaleY="0.7"
	switch_selector.xml
		<selector xmlns:android="http://schemas.android.com/apk/res/android">
    			<item android:drawable="@drawable/switch_on" android:state_checked="true"/>
    			<item android:drawable="@drawable/switch_off" android:state_checked="false"/>
		</selector>


二百五十、linearLayout中如果有两个textview或者两个button，此时如果你需要中间有个分割线，这时候有showDividers属性可以设置
   none：不显示分割符     beginning：在Linearlayout开始处显示分割线    end：在Linearlayout结尾处显示分割线    middle：在Linearlayout中间处显示分割线


二百五十一、actionbar总结
	1、<item name="@*android:actionBarTheme">@style/Settings.ThemeOverlay.Material.ActionBar</item>
		这个style中的android:searchViewStyle属性可以修改searchView的一些属性
    		    <style name="Settings.ThemeOverlay.Material.ActionBar" parent="@android:style/ThemeOverlay.Material.Dark.ActionBar">
                	<item name="android:searchViewStyle">@style/Settings_Widget_Material_SearchView</item>
    		    </style>
		    <style name="Settings_Widget_Material_SearchView" parent="@android:style/Settings.Widget.Material.SearchView">
			<item name="android:closeIcon">@drawable/ic_clear_holo_light</item>
			<item name="android:searchHintIcon">@drawable/ic_search_api_holo_light</item>
   		    </style>

	2、<item name="@*android:actionBarStyle">@style/Theme.ActionBar</item>
	    <style name="Theme.ActionBar" parent="@android:style/Widget.Material.Light.ActionBar.Solid">
        		<item name="android:contentInsetStart">@dimen/actionbar_contentInsetStart</item>
			<item name="android:background">#ffffff</item>								-->设置actiobar的背景色
			<item name="android:titleTextStyle">@style/My_TextAppearance_Material_Widget_ActionBar_Title</item>     -->设置actionbar中title的一些属性
			<item name="android:homeAsUpIndicator">@drawable/ic_ab_back_holo_light_am</item>                        -->设置actionbar中返回键图标
    	    </style>

        3、<item name="@*android:actionOverflowButtonStyle">@style/Settings.Widget.Material.ActionButton.Overflow</item>
		<style name="Settings.Widget.Material.ActionButton.Overflow" parent="@*android:style/Widget.Material.ActionButton.Overflow">
       			<item name="android:src">@drawable/ic_menu_moreoverflow_normal_holo_light</item>                        -->设置actionbar中menu图标
    		</style>
		
	4、<item name="@*android:autoCompleteTextViewStyle">@style/Settings.Widget.Material.Light.AutoCompleteTextView</item>
	5、<item name="@*android:editTextStyle">@style/Settings.Widget.Material.EditText</item>

	6、如何修改menu的字体：
		<item name="android:textAppearanceLargePopupMenu">@style/Settings.TextAppearance.Holo.Widget.PopupMenu.Large</item>，重新写这个属性就可以了
		<style name="Settings.TextAppearance.Holo.Widget.PopupMenu.Large" parent="@android:style/TextAppearance.Holo.Widget.PopupMenu.Large">
        		<item name="android:textSize">13sp</item>
    		</style>

二百五十二、如何获取正在运行的apk
        private int getRunningApplicationCount(Context context){
	    	  ActivityManager activityManager = (ActivityManager)context.getSystemService(Context.ACTIVITY_SERVICE);
	          //获取系统中所有正在运行的进程
	          List<RunningAppProcessInfo> appProcessInfos = activityManager
	                  .getRunningAppProcesses();
	          int count=0;
	          for (RunningAppProcessInfo appProcessInfo:appProcessInfos) {
	              if( appProcessInfo.processName.contains("com.android.system")
	                      ||appProcessInfo.pid==android.os.Process.myPid())//跳过系统 及当前进程
	                  continue;
	              String[] pkNameList=appProcessInfo.pkgList;//进程下的所有包名
	              for(int i=0;i<pkNameList.length;i++){
	                  count++;//杀死进程的计数+1
	              } 
	          }              
			return count;
	    }


二百五十三、如何获取可用内存   adb shell cat /proc/meminfo ,里面全是各种内存消息
	private long getAvailMemory(Context context) {
		String path = "/proc/meminfo";
		String[] arrayOfString = null;
		File file = new File(path);
		BufferedReader bufferedReader = null;
		InputStreamReader inputStreamReader = null;
		long avail_memory = 0;
		try {
			inputStreamReader = new InputStreamReader(new FileInputStream(file));
		} catch (FileNotFoundException e2) {
			// TODO Auto-generated catch block
			android.util.Log.d("jcb", "e2 =", e2);
			e2.printStackTrace();
		}
		if (file.exists()) {
			bufferedReader = new BufferedReader(inputStreamReader);
			String readLine = null;
			try {
				for(int i = 0 ; i<2 ; i++){
					readLine = bufferedReader.readLine();
				}
				android.util.Log.d("jcb", "readLine = "+readLine);
				arrayOfString = readLine.split("\\s+");
				avail_memory = Integer.valueOf(arrayOfString[1]).intValue() * 1024;
			} catch (IOException e1) {
				// TODO Auto-generated catch block
				e1.printStackTrace();
				android.util.Log.d("jcb", "e1 =", e1);
			}
			android.util.Log.d("jcb", "getAvailMemory readLine = " + arrayOfString[1]);
			android.util.Log.d("jcb","getAvailMemory = "+ Formatter.formatFileSize(context,avail_memory));
		}

		return avail_memory;

	}

二百五十四、如何获取所有内存
		private long getTotalMemory(Context context) {
		// 获取android当前可用内存大小
		String path = "/proc/meminfo";
		String[] arrayOfString = null;
		File file = new File(path);
		BufferedReader bufferedReader = null;
		InputStreamReader inputStreamReader = null;
		long initial_memory = 0;
		try {
			inputStreamReader = new InputStreamReader(new FileInputStream(file));
		} catch (FileNotFoundException e2) {
			// TODO Auto-generated catch block
			android.util.Log.d("jcb", "e2 =", e2);
			e2.printStackTrace();
		}
		if (file.exists()) {
			bufferedReader = new BufferedReader(inputStreamReader);
			String readLine = null;
			try {
				readLine = bufferedReader.readLine();
				android.util.Log.d("jcb", "readLine = "+readLine);
				arrayOfString = readLine.split("\\s+");
				initial_memory = Integer.valueOf(arrayOfString[1]).intValue() * 1024;
			} catch (IOException e1) {
				// TODO Auto-generated catch block
				e1.printStackTrace();
				android.util.Log.d("jcb", "e1 =", e1);
			}
			android.util.Log.d("jcb", "readLine = " + arrayOfString[1]);
			android.util.Log.d("jcb","getTotalMemory = "+ Formatter.formatFileSize(context,initial_memory));
		}

		return initial_memory;
	}

二百五十五、如何按条件去kill某些进程

	public void killAll(Context context) {
		// 获取一个ActivityManager 对象
		ActivityManager activityManager = (ActivityManager) getSystemService(Context.ACTIVITY_SERVICE);
		// 获取系统中所有正在运行的进程
		List<RunningAppProcessInfo> appProcessInfos = activityManager
				.getRunningAppProcesses();
		int count = 0;// 被杀进程计数
		String nameList = "";// 记录被杀死进程的包名

		for (RunningAppProcessInfo appProcessInfo : appProcessInfos) {
			nameList = "";
			if (appProcessInfo.processName.contains("com.android.system")
					|| appProcessInfo.pid == android.os.Process.myPid())// 跳过系统
																		// 及当前进程
				continue;
			String[] pkNameList = appProcessInfo.pkgList;// 进程下的所有包名
			for (int i = 0; i < pkNameList.length; i++) {
				String pkName = pkNameList[i];
				activityManager.killBackgroundProcesses(pkName);// 杀死该进程
				count++;// 杀死进程的计数+1
				nameList += "  " + pkName;
			}
		}
	}


二百五十六、如何去除L上的navitivebar
	[FAQ03065]如何开启或隐藏Navigation Bar导航栏


二百五十七、如何在L上预置图片且恢复出厂设置不会消失
	先在data/media中预置图片，然后在system/vendor下面预置图片，然后在恢复出厂设置的时候去调用recovery.cpp文件，在该文件中自己写方法把system/vendor下面的图片还原到data/media下面
	具体可以看/home/jiangcunbin/Desktop/sagereal资料/自己总结/他人培训/预置资源
	ps:刷机进去后到开机不会进入recovery模式，也就是说不会调用recovery.cpp文件，但是在恢复出厂设置的时候是会进入recovery模式的，会调用recovery.cpp文件
	提交记录：http://192.168.3.76:8007/gitweb/?p=ALPS-MP-N0.MP2-V1_SR6580_WE_N.git;a=commit;h=bb723f9be5edf6c5ccaaf04e5240d11fa6060691


二百五十八、如何还原服务器上的代码到某一版本
	git reset --hard fa617b25ba5a7d2cd0fa85b28f858040bf79969a //恢复到之前一个版本
       git push origin HEAD -f //推送到当前的HEAD

二百五十九、L项目的modem编译

编译modem中的某个.mak文件：
../project/ALPS.L1.MP6.V1_SR6572_WET_L/alps/device/mediatek/build/build/tools/modemRenameCopy.pl  ../SR6572_WET_L_GPRS_HSPA_MOLY.WR8.W1449.MD.WG.MP.V5  编译的modem名   -->提取出来的6个文件在modem端文件中的temp文件夹中
	ps：modemRenameCopy.pl是ap端的一个提取modem端所需6个文件的一个脚本，SR6572_WET_L_GPRS_HSPA_MOLY.WR8.W1449.MD.WG.MP.V5是modem的根目录，SR6572_WET_L_HSPA_BAND15_COCLOCK是build中编译后生成的modem名
	go/o上的路径：/media/JCB/project2/go/80go/alps-release-o1.mp2-default/alps/device/mediatek/build/build/tools/modemRenameCopy.pl
	kk路径：/media/JCB/project2/72/kk/Artel/ALPS.KK1.MP7.V1.22_SR72_W_KK/alps/mediatek/build/tools/modemRenameCopy.pl
一键编译
	先下载一个35M的modem，把那里面的script文件夹和mk文件复制到自己的modem端（因为只有35M的modem端是上传了这些的，其他modem端是没有上传的，所以要复制一份），然后把script中的project.mk打开,把要编译的.mak文件名字写进这个文件中，然后把R6572_WET_L_GPRS_HSPA_MOLY.WR8.W1449.MD.WG.MP.V5（相当于所有文件）复制到ap端alps的同级目录下，然后把R6572_WET_L_GPRS_HSPA_MOLY.WR8.W1449.MD.WG.MP.V5文件夹重新命名为modem，然后进入modem文件夹中./mk就可以了，然后所有project.mk中写进去的modem都会在output文件中生成


二百六十、如何使用终端看asc码
    在终端中输入man ascii，然后hex列代表16进制，比如说那边写的31，我们在代码中使用要写0x31;Dec列为10进制，可以直接写

二百六十一、如何用git merge某些版本到另一个分支上(比如先上传dev分支，那么就要先切回到dev_orange分支，然后在运行下面的命令)
	merge某一项的上传记录：git cherry-pick 8034ceb9038409229657a2eb1473945fc2fa0148，合过去，后面是dev上的那个id，这样就不用制作patch了
	然后在git push 一下，这样会有记录生成

        merge所有的不同：git merge --no-ff +前面的分支


二百六十二、如何进入黑屏模式以及如何退出
       进入：ctrl+alt+F3
       退出：ctrl+alt+F7

二百六十三、虚拟机如何到桌面：window+D


二百六十四、关于seekbar拖动拖动条的时候会运行哪些方法
	/alps/frameworks/base/packages/SystemUI/src/com/android/systemui/volume/VolumePanel.java中
	seekbar.setOnSeekBarChangeListener(mSeekListener);
	private final OnSeekBarChangeListener mSeekListener = new OnSeekBarChangeListener() {
        	@Override
        	public void onProgressChanged(SeekBar seekBar, int progress, boolean fromUser) {
           		//拖动的时候调用该方法
        	}

        	@Override
        	public void onStartTrackingTouch(SeekBar seekBar) {
			//拖动开始时候调用的方法
        	}

        	@Override
        	public void onStopTrackingTouch(SeekBar seekBar) {
			//拖动结束时候调用的方法

        	}
   	 };

	ps：seekbar可以通过setProgress(当前值)来设置seekbar的当前值


二百六十五、文件权限
	ll drwxrwxr-x  ：
		d：表示是一个目录，事实上在ext2fs中，目录是一个特殊的文件。
		－：表示这是一个普通的文件。
		l: 表示这是一个符号链接文件，实际上它指向另一个文件。
		b、c：分别表示区块设备和其他的外围设备，是特殊类型的文件。
		s、p：这些文件关系到系统的数据结构和管道，通常很少见到。
	rwx：每个字符分别代表read、write、excute(执行)
        每个字母代表1，-代表0，比如说rwx代表二进制里面的111，转化为10进制就是1x2^0+1x2^1+1x2^2=7,r-x代表二进制里面的101，转化为10进制就是1x2^0+0x2^1+1x2^2=5,所以这个权限为775
	加入想一次修改某个目录下所有文件的权限，包括子目录中的文件权限也要修改，要使用参数－R表示启动递归处理。

	例如：
		加入想一次修改某个目录下所有文件的权限，包括子目录中的文件权限也要修改，要使用参数－R表示启动递归处理。
		[root@localhost ~]# chmod 777 /home/user 注：仅把/home/user目录的权限设置为rwxrwxrw
		[root@localhost ~]# chmod -R 777 /home/user 注：表示将整个/home/user目录与其中的文件和子目录的权限都设置为rwxrwxrwx
		使用命令chown改变目录或文件的所有权

	改变所有者：把conkyrc.txt文件的所有权转移到用户user   -->   chown user conkyrc.txt
	要改变所属组 chown :users conkyrc.sample
	或者直接chown user:user conkyrc.txt，这样会直接同时修改所有者和指定的用户或组


二百六十六、L项目上如何让手机能充电
        把alps\kernel-3.10\drivers\misc\mediatek\mach\mt6735\include\mach\upmu_sw.h 文件中关闭宏BATTERY_CDP_WORKAROUND  就可以充电了


二百六十七、L项目上单独模块编译gallery2的时候，必须把alps/packages/apps/Gallery2/jni_refocus/android.mk文件删除，才能正常编译该模块


二百六十八、如何settingProvider中加数据库？
	1、frameworks/base/packages/SettingsProvider/src/com/android/providers/settings/DatabaseHelper.java中loadSystemSettings()方法中加上
		loadBooleanSetting(stmt, Settings.System.CANCEL_HOME_MODE,R.bool.def_cancel_home_mode);

	2、frameworks/base/core/java/android/provider/Settings.java中
		public static final String CANCEL_HOME_MODE = "cancel_home_mode";
		String[] SETTINGS_TO_BACKUP中加上CANCEL_HOME_MODE


二百六十九、音量对话框修改在哪里？
      frameworks/base/packages/SystemUI/src/com/android/systemui/volume/VolumePanel.java

二百七十、L上如何编译frameworks/base/packages/Keyguard
	先编译frameworks/base/packages/Keyguard，然后编译frameworks/base/packages/SystemUI,最后push systemui。


二百七十一、如何看手机是eng版本还是user版本？
        adb shell --> getprop ro.build.type

二百七十二、L项目如何上传patch
       1、切换到master分支，然后直接上传
       2、切换到drv_only分支，git  merge --no-ff origin/master，然后push上传
       3、切换到dev分支，git  merge --no-ff origin/drv_only，然后push上传
	ps:git  merge --no-ff origin/的分支是前一个分支


二百七十三、launcher和锁屏界面用不同壁纸
	[FAQ11012]如何为锁屏设置一张不同于launcher的，固定加载的背景图片

二百七十四、[FAQ12075]如何让 keguard run 在 com.android.keyguard 进程
	[DESCRIPTION]

	如何让 keguard run 在 com.android.keyguard 进程

	[SOLUTION]

	KK 上, keyguard 默认会 run 在 com.android.systemui 进程中如果需要将 keyguard run 在 com.android.keyguard 进程中，请修改 alps\frameworks\base\packages\Keyguard\res\values\mtk_config.xml
 	- <string name="keyguard_process_name">com.android.systemui</string>
	+<string name="keyguard_process_name">com.android.keyguard</string>

 L上keyguard作为SystemUI的一个lib,不再是一个独立的apk,不能运行在单独的进程。	


二百七十五、默认sim lock永久解锁码：29404290

二百七十六、shortcut被拖动到launcher界面时显示的图标怎么设置
      可在对应的apps中去看AndroidManifest.xml文件，然后搜索名字（是一个activity），然后进入这个activity，然后图片一般都是设置在这个acitivity中
		resultIntent.putExtra(Intent.EXTRA_SHORTCUT_ICON_RESOURCE,
                        Intent.ShortcutIconResource.fromContext(this,
                                R.mipmap.ic_launcher_shortcut_folder));
       ps:如果设置的是在widget中shortcut的图标的话，可以在AndroidManifest.xml文件直接这是icon

二百七十七、[bug](待机界面) 锁屏界面上方出现1秒钟屏闪（redmine39560）
	如何使锁屏界面多画一秒钟，使锁屏界面完全显示出来，这时候可以在phoneWindowManager.java中修改，具体可参考redmine39560
	一、关于锁屏花屏的情况我修改思路如下：在你patch的基础上，我在PhoneWindowManager.java文件中wakingUp()方法中把 int waitKeyguardTimeout = (mKeyguardDrawnOnce == false) ? 10000 : 1000修改为 int waitKeyguardTimeout = (mKeyguardDrawnOnce == false) ? 10000 : 2000，这句相当于2秒后去调用finishKeyguardDrawn方法，而这句话下面有这个方法mKeyguardDelegate.onScreenTurnedOn(mKeyguardDelegateCallback)，而这个方法也相当于直接去调用finishKeyguardDrawn，由于这个方法是没有延时直接去调用finishKeyguardDrawn方法，导致修改无效，所以我在mKeyguardDelegateCallback里面的onShown(IBinder windowToken)中对短信发送也延时了1秒，即mHandler.sendEmptyMessageDelayed(MSG_KEYGUARD_DRAWN_COMPLETE, 1000);这样就是可以整体延时一秒，让draw锁网界面多画一秒，这样修改暂时未发现问题，我们正在同步测试中
总结：1、PhoneWindowManager.java文件中wakingUp()方法中把 int waitKeyguardTimeout = (mKeyguardDrawnOnce == false) ? 10000 : 1000修改为 int waitKeyguardTimeout = (mKeyguardDrawnOnce == false) ? 10000 : 2000
2、PhoneWindowManager.java文件中在mKeyguardDelegateCallback里面的onShown(IBinder windowToken)方法中改成了mHandler.sendEmptyMessageDelayed(MSG_KEYGUARD_DRAWN_COMPLETE, 1000);


二百七十八、如何控制状态栏下拉
	1、72kk：直接用这个Settings.Global.DEVICE_PROVISIONED控制，1为可下拉，0为不可下拉
        2、L项目：用这个Settings.Global.DEVICE_PROVISIONED控制以及statusBarManager.java中的disable(int what)方法
	ps：KeyguardViewMediator.java文件中有个onBootCompleted()方法会在开机的时候运行，如果开机后状态栏无法下拉，就在这个方法中去强制修改数据库以及运行statusBarManager.java中的disable(int what）方法


二百七十九、[FAQ12644]联系人接收短彩信时不读，手机重启后，通知栏中该条未读消息显示为号码，不显示已保存的联系人名称


二百八十、如何使WMA、WMV、ASF格式的视频或者音频文件在文件管理器中显示不识别（问号图标），可以用MTK_WMV_PLAYBACK_SUPPORT来控制，如果是no的话就是不能在文件管理器中识别，如果为yes就是可以在文件管理器中识别出来

二百八十一、如何用自己的apk去控制别的音乐播放器 --> /packages/apps/Music/src/com/android/music/MediaPlaybackService.java
	只需发送广播即可，所有音乐播放器的实现都会实现这个广播的接收
	String SERVICECMD = "com.android.music.musicservicecommand";
	Intent intent = new Intent();
	intent.setAction(SERVICECMD);
	intent.putExtra("command", "pause");--->如果要开启，改成play，如果要停止，改成stop, 如果要下一首，改成next ，如果要上一首，改成previous
	sendBroadcast(intent);


二百八十二、开机进入桌面，会先出现壁纸，而后状态栏空白透明，屏幕其他地方为黑色，之后进入锁屏界面。这一概率比较大
	   期望：希望不要出现状态栏透明空白，其他地方却是黑色
		--- a/packages/SystemUI/src/com/android/systemui/statusbar/phone/StatusBarWindowView.java
		 public class StatusBarWindowView extends FrameLayout {
			onAttachedToWindow(){
			...
			//WindowManagerGlobal.getInstance().changeCanvasOpacity(windowToken, true); 注释掉这句，设置不透明.
			setWillNotDraw(false);
		} else {
			....
		}


二百八十三、如何直接通过命令去启动apk？
          命令：adb shell am start -n "包名类名"    ----> activity
	        adb shell am startservice -n "包名类名"   ----> service


二百八十四、[FAQ14033]安卓5.0前置连拍报错


二百八十五、阿拉伯语下文字布局等相反，有些布局显示不正常，可采用如下方式优化：
	1.Androidmanifest中设置android:supportsRtl="true"， 找到显示异常的布局，将其中的left，right等标签修改为start， end标签
	eg: android:layout_marginStart替换android:layout_marginLeft, android:layout_alignParentStart替换android:layout_alignParentLeft

	2.图片若显示异常，可尝试将图片修改正常，放置res下带有ldrtl的文件夹中，具体根据手机分辨率放置
	eg：res/drawable-ldrtl-hdpi

	3.重写 public void onRtlPropertiesChanged(int layoutDirection)， 根据layoutDirection判断
		layoutDirection = 1， 则为rtl
		layoutDirection = 0， 则为ltr

	4.可根据Configuration的getLayoutDirection()方法获取是否是View.LAYOUT_DIRECTION_RTL
	RTL 	right-> left
	LTR 	left-> right

二百八十六、如何去看调用的是drawable_hdpi还是drawable_xdpi等？
        alps/device/mediatek/common/aapt/aapt_config.mk


二百八十七、preference设置后如何保存到sharedPrefence的文件中
        在布局文件中加上android:persistent="true"，如果为false就不会保存到sharedPrefence

二百八十八、/media/JCB/project2/6753/WQ30_H556_WINONA/ALPS.L1.MP3.V2_SR6753_65C_L1/sagereal/product/WQ30_H556_SFR/default/AllAudio.mk
	/media/JCB/project2/6753/WQ30_H556_WINONA/ALPS.L1.MP3.V2_SR6753_65C_L1/sagereal/customer_resource/mobiwire/audio/AllAudio.mk
	这两个都会copy到alps/frameworks/base/data/sounds/AllAudio.mk，但是前面的优先级高于后面的优先级

二百八十九、如果用eclipse去导入一个android工程，然后该工程中有lib库，这时候你会发现调用lib库的一些文件都会报错，说没有这个方法，这时候就要在eclipse中的lib库中右击build path中的add to build path即可

二百九十、android4.4以后，会默认去读取values_14,如果没有再去读取values里面的值

二百九十一、可以通过以下设定来设置actionbar上显示tab
	ActionBar bar = getActionBar();        
	bar.setNavigationMode(ActionBar.NAVIGATION_MODE_TABS);
    增加tab:
	tab = bar.newTab().setText() 
	bar.addTab(tab)

二百九十二、系统数据库对多媒体文件已经进行了归类，我们使用它就可以了。

	String volumeName = "external";
	获取音频
	Uri uri = Audio.Media.getContentUri(volumeName);
	获取视频
	uri = Video.Media.getContentUri(volumeName);
	获取图片
	uri = Images.Media.getContentUri(volumeName);
	获取所有文件
	uri = Files.getContentUri(volumeName);

   可以看出音频，视频，图片已经完全被系统归类好了，对于apk,doc, zip等文件，我们可以根据它们的后缀在uri = Files.getContentUri(volumeName);里面进行筛选，获得我们想要的数据


二百九十三、需要列表和宫格能够切换，我们可以将listview和gridview布局在一起，然后利用setvisible来控制切换显示.
	利用以下这种布局可能会出现显示错乱(左边):
	<FrameLayout>         			 <FrameLayout>
	<listview>					  < FrameLayout >
	<gridview>						<listview>
	</FrameLayout>				 </ FrameLayout >
						…..
						 </ FrameLayout >
	我们可以这样对listview和gridview包一层来解决问题(右边)

二百九十四、系统媒体数据库无法扫描到数据
	1.插入一张SDCARD
	2.push 3000左右图片到sdcard
	3.重启
	4.观察发现手机不能读取到图片数据
	（读取方法：Images.Media.getContentUri(“external”)获取uri, 然后读取数据库）
	5.push 1首歌曲
	6.重启进入music,等待扫描结束,music不能显示歌曲

   根本原因是：
	多媒体文件所在目录下有.nomedia文件，因此，MediaProvider会把该目录的文件识别为普通文件，具体表现是在db文件中media_type的值为0； 因此在image、video 、audio等视图中通过type查询时，是查询不到信息的。 该问题的原因就在目录中有了.nomedia文件

   .nomedia产生的原因：
	在MediaProvider.apk中是不会自动添加该文件的； 一般.nomedia文件是由其他apk的一些设置等操作才会添加。由于缺乏信息且无法复现，无法分析是什么产生的。

二百九十五、RTX如何设置群组
     我的文档\RTXC File List\C_Program Files_Tencent_RTXC\Accounts\jiangcunbin\UserGrid和UserList2

二百九十六、Webview是用来浏览网页或浏览文件使用，使用google webview会有以下两问题：
		1.打开中文电子书乱码
		2.浏览器输入186.148.57.28/browser/httpreq，查看UAPROFILE为Unknow

二百九十七、以下是根据早前的mtk分析kazam网络问题导致modem重启得到的经验，我们也可以根据以下信息对后续的丢信号问题进行分析
1.在radio log中查找关键字updateDataStallInfo
	如果出现连续的一片只有out的情况updateDataStallInfo: OUT
	则说明网络出了问题，只有发出去的数据，却没有收到回复；
	正常的应该是updateDataStallInfo: IN/OUT
2.搜索关键字onDataStallAlarm
	06-04 12:09:17.374: D/DCT(1189): [0]onDataStallAlarm: tag=28495 do recovery action=3
	在KK中当这个recovery action为3时，会去reset radio
	在L中当这个recovery action为4时，会去reset radio
	当达到次数条件时，会出现如下log：
	06-04 12:10:49.618: D/DCT(1189): [0]restarting radio with gsm.radioreset to true
	06-04 12:10:50.621: D/DCT(1189): [0]restartRadio: ************TURN OFF RADIO**************

3.在mainlog中同步搜索socket：
	06-04 12:10:20.674: I/System.out(1550): [socket][157] connection www.google.com/216.58.221.132:443;LocalPort=36353(30000)
	可以看到它都是在尝试与谷歌的地址链接，确定引起问题的原因


二百九十八、如何在log中分析网络是否为3g
        打开radio_log，然后搜索“networktype =”即可

二百九十九、如何调整横竖屏
        1、android:screenOrientation="landscape"（"portrait"）
        2、setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);
	3、横竖屏切换的时候先会去调用onSaveInstanceState(Bundle outState)方法，然后切换好了onRestoreInstanceState(Bundle savedInstanceState)
          注意：可以通过outState的putInt，以及savedInstanceState的getint来传输数据
	4、android:configChanges="orientation"，然后切换横竖屏的时候可以去重写onConfigurationChanged(Configuration newConfig)方法

三百、如何使界面全屏
	1、 requestWindowFeature(Window.FEATURE_NO_TITLE);  //去除标题栏
            getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN); // 去掉状态栏
		ps:要放在setContentView(R.layout.main)之前

	2、android:theme="@android:style/Theme.NoTitleBar"  //去除标题栏
		android:theme="@android:style/Theme.NoTitleBar.Fullscreen"  //去掉标题栏和状态栏


三百零一、如何进入电脑的bios界面
       在刚重启的时候，按F1进入bios界面


三百零二、发送开机广播的位置
       /frameworks/base/packages/SystemUI/src/com/android/systemui/keyguard/KeyguardViewMediator.java文件中的onBootCompleted()方法里面进行开机广播的发送


三百零三、设置链接usb线后显示几个选择项（kk）
	mediatek/config/mq16_h451_t3_p/system.prop中搜索ro.sys.usb.storage.type，然后在后面可以加上你想加的选择项mtp,mass_storage

三百零四、如何使Settings --> Security --> Lock screen = None
	frameworks/base/packages/SettingsProvider/res/values/defaults.xml中的def_lockscreen_disabled改为true


三百零五、如何使终端中显示字符的颜色设置
        git config --global color.ui true


三百零六、L项目的falsh的配置怎么看
   ProjectConfig.mk文件--> sagereal_memory_flash = EMMC_64_8（8G+1G）、EMMC_32_4（4G+512M）、EMMC_16GB_2GB（16G+2G）


三百零七、[FAQ09022]如何调整锁屏界面的背景亮度
	
	锁屏和launcher一样，都是透到wallpaper上的.但是同样一张wallpaper背景图片，在锁屏界面上看起来要比launcher暗一些。这是因为锁屏界面设置了一个半透明的灰色背景色0X70000000。
    如果需要调整锁屏界面的背景色，可以通过调整KeyguardViewBase.java中BACKGROUND_COLOR的值。
 
	L上的修改参考如下:
	ScrimView.java()
	private float mViewAlpha = 1.0f; // 将1.0f修改为0.0f.


三百零八、
	1、settings中的notification铃声，电话铃声等都是存在com.android.providers.settings中的数据库中（在system这个table中）
	2、/frameworks/base/media/java/android/media/RingtoneManager.java这个文件中有判断某些歌曲是否在手机中的判断方法isRingtoneExist（），也有默认铃声的获取方法getDefaultRingtoneUri(Context context, int type) 等等，这是关于铃声的一个管理类
	3、/frameworks/base/services/core/java/com/mediatek/audioprofile/AudioProfileService.java这个文件中里面有一些notification铃声，电话铃声数据库的监听方法
	4、/frameworks/base/services/core/java/com/mediatek/audioprofile/AudioProfileService.java这个文件中有一个广播ACTION_MEDIA_SCANNER_FINISHED接收器，当卸载SD卡或者重新扫描的时候都会去接收这个广播
	


三百零九、user版本和eng版本的区别
1.user 版本为提高第一次开机速度，使用了ART 的预优化，将dex 文件分解成可直接load 运行的odex 文件；ENG 版本不会开启这项优化，每次开机都会从apk包解析出dex文件，执行的是dex文件，降低运行速度。
2.user版本更少的LOG 打印，UART 的关闭。UART，是一种异步收发传输器。
3.ART执行的区别
user：首次开机执行一次，apk->dex->odex->被ART执行  ----->直接被优化为odex后，一直不用去apk中提取dex，直接运行odex文件就可以了，这样速度就快了
eng：每次执行，apk->dex->被ART执行
4.编译路径区别
User版：64位路径：out/.../system/app/arm64/***.odex
        32位路径：out/.../system/app/arm/***.odex
User版本的32位apk在64位系统环境下编译时，默认被编译解析为64位路径。当运行时找不到其32位的默认路径，报错。在Android.mk文件中加入LOCAL_MULTILIB := 32，可以编译解析为32位路径，运行不报错。
Eng版本没有32位和64位区分，运行不报错
5、如何分辨32位和64位系统   
1.ProjectConfig.mk文件中，MTK_K64_SUPPORT = yes/no
2.在sagereal/mk/项目名/full_sr67**m_**gu_l.mk中，
# Inherit for devices that support 64-bit primary and 32-bit secondary zygote startup script
$(call inherit-product, $(SRC_TARGET_DIR)/product/core_64_bit.mk)
有以上这句话的是64位系统，反之没有这句话是32位系统。
3. 在alps/device/sagetel/     sr6735m_35gu_l（32位系统）     sr6735m_65u_l（64位系统）   
4. 在当前手机中查看。输入adb shell---->cd system----->ls----->看到lib(lib64)，32位系统没有lib64文件夹，64位系统含有lib和lib64文件夹

三百一十、sharedUserID的使用
    Android提供了如下的一种机制，可以使两个apk打破前面讲的这种壁垒，只有相同签名和相同sharedUserID标签的两个应用程序签名才会被分配相同的用户ID。
    在AndroidManifest.xml中利用sharedUserId属性给不同的package分配相同的userID，通过这样做，两个package可以被当做同一个程序，系统会分配给两个程序相同的UserID。当然，基于安全考虑，两个package需要有相同的签名，否则没有验证也就没有意义了。
    如果增加了上面的属性但没有定义与之对应的LOCAL_CERTIFICATE（android.mk）的话，APK是安装不上去的。提示错误是：Package com.test.MyTest has no signatures that match those in shared user android.uid.system; ignoring!（也就是上面说的需要两个相同的签名），例如所有和media/download相关的APK都使用android.media作为sharedUserId的话，那么它们必须有相同的签名media。
    关于签名： build/target/product/security目录中有四组默认签名供Android.mk在编译APK使用： 
		1、testkey/releasekey：普通APK，默认情况下使用。
		2、platform：该APK完成一些系统的核心功能。经过对系统中存在的文件夹的访问测试，这种方式编译出来的APK所在进程的UID为system。 
		3、shared：该APK需要和home/contacts进程共享数据。 
		4、media：该APK是media/download系统中的一环。 
	应用程序的Android.mk中有一个LOCAL_CERTIFICATE字段，由它指定用哪个key签名，未指定的默认用testkey（但是当MTK_SIGNATURE_CUSTOMIZATION这个宏打开后，未指定的默认的会用releasekey，不懂看第五百四十六条即可）. 对于使用eclipse编译的apk，可以使用signapk.jar来手动进行签名
	platform和shared对应签名文件的key都放在alps/build/target/product/security/common下，如platform.x509.pem、platform.pk8、shared.x509.pem、shared.pk8
	签名工具signapk.jar位于/out/host/linux-x86/framework 下，由alps/build/tools/signapk/生成​。

	ps：当打开MTK_SIGNATURE_CUSTOMIZATION这个宏时会直接使用device/mediatek/common/security/sr6580_we_n下面的key去进行签名，如果关闭MTK_SIGNATURE_CUSTOMIZATION这个宏时会直接使用MTK默认的key去签名，即build/target/product/security下面的，device/mediatek/common/security/sr6580_we_n下面的keyplatform.x509.pem、platform.pk8等这些是梁爽做出来的，同平台的应该都是一样的

	使用方法：
		1、以platform为例：java -jar signapk.jar platform.x509.pem platform.pk8 input.apk output.apk (platform.x509.pem platform.pk8在build/target/product/security获取)  
		2、以shared为例：用 shared.x509.pem和shared.pk8来签名 Contacts.apk，重新签名之后的apk名字为Contacts_2.apk 
java -jar signapk.jar shared.x509.pem shared.pk8 Contacts.apk Contacts_2.apk 

     ps：如果在AndroidManifest.xml和android.mk中都进行了修改，可以把该apk预置到手机中，这样在编译整个项目的时候会去编译这个apk，这样就会按照android.mk中的LOCAL_CERTIFICATE进行平台签名，如果不内置直接对apk进行签名，这时候就要用signapk.jar来手动进行签名，步骤在上面。

	LOCAL_CERTIFICATE := PRESIGNED 表示 这个apk已经签过名了，系统不需要再次签名；

    关于apk的签名
    1、第三方的apk用eclipse生成后可以直接install到手机中，我们如果不再eclipse里面特地的生成签名，那就默认会使用debug的签名；当然可以直接在生成apk的时候生成有自己个人信息的正式签名
    2、第三方的apk用客户提供的keystore签名，会出现两种情况，如果该apk中没有使用shareduserid，那就可以直接install到手机上；如果该apk中使用了shareduserid（system）,这时候需要在keystore的基础上再进行平台签名，才能install到手机中
    3、第三方的apk直接用平台签名可以直接install到手机中



三百一十一、如何实现每台手机的序列号唯一？
	KK：alps/mediatek/platform/mt65**/ kernel/core/mt_devs.c中定义CONFIG_MTK_USB_UNIQUE_SERIAL
        L：alps/bootable/bootloader/lk/app/mt_boot/mt_boot.c中定义CONFIG_MTK_USB_UNIQUE_SERIAL
	M：alps/vendor/mediatek/proprietary/bootable/bootloader/lk/app/mt_boot/mt_boot.c中定义CONFIG_MTK_USB_UNIQUE_SERIAL
	PS：在c文件中定义该CONFIG_MTK_USB_UNIQUE_SERIAL，即为#define CONFIG_MTK_USB_UNIQUE_SERIAL

	FAQ10923[USB serial number客制化][系列2]：如何实现每台手机的序列号唯一？10924[USB serial number客制化][系列3]：如何修改手机序列号为Barcode ？
	FAQ10925[USB serial number客制化][系列4]：如何修改手机序列号为手机型号？
	FAQ10926[USB serial number客制化][系列5]：如何实现可以通过pc工具来修改serial number？
	FAQ10927[USB serial number客制化][系列6]：能否实现adb devices的序列号，usb serial number, cts device ID，SN一致？

三百一十二、UUID是一个128位长的数字,用16进制表示，然后是电脑随机生成的一个值，是结合机器的网卡、当地时间、一个随机数生成的，能保证3240年不重复，相当于一个永不重复的随机数


三百一十三、取余数 ：a % b
	   取整数 ：a / b


三百一十四、relativeLayout布局中有时候会用到android:layout_toLeftOf="@id/sss",这地方用@id，不要用@+id，因为@+id是用来创建id的


三百一十五、当删除文件管理器上的音乐文件的时候，数据库会发生改变，可监听Uri.parse("content://media/external/file"）这个uri的数据库

三百一十五、dp、sp跟密度无关，不管屏幕密度如何，总能获取同样的尺寸

三百一十六、arrayAdaper<T>的使用，
1、如果直接new一个arrayAdaper<T>，显示出来的情况如下所示：
     默认的ArrayAdapter<T>.getView(...) 实现方法依赖于toString() 方法。它首先生成布局视图，然后找到指定位置的Crime对象并对其调用toString() 方法，最后得到字符串信息并传递给TextView。Crime类当前并没有覆盖toString() 方法，因此，它默认使用了java.lang.Object类的实现方法，直接返回了混和对象类名和内存地址的字符串信息，如果要获取到自己的想要的字符串，可以在T这个类中直接重写toString()方法：
     @Override
	public String toString() {
		// TODO Auto-generated method stub
		return mTitle;
	}
2、集成arrayAdaper<T>，重写这个类

三百一十七、fragment.setArguments(args);args是一个bundle，可以存储一些数据等，当然也可以fragment.getArguments()

三百一十八、
    1、FragmentPagerAdapter 是另外一种可用的PagerAdapter，其使用方法与FragmentStatePagerAdapter基本相同，唯一的区别就在于二者在卸载不再需要的fragment时，所采用的处理方法不同
    2、使用FragmentStatePagerAdapter会销毁掉不需要的fragment。事务提交后，可将fragment从activity的FragmentManager中彻底移除。 FragmentStatePagerAdapter类名中的“state”表明：在销毁fragment时，它会将其onSaveInstanceState(Bundle) 方法中的Bundle信息保存下来。用户切换回原来的页面后，保存的实例状态可用于恢复生成新的fragment
综上所述：FragmentPagerAdapter适用于pager比较少的情况，因为这个不会去销毁，会影响手机的运行速度；FragmentStatePagerAdapter适用于pager比较多的情况，因为它会销毁不需要的fragment

三百一十九、viewPager+AdapterPager可以要来实现左右滑动界面。。

三百二十、1、如何获取手机密度 adb shell --> wm density ,就可以获取到手机的密度 ps：hdpi(240) mdpi(160) ldpi(120)
	 2、如何获取手机的分辨率 adb shell --> wm size,就可以获取到手机的分辨率

	    adb shell wm density 240    //修改屏幕密度为240dpi
	    adb shell wm density reset //重置屏幕密度为默认密度


三百二十一、permission和uses-permission的区别
	两者之间的不同之一就是，作用域不同，在 manifest.xml文件中，<uses-permission>是和<application>同级的节点，一般<uses-permission >是在</application>后面的。但<permission>就不同了，是定义在<application>和</application>之间，和Activity、Service同级别的，同时使用 group的权限组可以大幅减少你同类型相似权限的声明。
	其二可能就是<uses-permission>是官方定义的权限，<permission>是自己定义的权限。
	ps：uses-permission这个是给整个apk用的权限，permission是给自己activity或者service使用的权限

三百二十二、有些给的图片是黑色，但是显示效果是灰色，这是为什么？
  <selector xmlns:android="http://schemas.android.com/apk/res/android">
    <!-- Audio call icon on tinted floating action bar background. -->
    <item
        android:state_enabled="true"
        android:state_active="false"
        android:state_focused="false">
        <layer-list>
            <item>
                <bitmap
                    android:src="@drawable/fab_blue"
                    android:tint="@color/glowpad_incoming_widget_background_tint" />
            </item>
            <item>
                <bitmap
                    android:gravity="center"
                    android:src="@drawable/fab_ic_call"
                    android:tint="@color/glowpad_incoming_widget_tint" />
            </item>
        </layer-list>
    </item>
</selector>
    可以看出这里有android:tint属性，这个属性就是在图片上覆盖一层颜色


三百二十三、局部变量或者某方法中定义的变量前面不能有public private protect等修饰符，如果加了就必须前面加上final变成常量，因为方法里面定义的变量都是不可以直接给外面用的，所以没必要写private等修饰符

三百二十四、如何去除虚拟键：
		1、alps/frameworks/base/core/res/res/values/config.xml中<bool name="config_showNavigationBar">false</bool>，这个值必须为false
		2、alps/device/mediatek/common/overlay/navbar/frameworks/base/core/res/res/values/config.xml中<bool name="config_showNavigationBar">fasle</bool>，这个值必须为false
		3、alps/device/mediatek/k55v1_64_c2k6m_pre/system.prop（找到对应的system.prop，必须要有用的system.prop，不可为会被覆盖的，或者说要是优先级最高的system.prop），然后把	  #qemu.hw.mainkeys=0注释掉

三百二十五、listView或者gridView中是直接调用adapter，它们最多加载固定的几个View，然后其他的当你滑动到下面时（上面会消失），这时候下面就不用去new View了，只要直接用前面的就可以了，比如说第22个的view就会用第11个中new的View，可以直接在这个View上面进行显示，这样就是优化了adapter
    ps:记住adapter中有if(convertView==null)的判断不代表第二行开始就不用new了，是第一屏的那些item的View都是不一样的，第一屏的每个item都会进入if(convertView==null)的判断内，当第二屏的时候才是不用去new，比如说1-10项new了10个不同的View，当11-20项的时候就真的不用new了，第11个可以用第1个的View，同理，第12个可以用第2个的View，

三百二十六、gravity和layout_gravity区别
     android:gravity　属性是对该view中内容的限定．比如一个button 上面的text. 你可以设置该text 相对于view的靠左，靠右等位置．
     android:layout_gravity是用来设置该view相对与父view 的位置．比如一个button 在linearlayout里，你想把该button放在linearlayout里靠左、靠右等位置就可以通过该属性设置． 
     即android:gravity用于设置View中内容相对于View组件的对齐方式，而android:layout_gravity用于设置View组件相对于Container的对齐方式。

三百二十七、gravity和layout_gravity如何在代码端进行设置
     	Button button  = new Button(this);  
	button.setText("One");  
	LinearLayout.LayoutParams lp = new LinearLayout.LayoutParams(LayoutParams.WRAP_CONTENT,LayoutParams.WRAP_CONTENT);  
	lp.gravity = Gravity.RIGHT;  		    //此处相当于布局文件中的Android:layout_gravity属性  
	button.setLayoutParams(lp);  
	button.setGravity(Gravity.CENTER);          //此处相当于布局文件中的Android：gravity属性  
	LinearLayout linear = new LinearLayout(this);  
	//注意，对于LinearLayout布局来说，设置横向还是纵向是必须的！否则就看不到效果了。  
	linear.setOrientation(LinearLayout.VERTICAL);  
	linear.addView(button);  
	setContentView(linear); 

三百二十八、Android控件之HorizontalScrollView 去掉滚动条 
	android:scrollbars="none"

三百二十九、imageView如何在代码端设置布局（ps：注意直接写为ViewGroup.LayoutParams）                   
         ViewGroup.LayoutParams lp = imageView1.getLayoutParams();
         lp.width=270;
         lp.height=270;
         imageView1.setLayoutParams(lp);

三百三十、默认键盘以及默认键盘语言的修改方法
	DEFAULT_INPUT_METHOD=com.android.inputmethod.latin.LatinIME
	DEFAULT_LATIN_IME_LANGUAGES=fr en_US


三百三十一、如何加上Android System WebView(google webview)
	vendor/google/products/gms.mk里面把PRODUCT_PREBUILT_WEBVIEWCHROMIUM := yes

三百三十二、如何预置wifi热点  （redmine55627）
       kk：/mediatek/external/mtk_wifi/config/mtk-wpa_supplicant.conf
	l：请在alps/hardware/mediatek/wlan/config/mtk-wpa_supplicant.conf
	m:alps/vendor/mediatek/proprietary/hardware/connectivity/wlan/config/mtk-wpa_supplicant.conf
	文件中增加networ={} 即可。
	network={
         	ssid="aaaa"
         	scan_ssid=1
         	key_mgmt=NONE
	}
ps：Wifi的预置说明也可以查看/alps/hardware/mediatek/wlan/wpa_suppli_8/wpa_supplicant/wpa_supplicant.conf

 	ps:ps:ps:在增加这个wifi热点的时候，一定要加上节省功耗的操作，文件路径：
	kk：external/wpa_supplicant_8/wpa_supplicant/wpa_supplicant.c，在ssid_len == os_strlen("CMCC")判断之后，加上如下代码
	 if(ssid_len == os_strlen("MEO-WiFi.x")){
               if(os_strncasecmp(cmcc_conf->ssid,"MEO-WiFi.x",ssid_len) == 0){
                       tmp = cmcc_conf->next;
                       removed = 1;
                       wpa_config_remove_network(wpa_s->conf, cmcc_conf->id);
                       if(wpa_s->conf->update_config){
                               if(wpa_config_write(wpa_s->confname, wpa_s->conf)){
                                       wpa_printf(MSG_DEBUG,"CTRL_IFACE:SAVE_CONFIG - Failed to "
                                               "update configuration");
                               }else{
                                       wpa_printf(MSG_DEBUG,"CTRL_IFACE:SAVE_CONFIG -Configuration"
                                       " updated");
                               }
                       }
               }
       	}	                   ---->[ALPS02441559] 预制WIFI热点造成功耗过大问题
					[ALPS02399488] 预制WIFI热点造成功耗过大问题


	 M:external/wpa_supplicant_8/wpa_supplicant/wpa_supplicant.c,在wpa_supplicant_init_iface

Redmine 63933[bug]wifi有时不能自动连接上



三百三十三、如何去除mtk的Sound Recorder这个apk？
       当build/target/product/common.mk文件中去除这个apk后发现编译刷机后该apk还是存在，后来发现是有好多个apk会把这个Sound Recorder一起编译进去（比如说mms里面的andoid.mk中有LOCAL_REQUIRED_MODULES := SoundRecorder），所以你要去掉这个apk，你可以随便找个apk，比如说sagerealApp里面的android.mk里面加上LOCAL_OVERRIDES_PACKAGES := SoundRecorder

三百三十四、开机位置和关机位置
   1、开机位置
	我们知道手机开机时会有一个广播android.intent.action.BOOT_COMPLETED，但是广播太不靠谱，广播只负责发送，什么时候收到就不管广播的事了，这一点在开机时尤为明显，一个开机广播的接收者在eng版本中有时候可能要等一两分钟才能收到，因此我们必须找到一个更为靠近开机结束的地方alps/frameworks/base/services/core/java/com/android/server/am/ActivityManagerService.java，其中有个finishBooting方法
	但是！！！这个位置较为靠后，会出现在屏幕亮了以后，因此另外还找了一个方法：alps/frameworks/base/packages/SystemUI/src/com/android/systemui/keyguard/KeyguardViewMediator.java
doKeyguardLocked方法，同样的此方法有一个缺点，就是太早了，在屏幕还没亮的时候就在执行了

	KeyguardViewMediator.java文件中doKeyguardLocked出现在亮屏之前，此时启动动画，则动画不完整;ActivityManagerService.java文件中finishBooting出现在亮屏之后，此时启动动画，则会先闪其他界面再播放动画
	解决方案：
		1.在doKeyguardLocked中启动一个全黑的activity
		2.在finishBooting中播放动画
但是如果这两步去启动不同的activity，在activity切换时会有一些影响，也会看到有闪现壁纸的效果，这也是为什么我在之前的动画apk中只使用一个activity的原因，即activity不变，在doKeyguardLocked中启动一个全黑屏的activity，在finishBooting让activity改变view


   2、关机位置：
        关机位置代码比较简单，我们可以通过power off键的事件来寻找：alps/frameworks/base/policy/src/com/android/internal/policy/impl/GlobalActions.java，该类中有两个内部类PowerAction以及RebootAction，点击关机或重启时都应该做播放关机动画的处理；由于实际的关机动画是固定的，无法轻易做到根据运营商来决定不同的关机动画，因此我们刚开始做了一个为全黑屏的且没有声音的关机动画，然后在真正的关机处理之前，我们先通过之前所做的应用程序BootanimationMeo来播放一段动画，等几秒后，再去做真正的关机动作，此时用户看到的只有一个动画，造成是关机动画的假象
注意：/alps/frameworks/base/services/core/java/com/android/server/power/ShutdownThread.java中有个switchToLauncher方法，此方法在真正关机时会先退到主界面，因此我们需要把他屏蔽掉

三百三十五、识别SIM卡的位置
	SIM卡识别位置寻找与开机类似，我们知道SIM卡状态变化时会有android.intent.action.SIM_STATE_CHANGED，这样我们就可以找发出此广播的地方：
alps/frameworks/opt/telephony/src/java/com/android/internal/telephony/uicc/IccCardProxy.java其中有一个方法为broadcastIccStateChangedIntent

三百三十六、开关机动画组合
开机顺序：
	IccCardProxy（在亮屏之前会有消息，在手机运行过程中sim卡状态改变也会有消息）---主要用来读取数据，也需要启动动画
	doKeyguardLocked（在亮屏之前）
	finishBooting（在亮屏之后一小段时间）---启动动画


三百三十七、如何自定义google launcher的桌面
       自己写一个apk（比如说packages/apps/SageRealApp/GoogleHomeCustomization/），这个apk的里面是一个广播接收器，action为com.android.launcher3.action.PARTNER_CUSTOMIZATION

三百三十八、默认铃声的位置
	String defaultRingtone="/system/media/audio/ringtones/Ringtone_MEO.mp3";//Ringtone_MEO.mp3";
			ContentResolver mContentResolver=SimCardService.this.getContentResolver();
			Cursor mCursor=mContentResolver.query(MediaStore.Audio.Media.INTERNAL_CONTENT_URI, null, "_data = ?", new String[]{defaultRingtone}, null);
			String mediaId="";
			System.out.println("rongweid mCursor="+mCursor);
			if(mCursor!=null&&mCursor.moveToFirst()){
				mediaId=mCursor.getString(mCursor.getColumnIndex("_id"));
			}
			mCursor.close();
			System.out.println("rongweid mediaId="+mediaId);
			if(mediaId!=null && !mediaId.equals("")){
				Settings.System.putString(getContentResolver(), "ringtone","content://media/internal/audio/media/"+mediaId);
				Settings.System.putString(getContentResolver(), "mtk_audioprofile_general_ringtone_data",defaultRingtone);
				Settings.System.putString(getContentResolver(), "mtk_audioprofile_outdoor_ringtone_data",defaultRingtone);
				Settings.System.putString(getContentResolver(), "mtk_audioprofile_general_ringtone","content://media/internal/audio/media/"+mediaId);
				Settings.System.putString(getContentResolver(), "mtk_audioprofile_outdoor_ringtone","content://media/internal/audio/media/"+mediaId);
			}else{
				mMediaHandler.removeCallbacks(this);
				mMediaHandler.postDelayed(this, 2000);
			}



三百三十九、Handler.post(runnable)和new Thread(runnable)的区别
	mHandler.post(mMeoRunnable);这个是没有启动新的线程，还是在原来线程中，用这个的好处主要是可以在非ui线程中修改ui
	new Thread(runnable)，这个是直接启动新的线程

三百四十、在activity中请加入android:excludeFromRecents=“true”属性，防止用户在最近应用程序列表中看到

三百四十一、M项目上关于settingsProvider是在哪里？
      adb shell --> data/system/user/0
android N后某些数据库位置：
	Google Now Launcher数据库存放位置  ---->  /data/data/com.google.android.googlequicksearchbox/databases/launcher.db
	ContactsProvider ----->  contacts.db和callog.db都位于data/user/0/com.android.providers.contacts/databases
	TelephonyProvider -----> data/user_de/0/com.android.providers.telephony/databases
	MediaProvider -----> data/user/userid/com.android.providers.media/databases


三百四十二、如何设置fm、music的耳机声音提示等级
      frameworks/base/core/res/res/values/config.xml中的config_safe_media_volume_index值

三百四十三、手机加密默认开关方法：
      /device/sagetel/sr6735m_35gu_l/fstab.mt6735，encryptable=/dev/block/platform/mtk-msdc.0/by-name/metadata表示默认关闭，而替换成forceencrypt表示默认开启
该文件可能位于project、platform、common下，优先级从前到后，以优先级最高的属性为准
	手动开启加密方法：
		1.电量在80%以上
		2.连接usb或者充电器
		3.设置锁定屏幕 PIN 或密码
点击加密菜单进行加密，刚刚刷的软件一般加密需要几分钟时间，加密成功后会自动重启手机，再进入菜单会显示“已加密”，菜单点击无效

此功能可以用来加密手机上的所有数据，包括 Google 帐户、应用数据、音乐和其他媒体信息、已下载的信息等。如果执行了加密操作，您每次开机时都必须输入数字 PIN 或密码。
请注意，上述 PIN 或密码与您在未加密状态下解锁手机时所用的相同，无法单独设置。
警告：加密操作无法撤消。要将手机恢复为未加密状态，唯一的方法是恢复出厂设置，但这会清除您的所有数据

三百四十四、客户希望在通话过程中我方开始录音时，对方能够收到提示音；
	我们发现在通话过程中点击拨号盘会有声音发出，且对方能够听到，于是我们在通话录音开启的时候使用拨号盘的发声方式去解决此问题；
	方法很简单：
		alps/packages/apps/InCallUI/src/com/android/incallui/CallButtonFragment.java
		在onVoiceRecordClick方法中添加如下：
                       Call mRecordCall=CallList.getInstance().getActiveCall();
                       TelecomAdapter.getInstance().playDtmfTone(mRecordCall.getId(), '0');
                       TelecomAdapter.getInstance().stopDtmfTone(mRecordCall.getId());
                       TelecomAdapter.getInstance().playDtmfTone(mRecordCall.getId(), '9');
                       TelecomAdapter.getInstance().stopDtmfTone(mRecordCall.getId());
                       TelecomAdapter.getInstance().playDtmfTone(mRecordCall.getId(), '0');
                       TelecomAdapter.getInstance().stopDtmfTone(mRecordCall.getId());
	代码连续播放了三个键的tone，用来区分录音和普通按键音

三百四十五、Google app安全检查
	该项的修改在/alps/frameworks/base/packages/SettingsProvider/res/values/defaults.xml中的def_package_verifier_enable，该项需要设置为true；该项设置为true后会有一个问题，当在有数据连接或wifi的情况下安装app，大多数情况下会出现一个弹出框，详见redmine46265。而客户的sfr应用会在有网络的情况下自动下载app，因此会弹出这个框，客户要求将此框去掉，只要将该值设定为false即可，在KK上是这么做的；但是最新google认证中，需要有这个弹出框，因此将其设置为true，google认证软件以google认证优先

三百四十六、如何隐藏settings-->apps里面的一些apk
    packages/apps/Settings/src/com/android/settings/applications/ApplicationsState.java，在该文件中的handleRebuildList()方法中的 filteredApps.add(entry);下面加上
			   for(int j=0;j<HIDE_APPS.length;j++){
					if(HIDE_APPS[j].equals(info.packageName)){
						filteredApps.remove(entry);
					}
			   }

	而  public final static String[] HIDE_APPS=new String[] {
        	"com.mediatek.mtklogger",
 		"com.example.factorydevelop",
        	"com.example.factorydevelopx",
		"com.mediatek.ygps",
		"com.mediatek",
		"com.android.simmelock",
		"com.android.location.fused",
		"com.mediatek.engineermode",
		"com.mediatek.weather",
		"com.mediatek.appwidget.weather",
		"com.android.keyguard",
		"com.mediatek.thermalmanager",
		"com.android.printspooler",
		"com.mediatek.apst.target",
		"org.simalliance.openmobileapi.service",
	};


三百四十七、在写disableApp这个apk的时候注意有种情况，如果sim卡被PIN锁了，这时候会先显示PIN界面才会识别sim卡，这时候不要让他不要去做SimCardService的方法，否则会混乱


三百四十八、当打开某个文件的时候，当你修改了该文件保存后，在你不关闭该文件的情况下，会多出 文件名.java~的文件，这时候可以进入Edit-->Preferences-->Editor-->File Saving中把Create a backup copy of files before saving的勾去除

三百四十九、设置gsm.sim.operator.numeric的ro值的地方
	/frameworks/opt/telephony/src/java/com/android/internal/telephony/uicc/SIMRecords.java，onAllRecordsLoaded（）方法中 SystemProperties.set(SIM_RECORDS_PROPERTY_ICC_OPERATOR_NUMERIC[mSimId], operator);


三百五十、如何客制化语言，就是插不同的卡用不同的默认语言
	According to the SIM (English by default)
	根据sim卡来决定语言，默认英语，Meo要选中葡萄牙语，而sfr要选择法语
	默认语言：spl会进行修改
	根据sim卡决定：在KK上该方法默认有效，L上要修改一些代码：
	alps/frameworks/opt/telephony/src/java/com/android/internal/telephony/MccTable.java
	添加方法：
		private static boolean isDeviceProvisioned(Context context) {
        		try {
           			 return android.provider.Settings.Global.getInt(
                    		context.getContentResolver(), android.provider.Settings.Global.DEVICE_PROVISIONED) != 0;
        		} catch (android.provider.Settings.SettingNotFoundException e) {
           			return false;
        		}
    		}
		将if (!(persistSysLanguage.isEmpty() && persistSysCountry.isEmpty())) {
		替换为if (!(persistSysLanguage.isEmpty() && persistSysCountry.isEmpty())&&isDeviceProvisioned(context)) {

	ps:M上本来就是好的，无需修改
M原理如下：
      Android M上默认不会随sim卡去自适应语言。
      对于M上有些首次开机不是系统默认配置的语言问题，是因为安装了GMS包，M上虽然没有去自适应语言，但是有从sim卡的EF中去读取语言并保存起来（只是默认没有使用它去更新语言而已），GMS包中有使用这个保存的语言用它去更新语言，所以安装了GMS包后会自适应为EF文件中读取到的语言。 EF文件中读取到的语言一般是这个sim卡所属国家的语言，但有些坏的sim中EF文件存储的是其它国家的语言，所以自适应语言时也会自适应为其它国家的语言。

L原理如下：
	L上未安装GMS包时, 语言设定情况如下:
	 (1)系统预置语言, 即在makefile中指定的语言
	 (2)刷机重启, 如果未插卡, 则系统语言为预置的语言
	 (3)刷机重启插入SIM卡开机(首次开机), 会自适应为SIM卡的语言, 如首次开机未插入SIM卡, 后面插入SIM卡开机不会再根据SIM卡自适应语言.
	 (4) 如果有手动设置语言, 以后开机, 不管插入的是哪个国家的卡, 都会显示设置的语言, 不会根据SIM卡自适应变化.

	L上根据sim卡去自适应语言的流程有两路：
	(1)sim卡ready时读取mcc(国家码)，通过mcc去找其所对应的country code和language code, 然后去更新语言。
	(2)如果有设置sim卡PIN码，则从sim卡的EF文件中去读取语言更新


SFR卡为法语  MEO卡为葡萄牙语
[FAQ19122]Android N 首次开机不随sim卡自适应语言修改方案
[FAQ18327]Android M 首次开机随sim卡自适应语言错误原因及修改方案
[FAQ17975]Android M 首次开机不随sim卡自适应语言修改方案
[FAQ14489]Android L SIM卡更新语言问题
[FAQ08190]如何修改Sim卡语言自适应  ---->  KK

三百五十一、开机动画可以直接push到手机中，路径为adb shell --> cd system/media下面

三百五十二、[FAQ12880]锁屏界面如何延长亮屏到灭屏的等待时间
[DESCRIPTION]
       默认锁屏界面无操作情况下到灭屏的等待时间是10S.如想延长锁屏界面到灭屏的等待时间, 可参考如下solution.
[SOLUTION]
可以修改KeyguardViewMediator.java文件中常量AWAKE_INTERVAL_DEFAULT_MS的值:protected static final int AWAKE_INTERVAL_DEFAULT_MS = 10000;

可自行修改，但需注意:
(1)锁屏界面亮屏到灭屏的等待时间不会大于系统设置中休眠时间的值, 例如系统设置->显示->休眠中 设置为一分钟, 而AWAKE_INTERVAL_DEFAULT_MS的值为修改两分钟，则锁屏界面亮屏到灭屏的等待时间为一分钟。
(2)如果AWAKE_INTERVAL_DEFAULT_MS的值设置为小于10S, 则锁屏到灭屏的等待时间为10S. 

三百五十三、settings-->more-->Mobile networks-->Access Point Names里面的默认值
   这些默认值都是在mediatek/frameworks/base/telephony/etc/apns-conf.xml里面设置的，具体哪项用哪句话去写（比如说要apns protocol默认为IPV4/IPV6，那就要在apns-conf.xml文件中加上protocol="IPV4V6"，至于为什么用protocol,因为这些默认值都是写在com.android.providers.telephony中的，默认的值是直接解析apns-conf.xml文件的，所以到底为什么用protocol，我们可以进入packages/providers/TelephonyProvider/src/com/android/providers/telephony/TelephonyProvider.java中getRow(XmlPullParser parser)方法去看，里面都有解析的方法）
   ps：如果默认为ipv4的话，protocol="IP"；如果默认为ipv6，protocol="IPV6"；如果默认为ipv4、ipv6的话，protocol="IPV4V6"

三百五十四、如何抓取操作数据库的log的方法（因为操作数据库的log较大且多，所以mtklogger一般不会把这块的代码放入到mobilelog里面，要进行以下操作）
	4、新建一个local.prop文件，里面填入
		log.tag.SQLiteStatements=VERBOSE
		log.tag.SQLiteTime=VERBOSE
		log.tag.SQLiteLog=VERBOSE
		log.tag.SQLiteQueryBuilder=VERBOSE
		log.tag.SQLiteDatabase=VERBOSE
		log.tag.SQLiteConnection=VERBOSE
		log.tag.ContactsProvider=VERBOSE
		log.tag.ContactAggregator=VERBOSE
		log.tag.ContentService=VERBOSE
		然后
		adb remount
		adb push ./local.prop ./data/
		adb shell chmod 750 ./data/local.prop
		adb reboot
		添加以上log后，帮忙复现问题，抓取mobilelog来分析，并且给出复现问题时手机显示的时间。
		复现后请不要再继续操作 


三百五十五、如何看陀螺仪是否支持
       进入projectConfig.mk文件后，搜索CUSTOM_KERNEL_GYROSCOPE即可，如何后面没有写东西，就是不支持，反之，亦然

三百五十六、关于modem mak文件的命名长度问题--不要超过38个字符，否则手机链接cat抓取log会出现log挂掉的情况

三百五十七、IMEISV的修改   [FAQ02072]关于IMEI、IMEISV、SVN
	IMEI(International Mobile Equipment Identity)是国际移动设备身份码的缩写，固化于手机中，每个手机的IMEI应该是唯一、不变的。
	IMEI码由GSM（全球移动通信协会）统一分配，授权BABT（英国通信认证管理委员会）审受。
	2004年以前的标准中，IMEI共15位（取值必须是0~9的数字），依次分别是6位TAC、2位FAC、6位SNR、1位CD校验位。
	2004年以后的标准中删去了最后的1位CD校验位，新加入了2位SVN(software version number)，故称IMEISV，共16位（取值仍必须是0~9的数字）。
	SVN的取值也必须是0~9的数字，而且99这个值是被保留的。
	网络检查的时候会指明检查IMEI还是IMEISV，如果是检查IMEI，则手机许上报前14位IMEI（1位CD校验位不上报），如果是检查IMEISV，则手机上报16位IMEISV
        1、IMEI SV 的修改，可以通过AT COMMAND ：AT+EGMR=1,9,”00”;
        2、在modem端修改，custom/service/nvram/nvram_data_items.c文件中的
		SYS_CACHE_ENTRY(NVRAM_SYS_SVN,
                    NVRAM_APP_RESERVED,
                    KAL_FALSE,
                    "NVRAM_SYS_SVN",
                    0x10, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00),

三百五十八、ro.product.device以及ro.product.name里面不可以有非法字符（如"."）,会导致google的play store连接不上

三百五十九、如果某个activity包名跟主包的包名一样，这个activity可以直接使用R，如果不是主包的包名，需要导入一个包：import 主包+R

三百六十、[bug](状态栏)状态栏中的电池图标显示与实际不符  redmine55107
     frameworks/base/packages/SystemUI/src/com/android/systemui/BatteryMeterView.java中public void draw(Canvas c)方法中
		//final int level = tracker.level;
		int level = tracker.level;
		if (level<=4) {
		    level = 0;
		} else if (level<=15 && level>4) {
		    level = 15;
		} else if (level<=35 && level>15) {
		    level = 28;
		} else if (level<=49 && level>35) {
		    level = 43;
		} else if (level<=60 && level>49) {
		    level = 57;
		} else if (level<=75 && level>60) {
		    level = 71;
		} else if (level<=90 && level>75) {
		    level = 85;
		} else if (level>90) {
		    level = 100;
		}

三百六十一、[FAQ13432][Dialer]如何使拨号盘搜索支持葡萄牙文？     http://unicode-table.com/cn/#control-character
	   packages/providers/ContactsProvider/src/com/android/providers/contacts/HanziToPinyin.java中添加的
		static {
        sMuiSupportMap.put('\u00c0', '2'); //   -->'\u00c0'这个unicode对应的字符可以用2搜索出来
	sMuiSupportMap.put('\u00c0', 'a'); //   -->'\u00c0'这个unicode对应的字符可以用a搜索出来


	sMuiSupportMap.put('\u00e3', 'a'); //ã
	sMuiSupportMap.put('\u00e2', 'a'); //â
	sMuiSupportMap.put('\u00e1', 'A'); //Á
	sMuiSupportMap.put('\u00c3', 'A'); //Ã
	sMuiSupportMap.put('\u00c0', 'A'); //À
	sMuiSupportMap.put('\u00c2', 'A'); //Â

	sMuiSupportMap.put('\u00e9', 'e'); //é 
	sMuiSupportMap.put('\u00ea', 'e'); //ê
	sMuiSupportMap.put('\u00e8', 'e'); //è
	sMuiSupportMap.put('\u00eb', 'e'); //ë

	sMuiSupportMap.put('\u00ed', 'i'); // í
	sMuiSupportMap.put('\u00ec', 'i'); // ì
	sMuiSupportMap.put('\u00ee', 'i'); // î
	sMuiSupportMap.put('\u00ef', 'i'); // ï

	sMuiSupportMap.put('\u00f5', 'o'); // õ
	sMuiSupportMap.put('\u00f4', 'o'); //ô
	sMuiSupportMap.put('\u00f3', 'o'); //ó
	sMuiSupportMap.put('\u00f2', 'o'); //ò

	sMuiSupportMap.put('\u00e7', 'c'); // ç

	sMuiSupportMap.put('\u00fa', 'u'); //ú
	sMuiSupportMap.put('\u00f9', 'u'); //ù
	sMuiSupportMap.put('\u00fb', 'u'); //û
	sMuiSupportMap.put('\u00fc', 'u'); //ü

	sMuiSupportMap.put('\u00ff', 'y'); //ÿ

        具体所有的特殊字符的对应unicode值，可以看/home/jiangcunbin/Desktop/sagereal资料/自己总结/特殊字符unicode值 该文件
    }


三百六十二、预置联系人的名字修改在packages/apps/Contacts/src/com/mediatek/contacts/simservice/PresetContactsImportProcessor.java中的INSERT_PRESET_NAME[]
	 
       问题点：如果在恢复出厂设置后预置联系人去写入数据库时断电，就会出现预置联系人只写入一部分，这时候去重启的时候，代码端检测到预置联系人数据库已经有值（不会去管你是否完全写入），这就导致预置联系人一直丢失一部分，这时候就需要一些保护措施。
       修改方法：packages/apps/Contacts/src/com/mediatek/contacts/simservice/PresetContactsImportProcessor.java文件中contactCursor != null && contactCursor.getCount() > 0下面的return修改为continue；packages/apps/Contacts/src/com/mediatek/contacts/simservice/PresetContactsImportProcessorOrange.java文件中contactCursor != null && contactCursor.getCount() > 0下面的return修改为continue；
	
  

三百六十三、带项目的时候，当该项目不过gms认证的时候，必须检查client_id和fingerprint是否有mobiwire等公司的信息，这样会导致google查到这个项目没过gms认证的话，然后发现了我们公司的信息，这样会使公司罚款

三百六十四、如何关闭小区广播（Cell Broadcast）
    在modem端修改，custom/service/nvram/nvram_cust_pack.c文件中COMMON_NVRAM_EF_SMSAL_COMMON_PARAM_DEFAULT[]项中
         #if defined (__CB_SETTING_OFF__)  //redmine 36063 CB setting modify by shiyujiao 2015-07-23 begin
    		0x00, 0x01,              -->关闭小区广播
    	 #else 
    		0x01, 0x01,              -->打开小区广播
   	 #endif    
     
    ps:有时候在modem端关闭小区广播后，发现插卡后刚进去是关闭的，过段时间进去就出现又打开的状态，这是去看下MTK_ETWS_SUPPORT是否关闭


三百六十五、当使用startActivityForResult()时，去启动一个acitivity的时候，前面千万不能有Intent.FLAG_ACTIVITY_NEW_TASK和Intent.FLAG_ACTIVITY_SINGLE_TOP，且被启动的apk
在androidManifest.xml文件中不可以有android:launchMode="singleInstance"，只能是默认的（也就是launchMode是standard模式），不然的话，会出现startActivityForResult()运行后，还没等到被调用的 Activity 返回，onActivityResult() 就被执行了，且返回的RESULT_CANCELED
     还有一种情况：startActivityForResult(intent, 0);是第二个参数的问题，该参数必须大于0才能在返回值，并激活onActivityResult方法。
     ps：也就是onActivityResult要这个有用被启动的activity只能是standard模式

三百六十六、当电话接通或者电话没人接、被人挂断等状态都是在packages\apps\phone\src\com\android\phone\CallNotifier.java文件中，onDisconnect（）方法中的是电话被挂断或者无法接通或者是无人接听等无法连接上的时候的情况，可以在这个情况下获取无法接连上的各种状态进行判断，然后状态改变时也会去调用onPhoneStateChanged（）方法

三百六十七、packageName="com.google.android.apps.plus"
         className="com.google.android.apps.plus.phone.ConversationListActivity"---->photo

        packageName="com.google.android.apps.plus"
         className="com.google.android.apps.plus.phone.HomeActivity"    ----> google+


三百六十八、短信编码方式(bit是位，byte是字节，1byte = 8bit)，短信最多输入140个字节（byte）
	1、GSM编码 --> 7bit -->1个字节-->主要用来发送ASCII字符 --> 有abc、ABC、123、@主要是这四种类型的可以通过GSM编码发送
        2、UCS2编码 --> 16bit -->2个字节-->主要用来发送Unicode字符 -->除了ASCII字符，还加上了很多国家的语言，比如汉字，所以短信发汉字用的是2个字节
	1.GSM alphabet  表示用户编辑的短信内容都用7bit进行编码
		如果输入的都为ASCII字符，则最多可以输入的字符数为140x8(每个字节为8位)/7(该编码方式为7位)=160，但是如果输入中存在Unicode字符，则按照Unicode的编码方式进行编码，则最多可以输入的字符数为140x8(每个字节为8位)/16(Unicode编码方式为16位)=70
	2.Unicode    表示用户编辑的短信内容都用ucs2进行编码  
		不管输入的是ASCII字符还是Unicode字符，都是按照16位的进行计算，则最多可以输入的字符数为140x8(每个字节为8位)/16(Unicode编码方式为16位)=70
	3.Automatic  先用7bit进行编码，如果有些字符无法用7bit编码（有些字符并没有在编码表里面定义），则用ucs2进行编码
		如果输入的都为ASCII字符，则最多可以输入的字符数为140x8(没个字节为8位)/7(该编码方式为7位)=160，但是如果输入中存在Unicode字符，则按照Unicode的编码方式进行编码，则最多可以输入的字符数为140x8(没个字节为8位)/16(Unicode编码方式为16位)=70     （同GSM alphabet的编码方式）
        由于默认的GSM alphabet和Automatic的编码方式相同，所以很多客户要求我们在选择GSM alphabet编码方式时，直接[FAQ10993]SMS内容强制用7bit编码[Orange operator]，当你输入Unicode字符时，发送出去的时候直接用“？”代替，而“？”就是ASCII字符，所以此时选择该编码方式，最多可以输入的字符数为140x8(没个字节为8位)/7(该编码方式为7位)=160

三百六十九、脚本中覆盖的方法：sed
sed -i "/LOCAL_OVERRIDES_PACKAGES/s/.*LOCAL_OVERRIDES_PACKAGES.*/LOCAL_OVERRIDES_PACKAGES := $sagereal_remove_apps/" ../alps/vendor/google/apps/GoogleLoginService/Android.mk
（sed -i "/可以准确选中的某行的字段/s/需要覆盖额度字段/用来覆盖的字段" ../需要操作的文件路径）
  ps:.*代表的是.后面任何字符
sed -i "/config_automatic_brightness_available/s/>.*</>false</" $path

三百七十、64位系统环境下，在eng版本中预置32位apk可以运行，在user版本中预置的32位apk运行报错？
     原因：1、User版本的32位apk在64位系统环境下编译时，默认被编译解析为64位路径。当运行时找不到其32位的默认路径，报错。在Android.mk文件中加入LOCAL_MULTILIB := 32，可以编译解析为32位路径，运行不报错。
          2、Eng版本没有32位和64位区分，运行不报错


三百七十一、目前编译服务器开了4个端口使用：

	172.16.78.123:66
	172.16.78.123:77
	172.16.78.123:88
	172.16.78.123:99

	密码：master
	由于编译服务器空间有限，请无用的工程及时清理
	对编译服务器的使用有疑问，请联系我

三百七十二、[MEO bug36]Wallpaper - During initial Power ON （redmine 59967）
	1、KeyguardHostView.java文件KeyguardHostView(Context context, AttributeSet attrs)方法中最后面加上setBackgroundResource(R.drawable.lockscreen_background);
	2、KeyguardViewManager.java文件中maybeCreateKeyguardLocked(boolean enableScreenRotation, boolean force,
            Bundle options)方法中WindowManager.LayoutParams.FLAG_SHlauncherOW_WALLPAPER这个注释掉，这个的作用就是在该window后显示系统的墙纸（wallpaper），所以注释掉，然后用自己新对应的只能显示一个屏幕大小的壁纸

三百七十三、[bug](设置)清除数据，Document意外停止 （redmine25722）
     现象:[步骤]安装apk在SD卡中，设置-Storage中卸载SD卡，进入设置-App中点击安装在SD卡中的应用，点击Clear data，界面提示Document意外停止，如图所示
     修改：packages/apps/Settings/src/com/android/settings/applications/InstalledAppDetails.java文件中 if ((mAppEntry.dataSize+ mAppEntry.externalDataSize) <= 0 || !mCanClearData) 修改为if ((mAppEntry.dataSize+ mAppEntry.externalDataSize) <= 0 || !mCanClearData || !mAppEntry.mounted) 

三百七十四、默认时间的修改
     72L：
	alps/vendor/mediatek/proprietary/frameworks/base/res/res/values/config.xml  修改default_restore_year值
 
	alps/frameworks/base/services/core/java/com/android/server/NetworkTimeUpdateService.java
	//today.set(1, 8, mDefaultYear);
	修改日月，第一位是日，从1开始，第二位是月，从0开始，即1，8代表9月1日，1月1日需要使用//today.set(1, 0, mDefaultYear);
 
	alps/kernel-3.10/arch/arm/mach-mt6572/sr6572_wet_l/rtc/rtc-mt.h
	alps/bootable/bootloader/lk/target/sr6572_wet_l/include/target/cust_rtc.h
	alps/bootable/bootloader/preloader/custom/sr6572_wet_l/inc/cust_rtc.h
	修改年月日，都是从1开始计数
 
	其他平台稍微有点变化，目前设定为2016-01-01会出现夏令时变为2015-12-31的情况；
	但是有些客户就是希望2016-01-01，因此出现夏令时情况的再单独与客户launcher沟通修改成其他时间；

     53L:alps/vendor/mediatek/proprietary/frameworks/base/res/res/values/config.xml  修改default_restore_year值
	alps/frameworks/base/services/core/java/com/android/server/NetworkTimeUpdateService.java
	//today.set(1, 8, mDefaultYear);
	修改日月，第一位是日，从1开始，第二位是月，从0开始，即1，8代表9月1日，1月1日需要使用//today.set(1, 0, mDefaultYear);

	/kernel-3.10/drivers/misc/mediatek/mach/mt6735/sr6735_65c_l1/rtc/rtc-mt.h 
	/bootable/bootloader/preloader/custom/sr6735_65c_l1/inc/cust_rtc.h
		
 
      kk：
	alps/vendor/mediatek/proprietary/frameworks/base/res/res/values/config.xml  修改default_restore_year值
 
	alps/frameworks/base/services/core/java/com/android/server/NetworkTimeUpdateService.java
	//today.set(1, 8, mDefaultYear);
	修改日月，第一位是日，从1开始，第二位是月，从0开始，即1，8代表9月1日，1月1日需要使用//today.set(1, 0, mDefaultYear);
	M:mediatek/custom/up40_h405f_sfr/kernel/rtc/rtc/rtc-mt.h
	M:mediatek/custom/up40_h405f_sfr/kernel/rtc/rtc/rtc-mt6575.h
	M:mediatek/custom/up40_h405f_sfr/preloader/inc/cust_rtc.h
	在以上三个文件中修改即可

三百七十五、如何获取某个apk的资源数据
     拷贝一个alps/out/host/linux-x86/bin/aapt文件到apk同目录下
     进入apk同目录打开终端，1、chmod 777 aapt   2、./aapt  dump badging DeskClock.apk  > log.txt，然后就可以在log.txt文件中看到很多该apk的数据，只是看部分apk信息建议用这个方法
						./aapt l -a DeskClockGoogle.apk > log.txt  ，解析了所有的apk信息
                                                 ./aapt dump resources DeskClockGoogle.apk > log_res.txt，解析了该apk的资源文件信息      

        aapt d permissions example.apk //显示这个apk所添加的权限
	aapt d xmltree example.apk AndroidManifest.xml //查看apk压缩文件中AndroidManifest.xml内容

三百七十六、如何使pc端的邮箱中的自带的联系人组同步到手机上，自己在pc端中新launcher建的联系人组不同步到手机上
     在alps/packages/apps/Exchange/src/com/android/exchange/adapter/FolderSyncParser.java文件中注释掉MAILBOX_TYPE_MAP.put(Eas.MAILBOX_TYPE_USER_CONTACTS, Mailbox.TYPE_CONTACTS);然后在修改下该数组的大小


三百七十七、新建联系人时，把某些特殊的字母写入作为联系人的名字，保存后名字会变成保存的号码，即名字不会保存（redmine 62148）
	[FAQ08018]系统语言为英语时，Contacts联系人名字含有特殊前缀后缀(Dr. Mr. Lt等)时的相关问题处理

三百七十八、sim总结
	1、Invalid SIM 表示注册网络，被网络reject.   [FAQ02891][SIM]什么情况下显示Invalid SIM
        2、[FAQ17655]SIM卡联系人无法收藏
        3、[FAQ18208][SAT]如何不显示开机SIM卡欢迎语
	4、[FAQ14489]Android L SIM卡更新语言问题 


三百七十九、
	服务器用户名和密码： gsm\63994  smn123456
	 
	fex网站（上传下载patch和log等）：https://fex.mediatek.com/LoginWebUser.aspx?ReturnUrl=%2fDownloadList.aspx 
	先点击customer,再输入用户名:nbbse-3， 登录密码:sr20110518  接收方邮箱：mtkeservice@mediatek.com
	 
	eservice网站（问题沟通）：http://eservice.mediatek.com/eservice-portal/login
	用户名:nbbse-3，密码:sr20110518
	 
	DCC PDF网站（资料下载）：MediaTek Document Center: https://dcc.mediatek.com
	用户名：zhangzhefeng@sagereal.com  密码：12121985

	PDF File open password:
	1498169196(第一个密码)
	3692842215(若第一个密码失效,可以试一试这个)launcher
	1498169196 3692842215 2894058698 1977051217 3627735875 （最新的密码）

	部分旧的文档，需要使用
	1977051217
	2894058698



 
三百八十、既可以储存值，又可以在重启后去除
     System.getProperty("persist.show","0");
     System.setProperty("persist.show","1");
     该值设置后是保存在手机中的虚拟机中，当重启的时候会把该值插除

三百八十一、如何在L、M、GO/O项目中修改分区
	L、M：先进入projectConfig.mk文件中搜索sagereal_fat_config，如果后面有值就修改../sagereal/custom/fatconfig/SYSTEM2000M（sagereal_fat_config对应值命名）/partition_table_MT6580.xls；如果没有值就修改/device/mediatek/build/build/tools/ptgen/MT6580/partition_table_MT6580.xls
        GO/O：alps/device/mediatekprojects/$project/BoardConfig.mk中设定：
		BOARD_MTK_SYSTEM_SIZE_KB := 1024000
		BOARD_MTK_VENDOR_SIZE_KB := 307200
		BOARD_MTK_CACHE_SIZE_KB := 114688



三百八十二、若需工厂模式下的编译时间为当前编译时间，实际获取的编译时间与上一版本保持一
致，来让工厂与上一版本区别，则可做如下修改:
 
   1.alps/build/tools/buildinfo.sh
	修改#echo "ro.build.date=`date`"为 echo "ro.build.date=2016年 04月 28日 星期四 17:15:21 CST"
 
   2.添加alps/build/tools/buildinfo.sh：
	echo "ro.sagereal.date=`date`"
 
   3.alps/vendor/mediatek/proprietary/factory/src/util/version.cpp
 
    	property_get("ro.build.date", val, "TBD");
    	print_verinfo(info, len,  "Build Time  ", val);
    修改为
    	property_get("ro.sagereal.date", val, "TBD");
    	print_verinfo(info, len,  "Build Time  ", val);
 

三百八十四、[FAQ14322]【Phone Call】关于L版本来电响铃与UI同步的Workround方法

三百八十五、[FAQ08793]"Hotspot & tethering settings"的预设值IPv4,如何将它的預設值改為"IPv4 & IPv6"
           [FAQ08603][Dialup]测试IPv6拨号失败
	   [FAQ15542]IPv6 tethering feature项介绍及通用配置
	   [FAQ13289][PAN][KK]网络共享与便携式热点设置”设为“IPv4&IPv6”，无法共享网络
	   [FAQ11563]请问平台是否支持IPv6？请帮忙确认IPv6相关需求是否支持?
	   [FAQ15292]IPv4 or IPv6 Prefer       如果同时拥有IPv4和IPv6的地址，是会默认优先上报IPv6的地址，若需要修改为IPv4 prefer，可以按如下方式修改


三百八十六、[FAQ11564]长按Home键唤起Google Now
	1. 修改frameworks/base/core/res/res/values/Config.xml
		<integer name="config_longPressOnHomeBehavior">2</integer>
	注：这里的值可以设置三个，1代表唤起recent app界面；2代表唤起搜索界面（Google Now)；3代表Nothing


三百八十七、{72KK共性}[bug]（情景模式） 标准情景模式中勾选“触摸提示音”和“触摸时振动”，按下方3个软键没有反应  （redmine32909）

三百八十八、最好用的反编译工具的使用方法
         ./jadx -d output  xxx.apk 也可使用
	有时间会卡住，此时只能解析部分dex文件， 可使用:./jadx-jui xxx.apk

三百八十九、通过fota升级一些nvram，必须修改lid的值
        1、锁网的lid是在modem端的interface/service/nvram/nvram_editor_data_item.h文件中的NVRAM_EF_SML_LID_VERNO
	2、音频参数的lid是在mediatek/custom/up16_h502s_meo/cgen/inc/Custom_NvRam_LID.h文件中的AP_CFG_RDCL_FILE_AUDIO_LID_VERNO值（kk）
			  vendor/mediatek/proprietary/custom/sr6580_weg_l/cgen/inc/Custom_NvRam_LID.h文件中的AP_CFG_RDCL_FILE_AUDIO_LID_VERNO值(L)
		PS:[FAQ14500][Audio Common] OTA升级音频参数后如果不恢复工厂设置也能生效
         3、小区广播的lid是在interface/service/nvram/nvram_editor_data_item.h文件中的NVRAM_EF_CB_CH_INFO_LID_VERNO 
	 4、IMEISV的lid是在interface/service/nvram/nvram_editor_data_item.h文件中的NVRAM_EF_IMEI_IMEISV_LID_VERNO 

三百九十、开机向导引起灭屏时间问题 
	文档位置/home/jiangcunbin/Desktop/sagereal资料/自己总结/GMS认证/GMS包引起问题分析_new/开机向导引起灭屏时间问题.txt
	开机向导正常整个过程就是 60000->121000->60000，在开机向导界面拔掉电池，这个行为是第二次时把121000->60000这个过程破坏了。导致开机向导没能把这个值修改回来。
而我们的修改方式就是把60000->121000这个过程就不让走。这样自然就不会把这个时间给修改了。修改文件在frameworks/base/packages/settingsprovider/src/com/android/providers/settings/SettingsProvider.java文件中的isRedundantSetValue方法中加上
		if(name.equals("screen_off_timeout")&&value.equals("121000"))
                        return true;


三百九十一、如何在开机向导后让wifi关闭 （redmine52041） 开机向导结束后把值改成on
	frameworks/base/packages/settingsprovider/src/com/android/providers/settings/SettingsProvider.java文件中的call(String method, String request, Bundle args)方法中加上
	if(FeatureOption.SAGEREAL_DEFAULT_WIFI_OFF){ 
			try {
				if(args!=null && request.equals(Settings.Secure.USER_SETUP_COMPLETE) && args.getString(Settings.NameValueTable.VALUE,"0").equals("1")){
					connManager = (ConnectivityManager) getContext().getSystemService(Context.CONNECTIVITY_SERVICE);
					mWifi = connManager.getNetworkInfo(ConnectivityManager.TYPE_WIFI);
					mWifiManager = (WifiManager)getContext().getSystemService(Context.WIFI_SERVICE);
					if(mWifi.isConnected()){
						android.util.Log.i("panhaoda123","connected");
					}else{
						android.util.Log.i("panhaoda123","disconnected");
						mWifiManager.setWifiEnabled(false);
					}
				}
			} catch (Exception e) {
				e.printStackTrace();
			}	
		}


三百九十二、更新数据库sql语句
	update secure set value = 1 where name=”device_provisioned”;

三百九十三、home无效
        user_setup_complete该值为0时home键无效，为1时home键有效

三百九十四、L项目状态栏无法下拉
	/home/jiangcunbin/Desktop/sagereal资料/自己总结/GMS认证/GMS包引起问题分析_new/状态栏无法下拉
	原因：1. Settings.Global.DEVICE_PROVISIONED 在开机完成后未设置成1
	     2. 状态栏的expand功能被disable掉


三百九十五、如何让user的也默认打开mtklog
	L：alps/vendor/mediatek/proprietary/external/xlog/tools/mtklog-config-user.prop
	M/N：alps/device/mediatek/common/mtklog/mtklog-config-bsp-user.prop
        把这两个文件中的值都改为true

三百九十六、开机向导wifi skip置灰
	/home/jiangcunbin/Desktop/sagereal资料/自己总结/GMS认证/GMS包引起问题分析_new/FAQ18056.pdf
	5.1_r3版本,按钮置灰一段时间后可以恢复,点击即可跳过  -->  主要因为GmsCore的3个dex文件做dex2oat时间太长导致,由于手机防盗功能,开机向导在wifi设置界面需要判断FRP的状态来决定是否一定需要网络来登录Google账户验证,FRP状态需要通过GmsCore的FrpService获取,而FrpService需要等待GmsCore的3个插件dex文件做dex2oat完成后才能启动.如果在开机向导的wifi设置界面,FrpService还没有启动起来,那么这个时候skip按钮就是置灰的;需要一直等待FrpService启动后获取到正确的FRP状态后skip按钮才可以点击
	6.0_r2版本,按钮置灰不能恢复,则此次开机一直不能跳过  -->   M版本GmsCore第一次运行时并不需要再做dex2oat,可是SetupWizard的机制有所变化,即:SetupWizard通过asyncTask调用GmsCore获取FRP Status,如果10s未返回结果则cancel掉此asyncTask(通过中断线程执行直接cancel,同时抛出InterruptedException异常),且设置必须要网络连接才可以进行下一步
对于性能不够好的机器,10s有可能线程未能及时finished,则会导致开机向导状态错误

	ps：当打开数据流量的时候，不会按照上面描述的去走，会去连接google的服务器；当没有打开数据流量的时候，会通过上面的描述去走

三百九十七、Play Store无法连接
	10-08 14:00:04.374197: E/CheckinTask(1063): Checkin failed: https://android.clients.google.com/checkin (request #0): java.io.IOException: Rejected response from server: invalid hardware identifier: "Andy5.5EI" is not a valid device
	从log中可以明确的知道Andy5.5EI这个名字是不被play store认可的，所以ro.product.device以及ro.product.name两个值是不能带有空格或“.”这样的字符

三百九十八、[bug](蓝牙)手机可以发送flac格式的音频文件，但不能接收（redmine57636）
	packages/apps/Bluetooth/src/com/android/bluetooth/opp/Constants.java文件中ACCEPTABLE_SHARE_INBOUND_TYPES中加上application/x-flac

三百九十九、M平台上每个联系人前面都有一个各种颜色的圆形，里面是该联系人的首字母，如何改变它的颜色？  redmine65190
	packages/apps/ContactsCommon/src/com/android/contacts/common/lettertiles/LetterTileDrawable.java文件中的pickColor(final String identifier)方法
	
四百、如何把window里面的txt文件转换为linux系统下的文件（不转换会显示乱码）
	iconv -f gb18030 -t utf8 file1 -o file2

四百零一、[bug](通话)插入耳机通话，屏幕灭后短按耳机键，通话不会进行保持/恢复的切换；长按耳机键，不会挂断 （redmine65577）
	MTK FAQ：FAQ06051有类似情况说明，耳机上按键检查是通过ADC来获取的。当系统休眠后，此按键的识别会无法检测到，唯一的方案是在通话过程中，通过wake lock设置使用系统不进入休眠，但这样操作会增加功耗。不建议修改，请知悉，谢谢！

四百零二、redmine65693  [bug](名称)WIFI直连名称显示错误
	kk：frameworks/base/wifi/java/android/net/wifi/p2p/WifiP2pService.java文件中的getPersistedDeviceName()方法
        L：frameworks/opt/net/wifi/service/java/com/android/server/wifi/p2p/WifiP2pServiceImpl.java文件中的

四百零三、[FAQ04794]如何修改默认数据连接开关(前提是数据库的默认值loadSetting(stmt, Settings.Global.MOBILE_DATA要修改好)
       L(单卡)：frameworks/opt/telephony/src/java/com/mediatek/internal/telephony/dataconnection/DataSubSelector.java文件subSelectorForOm(Intent intent)方法中
		turnOffNewSimData(intent);  -->运行后关闭，不运行就是打开

       L(双卡)：把上面的修改后在修改后面的
		frameworks/opt/telephony/src/java/com/android/internal/telephony/dataconnection/DcTrackerBase.java文件handleMobileDataSettingNotFound()方法中
		Settings.Global.putInt(mResolver, Settings.Global.MOBILE_DATA + phoneSubId, 0);-->关闭
		Settings.Global.putInt(mResolver, Settings.Global.MOBILE_DATA + phoneSubId, 1);-->打开
四百零四、蓝牙默认名称
   kk：mediatek/config/up39_h455_coppel/custom.conf文件中bluetooth.HostName中

四百零五、如何让每个apk里面的menu通过三个点显示出来
   frameworks/base/core/res/res/values/config.xml文件中的<integer name="config_overrideHasPermanentMenuKey">0</integer>值改为2

四百零六、如何修改Settings-->Display-->Font size
   L:frameworks\base\core\java\android\content\res\Configuration.java中的setToDefaults()方法中的fontScale值，1.0f为normal，0.9f是small


四百零七、关于gms认证（cts gts）	
			Android L		Android M
	  GMS包 ：	  gms_r5		  gms_r4
	CTS测试工具：	CTS5.1_R7		 CTS6.0_R6
	GTS测试工具：	GTS3.0_R4		 GTS3.0_R4

四百零八、[FAQ12292]浏览器下载文件无法打开

四百零九、[FAQ14338]L 版本浏览器保存离线阅读失败

四百一十、[FAQ12506]如何实现壁纸不随着workspace的滑动而滑动
   在Workspace.java中把调用updateOffset的地方全部注释掉。
	ps：同时要把“[FAQ10958]系统WallPaper图片可以设置成屏幕大小的图吗？”合入
	
四百一十一、[FAQ14575]L版本email附件下载安全策略

四百一十二、M项目中settingprovider的数据库位置
      adb shell --> data/system/users/0

四百一十三、如何打开前后摄像头的连拍功能
      找到对应的修改插值的文件，比如说vendor/mediatek/proprietary/custom/mt6580/hal/sendepfeature/gc030a_mipi_raw/config.ftbl.gc030a_mipi_raw.h，然后搜索front sensor，可以发现有通过facing == 1判断前后摄像头，只要把MtkCameraParameters::CAPTURE_MODE_CONTINUOUS_SHOT加上即可

四百一十四、如何在recent app下面添加一键清理的功能
    加上这个宏sagereal_support_ram_killer，具体如何实现可以参考80M项目的dev分支

四百一十五、M或者L项目的init.rc文件路径
   	/alps/device/mediatek/mt6580/init.mt6580.rc





四百一十七、当开机的动画结束后到锁屏界面出来中间出现较长时间的黑屏（非第一次开机，因为第一次开机有开机向导）
    因为开机动画的最后一张图片是纯黑的，开机动画时间较短，最后是通过最后一张图片延续到锁屏界面出来，如果要修改，就去更换开机动画最后一张图片

四百一十八、[FAQ14338]L 版本浏览器保存离线阅读失败

四百一十九、L、M平台如何设置usb、mtp、cd rom选项：
	usb、mtp ：真正修改的地方：device/sagetel/$base_project/system.prop中的ro.sys.usb.storage.type值设为mtp,mass_storage，现在都用宏控，即config_usbtype=mtp,mass_storage
        如何选择默认选择为usb：用宏控MTK_MASS_STORAGE = yes
        cd rom：真正修改的地方：device/sagetel/$base_project/system.prop中的ro.sys.usb.bicr设为yes，现在都用宏控，即ro_sys_usb_bicr=yes

四百二十、[FAQ17868]手机在wifi连接但无网络的时候还是会保持数据连接,数据图标还是会显示

四百二十一、L：锁屏界面(用pin等锁住)中的紧急拨号界面修改时，编译packages/apps/PhoneCommon以及packages/services/Telephony
	     进dialer的拨号界面修改时，编译packages/apps/PhoneCommon以及packages/apps/Dialer


四百二十二、[bug](计时器)计时过程中重启手机，开机后计时时间显示异常
	该项目较紧急，该问题客户未反馈，暂时不做修改，请知悉，谢谢！

	ALPS01723459，原因是系统发出android.intent.action.BOOT_COMPLETED这个order的BroadCast被卡主。
	导致DeskClock接受延迟，用户如果在DeskClock接收这个BroadCast之前进入DeskClock就会有这个问题。
	因为在AlarmInitReceiver中接收.BOOT_COMPLETED后清除秒表和计时器的对应sharepreference.


四百二十三、M的google包中的gms.mk没有clientid，我们直接把5句client id放上去就可以了
		:= 只能加一句
		+= 能加多句
                \  为连接符


四百二十四、[FAQ14451][VR]录像录入按键音

四百二十五、69355[bug](近期任务)按resent键显示近期任务，按一键清除和清除近期任务图标会进入当前应用

四百二十六、如果开机向导结束后到launcher起来之间有黑屏出现该怎么办？
        去除Provision这个apk，sagereal_remove_apps=Provision

四百二十七、如何修改默认选中某个网络方式/Preferred network type
        在frameworks/base/telephony/java/com/android/internal/telephony/RILConstants.java文件中
        int PREFERRED_NETWORK_MODE = (SystemProperties.getInt("ro.mtk_lte_support", 0) == 1) ? NETWORK_MODE_LTE_GSM_WCDMA : NETWORK_MODE_GSM_UMTS;

四百二十八、如何修改网络方式/Preferred network type
	packages/services/Telephony/res/values/strings.xml文件中（GSM/WCDMA auto为3g/2g auto，GSM/WCDMA preferred为3g/2g preferred）
	<string-array name="preferred_network_mode_choices">
		<item>LTE / WCDMA</item>
		<item>LTE</item>
		<item>Global</item>
		<item>GSM/WCDMA/LTE</item>
		<item>CDMA + LTE/EvDo</item>
		<item>CDMA/EvDo/GSM/WCDMA</item>
		<item>EvDo only</item>
		<item>CDMA w/o EvDo</item>
		<item>CDMA/EvDo auto</item>
		<item>GSM/WCDMA auto</item>
		<item>WCDMA only</item>
		<item>GSM only</item>
		<item>GSM/WCDMA preferred</item>
    	</string-array>
        <string-array name="preferred_network_mode_values"  translatable="false">
		<item>"12"</item>
		<item>"11"</item>
		<item>"10"</item>
		<item>"9"</item>
		<item>"8"</item>
		<item>"7"</item>
		<item>"6"</item>
		<item>"5"</item>
		<item>"4"</item>
		<item>"3"</item>
		<item>"2"</item>
		<item>"1"</item>
		<item>"0"</item>
       </string-array>
       然后按照上面的新建一个自己需要的选项，然后packages/services/Telephony/src/com/android/phone/MobileNetworkSettings.java去修改选中时显示的名字等东西

	3g/2g preferred这个模式是指3g优先，就是说只要有3g的网络，哪怕3g的信号很差，手机也会挂载到3g的，如非3g的信号一点都没有了，才会跳转到2g的；3g/2g auto这个模式是指当3g的网络信号差的时候，会自动的切换到2g去

       PS：L上的项目
		4G：即之前的4G/3G/2G auto
		3G：即3G/2G auto
		2G：即GSM only


四百二十九、试生产越简单越好

四百三十、如何在windows系统下配置adb  
     1、拿到adb.exe、AdbWinApi.dll、AdbWinUsbApi.dll,比如说放到c盘的adb下
     2、右击我的电脑，进入属性，点击高级属性设置，选择高级，然后点击环境变量
     3、打开环境变量配置后在系统变量中找到PATH，然后编辑它，在最前面加上adb的路径，在加上“；”，然后确定即可
     验证方法：用cmd进入终端，然后输入adb version，看结果如何

四百三十一、.bat文件是在windows系统的脚本文件，也称为批处理脚本。顾名思义，批处理就是对某对象进行批量的处理，通常被认为是一种简化的脚本语言，它应用于DOS和Windows系统中

四百三十二、显示所有apk的包名等信息的adb命令
        adb shell pm list packages -f  ---> 显示所有apk的包名
	adb shell pm list packages laun ---->显示包含“laun”的包名
		-f：查看关联文件，即应用apk的位置跟对应的包名（如：package:/system/app /MusicPlayer.apk=com.sec.android.app.music）；
             -d：查看disabled packages；
             -e：查看enable package；
             -s：查看系统package；
             -3：查看第三方package；
             -i：查看package的对应安装者（如：1、 package:com.tencent.qqmusic installer=null 2、package:com.tencent.qqpim installer=com.android.vending）；
            -u：查看曾被卸载过的package。（卸载后又重新安装依然会被列 入）； 


四百三十三、browser.UserAgent所在位置
      alps/device/sagetel/sr6572_wet_l/custom.conf中的
      #browser.UserAgent = Athens15_TD/V2 Linux/3.0.13 Android/4.0 Release/02.15.2012 Browser/AppleWebKit534.30 Mobile Safari/534.30 System/Android 4.0.1;
      browser.UAProfileURL = http://218.249.47.94/Xianghe/MTK_Phone_KK_UAprofile.xml
      mms.UserAgent = Android-Mms/0.1
      mms.UAProfileURL = http://www.google.com/oha/rdf/ua-profile-kila.xml 

ps：可以在设备的mtk 浏览器上进入www.ua.yeswap.com的网站即可

四百三十四、如何把apk预置到system/priv-app?
     android.mk中把LOCAL_PRIVILEGED_MODULE设为true，不写即为false，默认会预置到system/app下面

四百三十五、很多字符串翻译的都在icu资源中，在external/icu/icu4c
     [FAQ04011]如何编译ICU资源，按照编译出来后，可以直接进入adb shell --> cd system/usr/icu中，用external/icu/icu4c/source/data/out/tmp/icudt55l.dat把替换掉

四百三十六、长按power键后发现飞行模式不可点击
      frameworks/base/policy/src/com/android/internal/policy/impl/GlobalActions.java文件中的onAirplaneModeChanged()方法中，把if (mHasTelephony) return;这句话注释掉即可


四百三十七、模式菜单里点击开启会议模式，再次长按POWER键，开启静音模式，状态栏显示正常，下拉状态栏仍然显示会议模式（即 在长按电源键设置静音模式后，状态栏内和设置内的情景模式不会同步 ）
      可按照[FAQ15084][AudioProfile]长按电源键设置静音模式，状态栏内和设置内的情景模式不会同步进行修改即可。

四百三十八、[FAQ02892]【Phone ECC】紧急号码的管理及客制化方法   --->ecc_list.xml

四百三十九、如何关闭jack server
     在home目录下显示出所有的隐藏文件，打开其中的.jack文件，把SERVER从true改成false既可

四百四十、有未接电话时，指示灯不会亮
   1、frameworks/base/packages/SystemUI/src/com/android/systemui/statusbar/BaseStatusBar.java文件中把
    boolean clearNotificationEffects =
                    ((mShowLockscreenNotifications && mState == StatusBarState.KEYGUARD) ||
                            (!pinnedHeadsUp && (mState == StatusBarState.SHADE
                                    || mState == StatusBarState.SHADE_LOCKED)));修改为

    boolean clearNotificationEffects =
                    (!pinnedHeadsUp && mState == StatusBarState.SHADE
                                    || mState == StatusBarState.SHADE_LOCKED)));


    2、frameworks/base/services/core/java/com/android/server/notification/NotificationManagerService.java
	if (ledNotification == null || mInCall || mScreenOn || mDmLock || mPplLock || !ledMissedEventEnabled) 修改为
	if (ledNotification == null || mInCall || /*mScreenOn ||*/ mDmLock || mPplLock || !ledMissedEventEnabled) {

四百四十一、如何加上前摄像头闪光灯功能
    可以参照redmine68995进行移植

四百四十二、有些项目工厂测试中imei和imsi都为null
    把TelephonyManagerEx tm = TelephonyManagerEx.getDefault();修改为 TelephonyManager tm1 = (TelephonyManager) getSystemService(TELEPHONY_SERVICE);

四百四十三、[FAQ17990]【Phone GSMCall】M版本上不显示短信拒接 的icon的原因

四百四十四、如何实现短信编码方式（M平台上）
	[FAQ10993]SMS内容强制用7bit编码[Orange operator]
	[FAQ09191]信息设置里增加让用户选择短信编码方式的菜单    ----> 里面有修改默认值的方法
	vendor/mediatek/proprietary/packages/apps/Mms/src/com/android/mms/transaction/SmsSingleRecipientSender.java文件中sendMessage方法加上
	SharedPreferences pref = mContext.getSharedPreferences("com.android.mms_preferences", Context.MODE_WORLD_READABLE);
			String inputString = pref.getString("pref_key_sms_input_mode", "GSM alphabet");

	if("GSM alphabet".equals(inputString)){
	
			mMessageText=mMessageText.replaceAll("ą","a");
			mMessageText=mMessageText.replaceAll("ā","a");
			mMessageText=mMessageText.replaceAll("á","a");
			mMessageText=mMessageText.replaceAll("â","a");
			mMessageText=mMessageText.replaceAll("ã","a");
		
			mMessageText=mMessageText.replaceAll("Ą","A");
			mMessageText=mMessageText.replaceAll("Ā","A");
			mMessageText=mMessageText.replaceAll("Á","A");
			mMessageText=mMessageText.replaceAll("À","A");		
			mMessageText=mMessageText.replaceAll("Â","A");
			mMessageText=mMessageText.replaceAll("Ã","A");
		
			mMessageText=mMessageText.replaceAll("č","c");
			mMessageText=mMessageText.replaceAll("ç","c");
			mMessageText=mMessageText.replaceAll("ć","c");

			mMessageText=mMessageText.replaceAll("Č","C");	
			mMessageText=mMessageText.replaceAll("Ć","C");
		
			mMessageText=mMessageText.replaceAll("ê","e");
		        mMessageText=mMessageText.replaceAll("ë","e");
		        mMessageText=mMessageText.replaceAll("ė","e");
		        mMessageText=mMessageText.replaceAll("ę","e");
			mMessageText=mMessageText.replaceAll("ē","e");

			mMessageText=mMessageText.replaceAll("È","E");		
			mMessageText=mMessageText.replaceAll("Ê","E");		
			mMessageText=mMessageText.replaceAll("Ë","E");
			mMessageText=mMessageText.replaceAll("Ė","E");		
			mMessageText=mMessageText.replaceAll("Ę","E");	
			mMessageText=mMessageText.replaceAll("Ē","E");
	
			mMessageText=mMessageText.replaceAll("î","i");
			mMessageText=mMessageText.replaceAll("ï","i");
			mMessageText=mMessageText.replaceAll("ī","i");
			mMessageText=mMessageText.replaceAll("į","i");
			mMessageText=mMessageText.replaceAll("í","i");

			mMessageText=mMessageText.replaceAll("Ï","I");
			mMessageText=mMessageText.replaceAll("Î","I");
		        mMessageText=mMessageText.replaceAll("Ī","I");
			mMessageText=mMessageText.replaceAll("Į","I");
		        mMessageText=mMessageText.replaceAll("Ì","I");
			mMessageText=mMessageText.replaceAll("Í","I");

			mMessageText=mMessageText.replaceAll("ô","o");
			mMessageText=mMessageText.replaceAll("õ","o");
	    		mMessageText=mMessageText.replaceAll("ó","o");
			mMessageText=mMessageText.replaceAll("ō","o");

			mMessageText=mMessageText.replaceAll("Ô","O");
		        mMessageText=mMessageText.replaceAll("Õ","O");
		        mMessageText=mMessageText.replaceAll("Ò","O");
		        mMessageText=mMessageText.replaceAll("Ó","O");
		        mMessageText=mMessageText.replaceAll("Ō","O");

			mMessageText=mMessageText.replaceAll("û","u");
			mMessageText=mMessageText.replaceAll("ū","u");
			mMessageText=mMessageText.replaceAll("ú","u");

		        mMessageText=mMessageText.replaceAll("Û","U");
			mMessageText=mMessageText.replaceAll("Ù","U");
		        mMessageText=mMessageText.replaceAll("Ū","U");
			mMessageText=mMessageText.replaceAll("Ú","U");

			mMessageText=mMessageText.replaceAll("Ń","N");
			mMessageText=mMessageText.replaceAll("ń","n");

			mMessageText=mMessageText.replaceAll("Ÿ","Y");
			mMessageText=mMessageText.replaceAll("ÿ","y");

			mMessageText=mMessageText.replaceAll("Œ","OE");
		
			mMessageText=mMessageText.replaceAll("œ","oe");

		        mMessageText=mMessageText.replaceAll("ž","z");
			mMessageText=mMessageText.replaceAll("ż","z");
			mMessageText=mMessageText.replaceAll("ź","z");
			mMessageText=mMessageText.replaceAll("Ž","Z");
			mMessageText=mMessageText.replaceAll("Ż","Z");
		        mMessageText=mMessageText.replaceAll("Ź","Z");
 
			mMessageText=mMessageText.replaceAll("š","s");
			mMessageText=mMessageText.replaceAll("ś","s");
		        mMessageText=mMessageText.replaceAll("Š","S");
			mMessageText=mMessageText.replaceAll("Ś","S");

		        mMessageText=mMessageText.replaceAll("Ł","L");
			mMessageText=mMessageText.replaceAll("ł","l");

		}
	int codingType;
	if("GSM alphabet".equals(inputString)){
         codingType = SmsMessage.ENCODING_7BIT;
	}else{
	 codingType = SmsMessage.ENCODING_UNKNOWN;
	}



四百四十五、[FAQ05658]手机解锁后，如果用户未处理未读信息/未接电话等notification，如何使指示灯继续闪烁。
	当M平台上时，除了要注释掉文档里面的那句话以外，如果要求亮屏的时候也会闪烁的话，要在frameworks/base/services/core/java/com/android/server/notification/NotificationManagerService.java文件中的updateLightsLocked()方法中注释掉mScreenOn的判断


四百四十六、[FAQ07381][Aduio Common]APP层如何控制loopback开启或关闭
	AudioManager audiomanager = (AudioManager) getSystemService(Context.AUDIO_SERVICE);
	audiomanager.setParameters("SET_LOOPBACK_TYPE=1,3");
	其中中传入的两个参数意义如下：
	第一个参数表示input device，1，2，3分别代码main mic，耳机mic，sub mic(dual mic项目才有效)
	第二个参数表示output device，1，2，3分别表示听筒，耳机，喇叭
	根据需要进行组合即可
	closeMic = "SET_LOOPBACK_TYPE=0"  --> 代表关闭对应的通路


四百四十七、SD card using as internal storage功能（相当于把music、照片等文件存储到SD卡中，不会存储到internal storage（sdcard_share打开的，所以phone storage已经被合并到data/media，也就是internal storage里面））
	当你选择SD card using as internal storage选项后，会进行一下几步动作：
	1、sd卡会被格式化
	2、internal storage会把除了数据以外的文件移动到SD卡中
	3、internal storage只能用来存储一下客户看不见的数据，而无法存储文件，即file manager中无internal storage
	4、sd卡被用来存储所有文件，但是sd卡的总内存没有变，现在已使用的就是internal storage转移过来的

	when you choose the option of "SD card using as internal storage",smart phone will do following steps :
	1、sd card will be format
	2、internal storage will remove many files(like pictrue 、music、video..)but data of apk to sd card ，and available internal storage will be bigger
	after two steps , internal storage only can save the data of apk ,and can not save the files(like pictrue 、music、video..) , so you can not see the internal storage in file managers, the sd card will be used save every files but data of apk, but sd card total storage do not be change , now used sd card storage is the storage which removed from internal storage


四百四十八、[客户需求 Bug #4597][Browser] Add "Save for offline reading" option in Browser Menu. [Always]
	如何实现Save for offline reading功能 ， 第一步是在vendor/google/apps/WebViewGoogle/Android.mk中把LOCAL_OVERRIDES_PACKAGES := webview注释掉，即让mtk本身的webview和google的webview同时存在（这是客户要求googlewebview一定要存在的情况下，如果没要求就直接存在mtk的webview就可以了），第二步是vendor/google/products/gms_overlay/frameworks/base/core/res/res/values/config.xml
文件中<string name="config_webViewPackageName" translatable="false">com.google.android.webview</string>改为<string name="config_webViewPackageName" translatable="false">com.android.webview</string>

四百四十九、当chrome和mtk的browser同时存在的情况下，为什么browser无法保存书签？
      vendor/google/apps/Chrome/Android.mk中，把LOCAL_REQUIRED_MODULES := BookmarkProvider PartnerBookmarksProvider修改为LOCAL_REQUIRED_MODULES := PartnerBookmarksProvider

四百五十、Exception和Throwable如何同时使用
    Exception是抓取异常，Throwable是抛出异常，如果同时使用，请先使用Exception，然后使用Throwable
	try {
			
		} catch (Exception e) {
			// TODO: handle exception
		}catch (Throwable a) {
			// TODO: handle exception
	    }

四百五十一、如何让紧急拨号后显示在call history(通话记录)里面
	M：packages/services/Telecomm/res/values/config.xml文件中修改allow_emergency_numbers_in_call_log即可
        N：frameworks/base/telephony/java/android/telephony/CarrierConfigManager.java文件中把sDefaults.putBoolean(KEY_ALLOW_EMERGENCY_NUMBERS_IN_CALL_LOG_BOOL, false)修改为sDefaults.putBoolean(KEY_ALLOW_EMERGENCY_NUMBERS_IN_CALL_LOG_BOOL, true)。

四百五十二、关于roaming，关于漫游
	1、[FAQ09599]如何默认勾选DATA ROAMING
	2、[FAQ04101][Roaming]如何判断手机是否处于漫游状态？
		判定是否漫游，是通过比较sim卡的PLMN与注册上网络的PLMN，不会去check是本地卡还是异地卡。

四百五十三、如何修改开机过程中的黑屏问题
	eservice：ALPS02795990
	[FAQ18016]L/M版本开机黑屏问题区分
      
	1、L版本开机时，kernel logo与开机动画之间闪一帧黑屏，这个现在在kernel logo与开机动画相同并且开机动画是静态的时候表现的尤其明显,目前主要体现在455 digicel和5012 digicel项目上！-------> [FAQ14488]kernel logo到开机动画之间闪现黑屏（L）----> 这个现象是因为，在BootAnimation开始绘图之前，会先做一次clear screen的动作，避免出现前面的图干扰到BootAnimation的显示。这是Google default design，虽然不可避免，但是可以优化。
	ps：在该FAQ上有很多修改的点，但是 目前我们基本上是使用的bool BootAnimation::movie()函数，之后如需修改可修改在bool BootAnimation::movie()中。

	2、N项目上，（1）开机动画结束后，概率性闪现灰屏  （2）刷机后开机到语言界面时，有灰屏出现，这些在N上的项目是正常的，原因如下：   redmine86991
		Google在N上新增了Direct boot（file base encryption）feature，为了配合这个feature，定义了开机过程中的一个状态：user_unlocked, 指用户设置了锁屏，重启/开机第一次解锁（即使没有设置锁屏，也会经过user_unlocked的状态）。在user unlocked之前，只有定义了 encryption-aware=true的组件能被叫起，Launcher没有定义这个flag，所以无法被PMS查询到，AMS无法先启动Launcher；Fallbackhome有定义这个flag，即使优先级是-1000，但是PMS只能找到这个activity响应HOME intent，所以会先启动Fallbackhome。
   		Google设计Fallbackhome的主要原因就是在user unlocked之前，必须至少要有个activity响应HOME intent，比如Launcher没有定义encryption aware，那么就需要Fallbackhome先起来。目前平台还没有找到比较根本的解决办法，google在MR1上也有增加一个patch来改善，但是也是治标不治本，用一个processing的dialog来缓解黑屏的体验，但是仍然会有黑屏。


四百五十四、如何配置VOLTE
        首先要向mtk申请相应的patch，然后要对其进行配置，那么如何配置呢？
        1、进入online，然后 MediaTek On-Line> Quick Start> IMS功能专区(VoLTE/VoWifi/ViLTE)，在该功能专区可知，（1）如果你只要弄一个运营商的话，可以看里面的IMS Configuration,对应的可以SBP ID在可在[FAQ17597]各运营商IMS feature参数配置查看；（2）如果你要配置多个运营商能自由切换的话，可以看Dynamic SBP(D-SBP),在该项最下面有如何配置的分析
	How to Enable DSBP

	Under device/mediatek path
	[Project_Name]/ProjectConfig.mk, e.g. k55v1_64_om_lwg_volte_ss/ProjectConfig.mk
	Set MTK_IMS_SUPPORT = yes             --->37M上默认打开
	Set MTK_VOLTE_SUPPORT = yes           --->37M上默认打开
	Set MTK_DYNAMIC_SBP_SUPPORT = yes
	Set MTK_MD_SBP_CUSTOM_VALUE = 0
	Set OPTR_SPEC_SEG_DEF = NONE       -----> 同时要检查persist.operator.optr也要为空

	Under kernel-3.xx/arch/arm64/configs path
	[Project_Name]_defconfig, e.g. k55v1_64_om_lwg_volte_ss_defconfig
	Set CONFIG_MTK_MD_SBP_CUSTOM_VALUE = "0"

	[Project_Name]_debug_defconfig, e.g. k55v1_64_om_lwg_volte_ss_debug _defconfig
	Set CONFIG_MTK_MD_SBP_CUSTOM_VALUE = "0"

ps:SBP ID在M平台上用16进制，在N平台上要转化为10进制


VOWIFI 如何配置
	1、 MTK_MD_SBP_CUSTOM_VALUE = 0	
        2、MTK_MULTIPLE_IMS_SUPPORT = 2（双卡配置为2,单卡配置为1）
        3、MTK_WFC_SUPPORT = yes


注意点：
	doro 智能机项目 客户反馈，在插卡情况下，拨打紧急号码，并快速挂断，多次后会出现挂不断现象，MTK 回复是由于打开了跟volte相关的两个宏：
		MTK_VOLTE_SUPPORT=YES
		MTK_IMS_SUPPORT=YES
	MTK原始代码对volte是没有配置的的，但是却开着这两个宏，如果当地网络支持IMS功能，手机就会出现挂不断现象。
	为了防止再次出现这个问题，请各位以后带项目的时候，检查一下这两个宏，如果项目没有配置volte，请将
		MTK_VOLTE_SUPPORT =no，
		MTK_IMS_SUPPORT=no


	问题：客户场测发现，插入当地卡，无法显示VOLTE
           原因：OPTR_SPEC_SEG_DEF = NONE，但是persist.operator.optr设置成CUST，才出现这个问题！只要persist.operator.optr变为空就行




四百五十五、SAE（紧急小区广播）
	具体可看redmine39255
	文件在alps/vendor/mediatek/proprietary/packages/apps/CMASReceiver

四百五十六、如何切换selinux的模式
        adb shell setenforce 0(宽容模式，permissive);
        adb shell getenforce可以获取当前的selinux的模式

四百五十七、当插入国外卡，打开数据链接，打开roaming，然后发现没有数据上下行出来，也无法上网？
      把该卡插入其他对比机看看，如果其他对比机可以，就进去settings中看看当前的apn参数是怎么样的，然后在自己手机上新建一个apn，参数跟对比机一样，看是否会能上网。


四百五十八、当你打开hangouts，然后用该软件录制一个视频，直接点击中间的播放键，然后会跳出gallery或者photos，用这两个软件进行播放都会出现报错
       eservice：ALPS03032982

四百五十九、如何设置省电模式/[Bug](显示)更换电池，原先低电量保护显示机制不会消失(redmine76107)
        后面的这个问题是由于没有默认设置低电量level值的原因（数据库已经存在，只是没有默认值），frameworks/base/packages/SettingsProvider/src/com/android/providers/settings/DatabaseHelper.java中加入loadIntegerSetting(stmt, Settings.Global.LOW_POWER_MODE_TRIGGER_LEVEL,
                     R.integer.def_low_battery_level);即可
        其次，设置最低电量等级的是Settings.Global.LOW_POWER_MODE_TRIGGER_LEVEL这个数据库，直接去设置数据库即可

	如何在settings-->battery-->menu-->battery saver中低电量level的值，首先在packages/apps/Settings/res/values/arrays.xml中battery_saver_trigger_values值，可以去新加或者去修改，然后在packages/apps/Settings/src/com/android/settings/fuelgauge/BatterySaverSettings.java文件中onActivityCreated(Bundle savedInstanceState)方法中的new SettingPref中的默认值参数（这个去设置的时候必须是battery_saver_trigger_values中的其中一个才有效，因为他会去遍历这个battery_saver_trigger_values数组），也就是说哪怕没有设置默认值，当进入这个文件也会去设置上面数据库的值，所以我们在刚刷机后去进行默认值的设置的时候最好跟你settings中去重新设置的是一样的，这样就可以保持一致性。


四百六十、[FAQ17472]灭屏后亮屏没有看到锁屏
 google默认设计：
	（1）timeout灭屏（手机休眠时间到）时，不会立即锁屏，默认会等待5s才会上锁，5s内亮屏是不会看到有锁屏的。
	（2）按电源键灭屏时， 如果没有勾选“按电源键立即锁屏”菜单，默认也会等待5s才上锁，5s内亮屏不会看到锁屏。
	（3）keyguard被三方app disable掉了，所以灭屏不会上锁，亮屏不会看到锁屏。可从如下log中mExternallyEnabled的值为false表示keyguard是被三方app disable掉了。

四百六十一、[FAQ12796]收到短信后，点亮屏的操作  / 当灭屏来短信的时候，如何使其亮屏
        
四百六十二、[Tecno bug 25072]主菜单进入Search----Search setting---Search engine默认为Yahoo，请修改默认为google （redmine80488）
	vendor/mediatek/proprietary/frameworks/base/res/res/values-ar-rEG/donottranslate-new-search_engines.xml中显示顺序的第一个就是默认的，如果要google默认，就把google移至对应的第一个 	

四百六十三、Redmine80441 [Tecno bug 24659]时钟倒计时界面输入时间删除后再进入计时针界面，计时针界面下无红色开始按钮
	packages/apps/DeskClock/src/com/android/deskclock/TimerSetupView.java文件AnimatorListenerAdapter mHideFabAnimatorListener = new AnimatorListenerAdapter()方法中把 public void onAnimationStart(Animator animation) 修改为public void onAnimationEnd(Animator animation)


四百六十四、当drv_only版本没有./clean的脚本时，如何清理代码
	git reset --hard HEAD && git clean -xdf && git pull && git status

四百六十五、关于紧急拨号被挂断
	1、[bug](拨打紧急电话)手机不插SIM卡，紧急电话呼出3秒不到，电话自动挂断（redmine40251）  ----> eService ID: ALPS02404457
	       Dear customer，
		请烧写正确的IMEI号，在modem log中的system trace中查看。
		SYS, 8340, 361235, 14:17:04:665, NIL, IMEI of SIM1:555555555555550,
，重测未复现，请关闭该问题。
		checker：rongweidi

        2、[bug](紧急拨号)手机不插SIM卡，拨打紧急电话 ，电话自动挂断（redmine50694）
     			问题：手机不插SIM卡，拨打紧急电话，界面显示不在服务区且挂断按钮置灰，7秒内电话自动挂断
	解释：正常现象跟基站有关系，请用其它卡验证下就行了


四百六十六、wifi hotspot（wifi 热点）默认密码如何修改
        frameworks/opt/net/wifi/service/java/com/android/server/wifi/WifiApConfigStore.java文件中的setDefaultApConfiguration()方法中可以去修改密码
        

四百六十七、如何使edittext的光标移至最后（默认光标是在最前面的）
	mDeviceNameView.setSelection(deviceName.length());

四百六十八、UserAgent和UAProfileURL、UAProfile
       UserAgent：Http协议中的一部分，属于头域的组成部分，是一种向访问网站提供你所使用的浏览器类型、操作系统及版本、CPU类型、浏览器渲染引擎、浏览器语言、浏览器插件等信息的标识。UA字符串在每次浏览器HTTP请求时发送到服务器。
        ex:browser.UserAgent = Athens15_TD/V2 Linux/3.0.13 Android/4.0 Release/02.15.2012 Browser/AppleWebKit534.30 Mobile Safari/534.30 System/Android 4.0.1;
		mms.UserAgent = Android-Mms/2.0
       UAProfileURL是一个相当于放在某个服务器的UAProfile的网址，如http://218.249.47.94/Xianghe/MTK_Phone_KK_UAprofile.xml
       UAProfile就是上面的MTK_Phone_KK_UAprofile.xml文件，该文件中有终端机的一下信息：
           1、硬件信息：制造厂商、类型、屏幕大小（像素、文字等）
           2、软件信息：应用软件管理版本、SK-VM版本、MIN
           UAProfile文件描述了手机的功能，包括供应商、型号、分辨率、多媒体功能、支持字符集等

	[FAQ13899][VS]RTSP流媒体UA/UAProfile修改方法
	[FAQ04656]如何修改Android自带浏览器的User Agent

四百六十九、[FAQ13241][Gallery]PhotoPage如何全屏显示图片（如何动态设置虚拟按键）

四百七十、如何在静音模式下也有截图以及拍照声音
	1、frameworks/base/core/res/res/values-mcc404/config.xml中的config_camera_sound_forced 的值设置为true，强制使用拍照声音
	如果设为false的话，会跟着情景模式走，当静音模式的时候就不会出现截图和拍照声音，如果是户外模式的时候就会出现截图和拍照声音
        2、也可以audioservice.java里的 readCameraSoundForced()， 返回结果强制返回一个false。

四百七十一、N9阿尔及利亚网址如下
	DJ bug系统的账户：George; 密码:hhxxttxs
	https://vimpelcomdigital.atlassian.net/browse/TEC-2?filter=18205

四百七十二、关于Omacp  (otap)
       Omacp是一个功能，相当于是运营商给你发一个ota指令或者一条短信，你点击短信后会自动去更新运营商要求你更新的apn
        1、现有的状态：接收到Omacp后作为新的APN直接添加到数据库中，如有你要直接接收到Omacp设置APN信息后,用新的APN替换原有的APN，请参考[FAQ18292]Omacp Apn信息替换原有APN
	2、[FAQ09453]Omacp协议版本及可以支持的配置内容
        3、如果要有该功能的话，要打开MTK_OMACP_SUPPORT、MTK_OMADRM_SUPPORT、MTK_OMA_DOWNLOAD_SUPPORT的宏
	4、在某些国家Email参数SMTP不同，导致在收到Omacp message中含有Email参数的时候，配置无法安装。Omacp出错log如下：
	ActivityManager: Broadcast: Intent { act=com.mediatek.omacp.settings.result (has extras) } ordered=false callerApp=ProcessRecord{40b3cbd8 6138:com.android.email/10014}
	Omacp/OmacpMessageSettingsDetail: OmacpMessageSettingsDetail result received, appId is : 25 result is : false
        可参考[FAQ11680]由于Email参数SMTP_APPID不同，导致Omacp配置email失败的修改方法
        5、要接收到omacp的短信，一般都要有自己源生的短信apk，如果用google短信是不行的，如果只有google短信，修改OmacpMessageNotification.java的updateNotification函数,将
	otherAppContext = context.createPackageContext("com.android.mms",Context.CONTEXT_IGNORE_SECURITY);修改成otherAppContext = context.createPackageContext	("com.google.android.apps.messaging",Context.CONTEXT_IGNORE_SECURITY);


四百七十三、[bug](浏览器)网页不能正常打开
	eservice：ALPS03059710  得出结论为当时网络问题

四百七十四、如何使<32M,手机内存就不能push或者复制进去东西
        FAQ14938 关于文件系统空间预留的说明  --->可以修改第一点以及data区那个点即可实现，即kernel-3.18/fs/ext4/super.c文件中把resv_clusters = min_t(ext4_fsblk_t, resv_clusters, 4096)改为resv_clusters = min_t(ext4_fsblk_t, resv_clusters, 8192)，同时device/mediatek/mt6735/init.mt6735.rc文件中把exec /system/bin/tune2fs -O has_journal -u 10010 -r 4096 /dev/block/platform/mtk-msdc.0/11230000.msdc0/by-name/userdata修改为exec /system/bin/tune2fs -O has_journal -u 10010 -r 0 /dev/block/platform/mtk-msdc.0/11230000.msdc0/by-name/userdata

四百七十五、如何关闭多用户功能
	设置为如下：
		MTK_2SDCARD_SWAP = yes(这个可能可有可无)
       		MTK_OWNER_SDCARD_ONLY_SUPPORT=no
		sagereal_add_multiuser = no
		config_enableMultiUserUI = false
		config_multiuserMaximumUsers = 1

	[FAQ13688]【Multi-user】如何在L版本上打开Multi-user？
	[FAQ18300]如何确认M版本上Multi-user的配置是否ok？
	[FAQ13578]Multi-user模式下，user A设置的闹钟，在user B有铃声无画面，无法关闭
	[FAQ14403]【multi-user】android 5.1 如何打开 android.software.managed_users 功能


四百七十六、插入双卡时，网络出现问题（eservice：ALPS03054707）
	手机插入双卡时，网络出现问题,操作步骤如下： 
		1.卡1插入移动，卡2插入联通，开机分别开启移动卡，联通卡的数据，移动卡显示2G，联通卡显示3G，prefereed network type都没有置灰。 
		2.关机，卡1和2调换位置，如果首先开启联通卡数据，联通卡只能搜到2G网络且进入设置-more-preferrednetworks下时，联通卡置灰； 
		如果再次点击SIM cards-Cellular data开启联通卡数据，此时联通卡又可以搜索到3G，并且prefereed network type没有置灰； 
		如果开机后首先开启移动卡数据，移动卡显示2G，prefereed network type没有置灰，再次开启联通卡数据，联通卡显示3G，prefereed network type没有置灰。 
		以上现象只有在手机恢复出厂设置后会出现，手机重启后不会出现

         修改点：DataSubSelector.java文件中在调用subSelectorForOm()的地方加了(OPERATOR_OM.equals(mOperatorSpec)判断，导致没有去运行subSelectorForOm()方法，
		if (mOperatorSpec.equals(OPERATOR_OP01)) {
			subSelectorForOp01(intent);
		} else if (mOperatorSpec.equals(OPERATOR_OP02)) {
			subSelectorForOp02(intent);
		} else if (mOperatorSpec.equals(OPERATOR_OP09)) {
			subSelectorForOp09(intent);
		} else {
			subSelectorForOm(intent);
		}

        	然后有用到subSelectorForOm(intent)方法的全部用上面的判断方式，把该方法直接放在else里面，而不是加(OPERATOR_OM.equals(mOperatorSpec)判断

四百七十七、升级后通话记录消失
         等手机连接上网络，手机时间由网络直接对时的当前时间时，该问题就ok了，插联通卡对时较慢，导致升级后通话记录不会马上出来

四百七十八、Gmai帐号的联系人在拨号盘搜索不到（eservice：ALPS03079825）
         等待释放patch

四百七十九、user版本用开发这选项连上手机，就直接能用adb logcat抓取log

四百八十、当通话时出现问题，该抓取什么log（一般抓取vm log即可）
	通常Speech测试，提供一般通话log即可，如果有通话无声问题在确认为非网络原因导致，则需要按照通话无声重新提供log。
	VM log抓取：按*#*#3646633#*#*进入工模/Hardware Testing/Audio/speech logger,勾选上Enable speech log+EPL(Enhanced PCM Log),打开vmlog后每打一通电话便会在mtklog/audio_dump中生成一个*.vm文件，其以通话开始时间命名。


四百八十一、关于省晶体项目gps测试时是否需要校准
       ？？？
	经过确认，80平台的省晶体项目测试搜星gps这块的都要进行射频参数校准，请知悉，谢谢！，还有以前405_sfr和meo定位不准确的情况，mtk也叫我们校准了，还给了如何判定是否校准的log分析，可以见虚拟机


四百八十二、号码匹配的规则
8.Exchange，是同一个。
9.Drive是同一个
date

	验证方法：比如说我们匹配的是10位，首先10位及10位以上的都是可以匹配到的，其次验证方法为，你新建一个10位号码的联系人，然后加前缀+10位号码去拨打电话，正常是拨打出去的就是那个联系人，但是注意，前缀中不要很特殊，如0574（区号），前缀中有1（1为特殊字符，有自己的匹配规则）


四百八十三、当用联通4g卡打电话，网络从4g跌落到3g，理论上是可以上网的，为何测试出来无法进入百度？
      因为在打电话的时候，3g的网络较差，只能进入一些小的网页，如www.mobiwire.com，无法进入大的网页，比如说www.baidu.com

四百八十四、当关于蓝牙的时候的bug，应该抓取什么log ---->hci log
	HCI(Host Controller Interface，主机控制接口) HCI,属于蓝牙协议栈的一部分。
蓝牙规范包含了一个符合标准的接口定义(主机控制器接口),它适用于蓝牙通讯模块的硬件部分。此定义描述了位于HCI驱动程序(主机的一部分,也即蓝牙通讯模块的使用者)和主机控制器固件(蓝牙通讯模块本身的一部分)之间的接口


	settings->developer options->enable bluetooth snoop hci log->勾选

	路径位置：不同平台位置有所不同：
	M平台：/sdcard/mtklog/btlog/
	L平台：adb命令：/data/@btmtk/

四百八十五、bcompare key
	OrSvN-uV8kksOYcPwY0bbXuR4u0X1N7+rjJ2vBoE-8f4AsCw4pAdWrBPn
	la5VNnNGF3shNtDWMHdRi0WqbbsE7M1PrkfQr96Czn52qQhjN+bgTr0If
	atliY4hUdXp40AB64mdbjGOJfeMDNXyaxnzS394D1HS4Hp7O1+Vqwul1U+

四百八十六、[FAQ12214]默认输入法及默认输入法语言FAQ汇总
	如何修改默认输入法 请参考FAQ04327
	如果按照FAQ04327修改之后不成功，JBX版本请参考FAQ06663，KKX版本请先参考FAQ12213，如果没有FAQ12213中的内容请参考FAQ06663。
	如何实现把多个第三方输入法转换为系统输入法，并且在输入法设置时候勾选框默认是勾选的，请参考FAQ08909
	Latin输入法怎么默认勾选几种语言，请参考FAQ06649。
	Latin输入法如何添加删除某些语言的输入法，请参考FAQ08884
	如何添加一个新的Latin输入法语言，请参考FAQ09620

	ps：PinyinIME是mtk默认的输入法apk，LatinImeGoogle是google的输入法，两个apk必须预置其中一个


四百八十七、[bug](时钟)倒计时50s之后手机重启再次进入倒计时时间显示异常
	重启以后数据都清空，都是按照0开始重新计时的

四百八十八、tac code是imei的前8位 （早期是6位）

四百八十九、git reset --hard +版本号  --->  从commit中还原、从add状态中还原、本地代码也还原。（如果版本号未最新，就意味着所有代码都是最新的，跟服务器中一样）
           git reset +版本号   --->  从commit中还原、从add状态中还原、本地代码不变
           git reset +文件  

四百九十、L项目上如何设置FM插入耳机后声音的默认值
	alps/frameworks/base/media/java/android/media/AudioService.java文件中的DEFAULT_STREAM_VOLUME中的STREAM_MUSIC值

四百九十一、72L上如果storage要全部显示（如4G、8G等），除了打开SAGEREAL_STORAGE_CUSTOM这个宏以外，同时一定要打开MTK_2SDCARD_SWAP这个宏
	80M:sagereal_show_actual_storage

四百九十二、android系统框架
       1、应用程序层（application） 2、应用程序框架层（application framework）  3、系统运行库层：可分为程序库和android运行库   4、linux内核层（linux kernel）

四百九十三、修改简单的几句代码，一定要加非空判断，或者try/catch的语句，防止报错  （跟客户说是patch问题，紧记）

四百九十四、单双卡配置，修改该宏的值：
		MTK_MULTI_SIM_SUPPORT
		path:ALPS-MP-N0.MP2-V1_SR6580_WE_N/sagereal/mk/project**/ProjectConfig.mk
		1.ss -单卡
		2.dsds/dsda -双卡 （区别：dsds双卡双待，dsda双卡双通，我们公司基本都是dsds)
		3.tsts -三卡
		4.qsqs -四卡
		比如双卡配置：MTK_MULTI_SIM_SUPPORT = dsds
 
四百九十五、线程池的作用和使用--->Executors(可以去看下疯狂java的线程池)
	使用线程池的好处:
		1.减少在创建和销毁线程上所花的时间以及系统资源的开销
		2.如不使用线程池，有可能造成系统创建大量线程而导致消耗完系统内存
	以下是Java自带的几种线程池：
	1、newFixedThreadPool 创建一个指定工作线程数量的线程池。
		每当提交一个任务就创建一个工作线程，如果工作线程数量达到线程池初始的最大数，则将提交的任务存入到池队列中。
	2、newCachedThreadPool 创建一个可缓存的线程池。
		这种类型的线程池特点是：
			1).工作线程的创建数量几乎没有限制(其实也有限制的,数目为Interger. MAX_VALUE), 这样可灵活的往线程池中添加线程。
			2).如果长时间没有往线程池中提交任务，即如果工作线程空闲了指定的时间(默认为1分钟)，则该工作线程将自动终止。终止后，如果你又提交了新的任务，则线程池重新创建一个工作线程。
	3、newSingleThreadExecutor 创建一个单线程化的Executor，即只创建唯一的工作者线程来执行任务，如果这个线程异常结束，会有另一个取代它，保证顺序执行(我觉得这点是它的特色)。
	单工作线程最大的特点是可保证顺序地执行各个任务，并且在任意给定的时间不会有多个线程是活动的 。
	4、newScheduleThreadPool 创建一个定长的线程池，而且支持定时的以及周期性的任务执行，类似于Timer。
	总结：
	一.FixedThreadPool是一个典型且优秀的线程池，它具有线程池提高程序效率和节省创建线程时所耗的开销的优点。但在线程池空闲时，即线程池中没有可运行任务时，它不会释放工作线程，还会占用一定的系统资源。
	二．CachedThreadPool的特点就是在线程池空闲时，即线程池中没有可运行任务时，它会释放工作线程，从而释放工作线程所占用的资源。但是，但当出现新任务时，又要创建一新的工作线程，又要一定的系统开销。并且，在使用CachedThreadPool时，一定要注意控制任务的数量，否则，由于大量线程同时运行，很有会造成系统瘫痪。 


四百九十六、用chrome无法播放某一视频--->[FAQ09226]某网站上的视频不能播放
	Android 2.3+: google官方已经宣布不再支持flash player了, 所以我们在后续的版本中也没有做flash player的支持工作, 如果有任何flash player的问题, 请客户自行解决或者求助于flash player软件提供商.
 
四百九十七、开机向导中一直会出现Permissions denied: You can change them in Settings > Apps的提醒
       这是因为有两个日历（calendar）引起的，如果只有一个日历就不会出现这个问题
	如果客户一定要两个日历都存在，需要去把mtk日历的权限去默认打开；如果只存在其中一个日历，不会出现该问题
  
四百九十八、jdk更新到1.8 （CTS测试时随着测试工具的不停更新，jdk也要不断更新）
	﻿1.sudo add-apt-repository ppa:openjdk-r/ppa
	2.sudo apt-get update
	3.sudo apt-get install openjdk-8-jdk

四百九十九、Android N 上必须要求用3D sensor；否则GMS认证过不了

五百、如何新加键值 （redmine80434）
   http://192.168.3.76:8007/gitweb/?p=ALPS-MP-M0.MP1-V2.94_SR6737T_65_M0.git;a=commit;h=6b5cb0c29e0e6162d400c9b772cfab8d550c01bd
	如果驱动层配好了键值，但是在上层接收不到，要检查如下文件：
	M：alps/frameworks/base/core/java/android/view/KeyEvent.java
        M：alps/frameworks/base/core/res/res/values/attrs.xml
        M：alps/frameworks/base/data/keyboards/Generic.kl
        M：alps/frameworks/native/include/android/keycodes.h
        M：alps/frameworks/native/include/input/InputEventLabels.h
        然后在alps/frameworks/base/services/core/java/com/android/server/policy/PhoneWindowManager.java中看看上层是否有键值的log出来


五百零一、连上wifi后经常断开再连上
    1、当碰到这种事情的时候，先去楼下环境（各种wifi或者热点比较少的环境下，可能会相互影响）去测试下，看是否ok
    2、如果还是NOK，就需要我们在main_log或者kenerl_log中去搜一下“reason”，一般是能搜到断开wifi的reason的
    3、再不行就要提MTK了，问问有没有patch  ALPS02358954


五百零二、匹配联系人的代码在packages/apps/InCallUI/src/com/android/incallui/CallerInfoAsyncQuery.java的startQuery(int token, Context context, CallerInfo info,OnQueryCompleteListener listener, Object cookie)方法中，贵司可在此处修改。

五百零三、launcher界面上
	packages/apps/Launcher3/src/com/android/launcher3/Launcher.java文件中setWorkspaceBackground中会设置launcher界面的背景
	问题：从主菜单中进入Hi Wallpaper(第三方apk)，按返回键一步步回到待界面，待机顶行与下端显示偏白 
	分析：问题产生的原因是因为点击back键回到Launcher时，Launcher将workspace的背景设置为全透，按home键时又将workspace的背景设置为一张背景图（这个背景图上下有渐变黑色的效果）。贵司可以在Launcher.java中所有调用setWorkspaceBackground的code上面加上log，看看点击back键和home键时调用setWorkspaceBackground为什么会出现不同状况。
        解决方法：packages/apps/Launcher3/src/com/android/launcher3/Launcher.java文件中onResume()会去调用setWorkspaceBackground，然后按back键时会去调用这个参数WORKSPACE_BACKGROUND_TRANSPARENT，然后按home键的话会去调用WORKSPACE_BACKGROUND_GRADIENT这个参数，所以最后把setWorkspaceBackground(mState == State.WORKSPACE ? WORKSPACE_BACKGROUND_GRADIENT: WORKSPACE_BACKGROUND_TRANSPARENT);修改为setWorkspaceBackground(WORKSPACE_BACKGROUND_GRADIENT); 


五百零四、android.util.SuperNotCalledException: Activity {com.android.browser/com.android.browser.BrowserActivity} did not call through to super.onCreate()
	SuperNotCalledException代表的是未去运行父类的方法，上面的就是没有去运行super.onCreate()这个方法

五百零五、在N上，CONNECTIVITY_ACTION这个广播只能用Context.registerReceiver()注册才能接收到广播,直接在manifest配置是无法接收到广播的

五百零六、redmine86187［需求］When dialling from the STK menu the device was supposed to show as an outgoing call and not incoming. 
	 redmine73147 [bug] When making outgoing call from STK to customer care , the call log reflect as if it’s an inbound call initiated ( yet it’s an outbound call ) 

	 修改方法：packages/services/Telecomm/src/com/android/server/telecom/CallsManager.java文件中的addNewUnknownCall(PhoneAccountHandle phoneAccountHandle, Bundle extras)方法中的 true /* isIncoming */修改为 false /* isIncoming */

五百零七、led灯的打开以及关闭方法或者使用方法
	mNotificationLight.setFlashing(ledARGB, LightsService.LIGHT_FLASH_TIMED, ledOnMS, ledOffMS);

	--->	public void setFlashing(int color, int mode, int onMS, int offMS) {
		    synchronized (this) {
			setLightLocked(color, mode, onMS, offMS, BRIGHTNESS_MODE_USER);
		    }
		}

	    ---->	private void setLightLocked(int color, int mode, int onMS, int offMS, int brightnessMode) {
			    if (color != mColor || mode != mMode || onMS != mOnMS || offMS != mOffMS) {
				if (DEBUG) Slog.v(TAG, "setLight #" + mId + ": color=#" + Integer.toHexString(color));
				mColor = color;
				mMode = mode;
				mOnMS = onMS;
				mOffMS = offMS;
				setLight_native(mNativePointer, mId, color, mode, onMS, offMS, brightnessMode);
			    }
			}

五百零八、ELT激活码：E21C-BCCF-4959-4845

五百零九、如何在launcher3上面修改第三方apk的图标以及名称
         /home/jiangcunbin/Desktop/sagereal资料/梁爽总结/01月23日学习笔记(launcher3修改第三方apk图标及名称) 

五百一十、37M平台的项目不支持cast的功能

五百一十一、在点击Power键亮屏的时候，下面的按键灯也跟着亮？？？

	解决：
	private static final int BUTTON_WAKE_LOCA_TIME = 5000;
	PowerManager.WakeLock mButtonWakelock;
	mButtonWakelock = mPowerManager.newWakeLock(PowerManager.FULL_WAKE_LOCK|PowerManager.ACQUIRE_CAUSES_WAKEUP,"button backlight");	   //初始化
	mButtonWakelock.acquire(BUTTON_WAKE_LOCA_TIME);		//调用方法


五百一十二、[FAQ11754]KitKat版本如何将camera service修改为强占式
	实现强占式camera service，当某些应用（如手电筒）在后台打开camera后，当camera app open camera时可以强占被后台应用占有的camera.

五百一十三、[FAQ02941]ro.operator.optr属性问题
	ro.operator.optr属性是代表工程中运营商的偏好行为，会在ProjectConfig.mk中由OPTR_SPEC_SEG_DEF的值来指定。目前这个属性只有八个值：OP01、OP02、OP03、OP06、OP07、OP08、OP09、OP10。
	OP01表示中国移动（CMCC）
	OP02表示中国联通（CU）
	OP03表示Orange
	OP06表示Vodafone
	OP07表示AT&T
	OP08表示TMO-US
	OP09表示中国电信（CT）
	OP10表示Tier-2 operator
	且这个属性值目前无法增加其他的值。

五百一十四、悬浮窗口布局实现
	/home/jiangcunbin/Desktop/sagereal资料/梁爽总结/02月27日学习笔记(ro.operator.optr属性问题  运营商的偏好设置)里面有悬浮窗口布局实现功能

五百一十五、获取 屏幕尺寸：
	2种方法：
 	1.		WindowManager wm = (WindowManager) getSystemService(WINDOW_SERVICE);
				float x = wm.getDefaultDisplay().getWidth();
				float y = wm.getDefaultDisplay().getHeight();


	2.		DisplayMetrics dm = getResources().getDisplayMetrics();
				float x = dm.widthPixels；
				float y = dm.heightpixels;

五百一十六、Activity异常退出或者死掉，请log中搜索“LOW_MEMORY“看是否Activity因为低内存被Kill掉？

五百一十七、1.Windows下配置JAVA环境
	1.下载安装JDK(注意此处要安装对应的JDK版本，32位系统安装32位版本的JDK，64位安装64位版本的，否则后续安装Eclipse无法打开)
	2.配置环境变量：
		1.计算机-->属性-->高级系统设置-->环境变量.新建变量：JAVA_PATH 变量值：为安装jdk的路径：C:\Program Files\Java\jdk1.8.0_40
		3.新建变量：CLASSPATH 变量值：".;%JAVA_HOME%\lib\dt.jar;%JAVA_HOME%\lib\tools.jar;"
		4.修改path变量的变量值，若无，则创建,变量值为:C:\ProgramData\Oracle\Java\javapath;%SystemRoot%\system32;%SystemRoot%;%SystemRoot%\System32\Wbem;%SYSTEMROOT%\System32\WindowsPowerShell\v1.0\;%JAVA_PATH%\bin;%JAVA_PATH%\jre\bin     (其实%JAVA_PATH%\bin;%JAVA_PATH%\jre\bin)
		5.cmd进去，javac -version, java -version  //（看两个版本是否一致）

	3.编译java文件：
		cd 到文件存放路径
		1.javac *.java（编译java文件） 
		2.java Test	(执行)

五百一十八、为surfceView设置LayoutParams:   ---->camera显示用到的就是SurfaceView
	//surfaceView = (SurfaceView) findViewById(R.id.sfv);
	SurfaceView sf = new SurfaceView(this);
	ViewGroup.LayoutParams lp = sf.getLayoutParams();
	lp.width = 100;
	lp.height = 200;
	surfaceView.setLayoutParams(lp);

五百一十九、判断某个service是否已注册
	PackageManager packagemanager = getPackageManager();
	Intent intent = new Intent("com.ls.test");
	List<ResolveInfo> resolveInfos = packagemanager.queryIntentServices(intent, Packagemanager.GET_INTENTFILTERS);
	if(resolveInfos.sixe() >0){
		ResolveInfo resolveinfo = resolveInfos.get(0);
		System.out.println(resolveinfo.toString());
	}else{
		System.out.println("服务还没注册到");
	}

	//该方法只能查询到已注册的服务，不管这个服务是否正在运行，都可以查询到
	如果只想确定某个服务是否正在运行，需要使用ActivityManager.getRunningServices()方法确定某个服务是否正在运行

	2.ActivityManager activitymanager = (ActivityManager)getSystemService(ACTIVITY_SERVICE);
	List<ActivityManager.RunningServiceInfo> runningserviceInfos = activitymanager.getRunningServices(100); //数字正在运行的服务的最大数
	for(ActivityManager.RunningServiceInfo runningServiceinfo :runningserviceInfos){
		if("com.ls.test".equals(runningServiceinfo.getClassName())){
			System.out.println(“服务正在运行“);
			return;
		}else{
			System.out.println(“服务还未开始“);
		}
	}

五百二十、如何让camera在拍录像的同时能拍照
	在camera的配置文件中，搜索KEY_VIDEO_SNAPSHOT_SUPPORTED，
#if 1
    //  Video Snapshot
    FTABLE_CONFIG_AS_TYPE_OF_USER(
        KEY_AS_(MtkCameraParameters::KEY_VIDEO_SNAPSHOT_SUPPORTED), 
        SCENE_AS_DEFAULT_SCENE(
            ITEM_AS_DEFAULT_(MtkCameraParameters::TRUE),             ---->TRUE为支持，FALSE为不支持
        ), 
    )
#endif


五百二十一、如何跳转到某个apk的detail界面，即加权限界面
		Intent in = new Intent().setAction(android.provider.Settings.ACTION_APPLICATION_DETAILS_SETTINGS)
					.setData(Uri.fromParts("package", "com.android.mms", null))
					.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
		mContext.startActivity(in);

五百二十二、如何让某个键值在手机睡眠状态下唤醒手机   ---->  /home/jiangcunbin/Desktop/sagereal资料/自己总结/L_Keydcode_WAKE_SOP.pdf
        1、frameworks/base/core/java/android/view/KeyEvent.java文件isWakeKey(int keyCode)中加上这个键值，
	 public static final boolean isWakeKey(int keyCode) {
         switch (keyCode) {
             case KeyEvent.KEYCODE_BACK:
             case KeyEvent.KEYCODE_MENU:
             case KeyEvent.KEYCODE_WAKEUP:
             case KeyEvent.KEYCODE_PAIRING:
              +case KeyEvent.KEYCODE_F5:
                 return true;
        }
         return false;
       }
	2、kernel-3.18/drivers/input/keyboard/mediatek/kpd.c文件中把#define MTK_KP_WAKESOURCE注释掉，即//#define MTK_KP_WAKESOURCE
	3、frameworks/base/services/core/java/com/android/server/policy/PhoneWindowManager.java文件中

五百二十三、[FAQ05622]GPS问题所需要录制的log及方法

五百二十四、
	查看apk的信息：
	aapt dump badging file.apk > fileInfo.xml

	查看手机的package信息：
	adb shell dumpsys package > package.xml
	adb shell dumpsys package "com.**.**"

	1.列出压缩文件目录
		aapt l[ist] [-v] [-a] file.{zip,jar,apk}
			aapt l <file_path.apk>
		-v:会以table的形式输出目录，table的表目有：Length、Method、Size、Ratio、Date、Time、CRC-32、Name。
		其中Method表示压缩形式，有：Deflate及Stored两种，即该Zip目录采用的算法是压缩模式还是存储模式；可以看出resources.arsc、*.png采用压缩模式，而其它采用压缩模式。
		Ratio表示压缩率。CRC-32未明其意，Sodino盼指教。

	2.查看apk包的packageName、versionCode、applicationLabel、launcherActivity、permission等各种详细信息
		aapt dump badging <file_path.apk>	

	3.查看权限
		aapt dump permissions <file_path.apk>

	4.查看资源列表
		aapt dump resources <file_path.apk>

	5. 查看apk配置信息
		aapt dump configurations <file_path.apk>

	6. 查看指定apk的指定xml文件。
		aapt dump xmltree <file_path.apk> res/***.xml
		以树形结构输出的xml信息。
		aapt dump xmlstrings <file_path.apk> res/***.xml
		输出xml文件中所有的字符串信息。


	7.将工程的资源编译R.java文件
	aapt package -m -J <R.java目录> -S <res目录> -I <android.jar目录>  -M <AndroidManifest.xml目录>

	8.将工程的资源编译编译到一个包里
	aapt package -f  -S <res目录> -I <android.jar目录> -A<assert目录>  -M <AndroidManifest.xml目录> -F <输出的包目录>

	9.打包好的apk中移除文件
	aapt r[emove] [-v] file.{zip,jar,apk} file1 [file2 ...]

	10.添加文件到打包好的apk中
	 aapt a[dd] [-v] file.{zip,jar,apk} file1 [file2 ...]

五百二十五、紧急拨号log查看
	1. 当网络发送回来的reject cause为CM_MM_INVALID_MM_MAND_INFO或CM_MM_IMEI_NOT_ACCEPTED等cause时，与IMEI有关；无卡情况下拨打紧急电话时，需要IMEI来给网络鉴权，如果网络判断IMEI非法，会reject；
	2. 当网络发送回来的reject cause为2173 即CM_MM_EMERGENCY_NOT_ALLOWED或3175 即CM_MM_ACCESS_CLASS_BARRED等cause时; 与手机当时连接的cell有关：
	3. 在没有插SIM卡时，手机根据当前网络信号强度来注册，如果联通网信号比较强，手机注册的是联通网，而联通网不支持拨打112，所以无法拨通； 如果移动网信号强，则注册移动网，则可以拨通   112；可以通过察看消息MSG_ID_MMI_NW_ATTACH_IND来知道手机连接到的网络, 中国移动: 46000, 中国联通: 46001。

五百二十六、
	1.editText中设置下边框的颜色：android:backgroundTint="@color/editColor"
	2.設置標題欄不顯示icon：getActionBar().setDisplayShowHomeEnabled(false);

五百二十七、如何在dialog中添加自定义view
		AlertDialog.Builder mBuilder = new Builder(getActivity(), R.style.mUnlockDigStyle);
		LayoutInflater mInflater = LayoutInflater.from(getActivity());
		final View MyView = mInflater.inflate(R.layout.unlock_simme, null);
		mBuilder.setIcon(android.R.drawable.ic_dialog_dialer);
		mBuilder.setTitle(R.string.simme_unlick_dialog_title);
		mBuilder.setView(MyView);
		mUnlockEd = (EditText) MyView.findViewById(R.id.unlock_ed);
		mUnlockEd.setOnEditorActionListener(this);
		mUnlockTv = (TextView) MyView.findViewById(R.id.unlock_tv);
		mFinishBt = (Button) MyView.findViewById(R.id.unlock_finish);
		mFinishBt.setOnClickListener(this);
		mCancelBt = (Button) MyView.findViewById(R.id.unlock_cancel);
		mCancelBt.setOnClickListener(this);

五百二十八、如何在launcher界面修改图标    ---> /home/jiangcunbin/Desktop/sagereal资料/梁爽总结/2016-4-27学习笔记(修改图标)

五百二十九、byte的使用
	byte [] buffer = new byte[1024];
	//1024含义：每次读取的最大字节数为1K
	例如一个2049字节的文件，你如果把buf设置成1024字节，则需要读3次，
	第一、二次读取到1024个字节，第三次读取到1个字节，就这么简单，
	与实际程序运行效果没有影响，只不过是多读几次而已。
	不过网络编程的时候，大小设置就需要比较合理了，因为要考虑粘包的问题。
	
	InputStream in = s.getInputStream();
	byte[] buffer = new byte[1024]；
	int len= -1；
	while((len = in.read(buffer)) != -1){
		String text = new String(buffer, 0, len);
	}

五百三十、如何把html文件中显示时去除&lt;br/>&lt;br/>等符号
	<string name="smartdevice_d2d_target_help_needed_description">On your other device:&lt;br/>&lt;br/> 1. Open the &lt;b>Google Settings&lt;/b> app&lt;br/>&lt;br/> 2. Select &lt;b>&lt;xliff:g id=set_up_nearby_device_setting_title example=Set up nearby device>%1$s&lt;/xliff:g>&lt;/b> &lt;br/>&lt;br/> 3. Touch &lt;b>&lt;xliff:g id=device_name>%2$s&lt;/xliff:g>&lt;/b> on the list, and follow the on-screen instructions</string>

	String aaa = Html.fromHtml(getString(R.string.smartdevice_d2d_target_help_needed_description)).toString().replace("\n\n", " ");

五百三十一、[Bug](联系人)编辑联系人删除头像后仍然有头像（redmine51317）--->/home/jiangcunbin/Desktop/sagereal资料/梁爽总结/2016-6-14学习笔记(contact新建联系人头像remove问题) 

五百三十二、Pico TTS偶现报停  ---> redmine80077
      一般在Settings-->Language&input--->Text-to-speech output中有Google Text-to-speech Engine和Pico TTS，如无特殊需求，去除mtk的pico tts去除掉，在Projectconfig.mk文件中的remove_apps中加上PicoTts即可

五百三十三、[FAQ04354]一些查看内存状况的adb command
	1、adb shell cat proc/meminfo   ----> 手机RAM的信息   ps:剩余的ram大约为 = MemFree+Cached
	2、adb shell procrank   ----> 里面Pss列就是每个进程占用的运存

五百三十四、Camera中flash低电量阀值
	kernel-3.18/drivers/misc/mediatek/power/mt6755/pmic.c
	#define BAT_PERCENT_LINIT 15

五百三十五、按power+音量下测键，选择clear EMMC，clear EMMC是直接擦出data区数据，然后直接进入开机向导，不会进入recovery界面（机器人界面），这就导致比如预置的壁纸不会从system区copy到data区，最终导致预置壁纸消失
	ps：*#0*#和settings里面的恢复出厂设置都是会在擦出data区后出现recovery界面（机器人界面），所以不会出现预置壁纸消失


五百三十六、android N ，如果在有google包情况下，要使用launcher的桌面布局，必须要在gms.mk中注释掉GmsSampleLayout
	   android N平台配置过的开机向导插卡也可以点击通过

五百三十七、关于号码匹配
	frameworks/base/telephony/java/android/telephony/PhoneNumberUtils.java文件中toCallerIDMinMatch(String phoneNumber)方法中有if (!TextUtils.isEmpty(np)) {
		.......  }方法的判断，如果客户要求直接按照10位或者几位进行匹配，可把这些方法去除，37M的就是没有这个方法的判断。
	若不去除这些判断方法，5+7=12位数以上的，这些判断方法会过滤出去掉前5位数的号码，比如拨打1257991472583333，过滤出的号码为91472583333
	然后用这些方法过滤出来的号码，再去用internalGetStrippedReversed(np, minMatchLen);方法从右到左去截取自己设置的匹配位数

	ps：匹配只是为了显示为某个号码，拨打出去的还是按照自己拨打的号码

	[FAQ11094]【Contacts Data】 先10位匹配，若是无法匹配，则换成7位匹配

五百三十八、开机向导WIFI设置菜单界面 SKIP按键一直是灰色的（即开机向导跳不过WIFI）-------（H405 2台，H353 2台）
    出现如上问题的原因：售后机在恢复出厂设置前有在开机向导中设置过FRP功能，当恢复出厂设置的时候会让你输入上次设置的google账户，由于客户当时手机没有翻墙，所以无法去连接google账户，所以出现了恢复出厂设置后开机，WIFI SKIP按键一直是灰色的的情况，在验证过程中发现，只要手机翻墙后就会出现让你设置google账户的界面，当你输入上次设置的google账户后，就能正常跳过wifi了，请知悉！
    ps：FRP功能为恢复出厂设置保护功能，当你第一次刷机进去后，该功能会让你设置一个google账户，当你下次恢复出厂设置的时候会让你输入上次设置的google账户，才能正常过完开机向导，防止手机丢了后被他人恢复出厂设置进行使用！！

    FRP : factory reset protection   ---->   /home/jiangcunbin/Desktop/sagereal资料/自己总结/Factory_Reset_Protection_Training.pdf
    现在的手机基本都会有FRP功能，但是如何启动该功能，只要客户给手机设置一个图形解锁以及登录一个google账户，该功能就会自动开启，如果正常的在settings里面去恢复出厂设置，该设置里面会跳出一个图形解锁，如果你输入正确，然后恢复出厂设置，在开机向导界面就不用去重新登录google账户。
	ps：如果开发者选项中OEM unlocking功能打开的话，FRP功能会失效，所以OEM unlocking功能必须是关闭的

    超级密码（super password function）---> factory access
    一般我们设置了FRP功能后，有时候忘记了图形解锁密码以及google账户密码，这时候在恢复出厂设置时进无法进入手机了，这时候我们加了一个超级密码功能，这是一个输入密码的界面，是通过IMEI码通过一定的逻辑托算出来的6位数字（由于IMEI码是唯一的，所以超级密码也是唯一的），输入正确后会把FRP分区里面的数据全部插除
     ps：超级密码界面的入口---> 1、按紧急拨号进入（在锁屏界面或者开机向导界面）  2、settings ---> backup&reset ---> Factory data reset ---> reset phone ---> factory reset

     如何在代码端清除FRP分区的数据 ----> alps/frameworks/base/services/core/java/com/android/server/PersistentDataBlockService.java文件中的formatPartitionLocked方法
  
	
五百三十九、sql语句操作数据库
    "DELETE FROM" +表名 ----->去除该表里面的数据，该表依然存在
    "DROP TABLE IF EXISTS " +表名 ----->去除该表里面的数据，该表不存在，所以一般都是在最后要加上create table

五百四十、如何使用密令去发送广播
	adb shell am broadcast 后面的参数有：

	[-a <ACTION>]
	[-d <DATA_URI>]
	[-t <MIME_TYPE>] 
	[-c <CATEGORY> [-c <CATEGORY>] ...] 
	[-e|--es <EXTRA_KEY> <EXTRA_STRING_VALUE> ...] 
	[--ez <EXTRA_KEY> <EXTRA_BOOLEAN_VALUE> ...] 
	[-e|--ei <EXTRA_KEY> <EXTRA_INT_VALUE> ...] 
	[-n <COMPONENT>]
	[-f <FLAGS>] [<URI>]


	adb shell am broadcast -a com.Android.test --es test_string "this is test string" --ei test_int 100 --ez test_boolean true
	adb shell am broadcast -a android.intent.action.MASTER_CLEAR
	adb shell am broadcast -n com.lt.test/.MyBroadcast
	adb shell am broadcast -a android.intent.action.BOOT_COMPLETED -n com.example.myapplication/.BootReceiver ---> 向指定的Receiver发送action为...的广播
	adb shell am broadcast -a android.intent.action.BATTERY_WARNING --ei type 5

五百四十一、*res/raw和assets的相同点和不同点
*res/raw和assets的相同点：
	1.两者目录下的文件在打包后会原封不动的保存在apk包中，不会被编译成二进制。

*res/raw和assets的不同点：
	1.res/raw中的文件会被映射到R.java文件中，访问的时候直接使用资源ID即R.id.filename；assets文件夹下的文件不会被映射到R.java中，访问的时候需要AssetManager类。
	2.res/raw不可以有目录结构，而assets则可以有目录结构，也就是assets目录下可以再建立文件夹
*读取文件资源：
        InputStream is =getResources().openRawResource(R.id.filename);  
	2.读取assets下的文件资源，通过以下方式获取输入流来进行写操作
	        AssetManager am = null;  
	        am = getAssets();  
	        InputStream is = am.open("filename"); 
注意1：Google的Android系统处理Assert有个bug，在AssertManager中不能处理单个超过1MB的文件，不然会报异常，raw没这个限制可以放个4MB的Mp3文件没问题。
注意2：assets 文件夹是存放不进行编译加工的原生文件，即该文件夹里面的文件不会像 xml， java 文件被预编译，可以存放一些图片，html，js, css 等文件。

五百四十二、如果在非launcher界面，短信会以toast的形式显示出来  （一般都是直接在状态栏提醒下）
	可以搜索enqueueToast，然后发现如下log，可以发现pkg是什么，也就是是因为哪个apk才出现该toast
	./mobilelog/APLog_2017_0306_212156/sys_log:03-06 21:22:21.511677   788  9291 I NotificationService: enqueueToast pkg=com.beyond.cineplanet callback=android.app.ITransientNotification$Stub$Proxy@83465a6 duration=0

五百四十三、如何加selinux权限
	log：
	01-01 09:05:45.210000  8349  8349 W Thread-235: type=1400 audit(0.0:124): avc: denied { write } for name="brightness" dev="sysfs" ino=10091 scontext=u:r:system_app:s0 tcontext=u:object_r:sysfs:s0 tclass=file permissive=0
	01-01 09:05:45.220918  1630  8346 D NuPlayerRenderer: renderer set speed = 1
	01-01 09:05:45.221295  1630  8346 E NuPlayer: onScanSources
	01-01 09:05:45.221736  1630  8346 D Utils   : kKeyEndian in utils is 2
	01-01 09:05:45.221830  3024  8349 W System.err: java.io.FileNotFoundException: /sys/class/leds/green/brightness: open failed: EACCES (Permission denied)

	内置到system/priv-app/下的第三方apk，因selinux 权限问题，无法点亮LED

	解析：
	audit2allow  -i  111.txt

	#============= system_app ==============
	allow system_app sysfs:file write;

	如果直接加在system_app.te中，会与externel下文件冲突，导致编译报错，可以重新定义类型：

	添加：
	------＞file.te
	#liangshuang add for green led 2016-12-28
	type sys_green_brightness_file, fs_type,sysfs_type;

	file_contexts
	#liangshuang add for green led 2016-12-28
	/sys/class/leds/green/brightness u:object_r:sys_green_brightness_file:s0

	system_app.te
	#liangshuang add for green led 2016-12-28
	allow system_app sys_green_brightness_file:file write;

	system_server.te
	#liangshuang add for green led 2016-12-28
	allow system_server sys_green_brightness_file:file write;

	快速编译验证
	mmm external/sepolicy
	make -j24 ramdisk-nodeps
	make -j24 bootimage-nodeps
	然后再重新刷bootimage 测试.

	ps：[FAQ13324] SELinux 常见问题汇总
	    [FAQ13820] Android L APP 如何获取proc file system 中节点的写权限
	    [FAQ13635] Android L APP 如何获取sys file system 中节点的写权限
	    [FAQ11486] [SELinux Policy] 如何设置SELinux 策略规则 ? 在Kernel Log 中出现"avc: denied" 要如何处理？

	新加冲突的selinux权限方法：
	  (1)、先在file.te/property.te/device.te等文件中定义
	  (2)、在file_contexts/gen_contexts等对应文件中绑定第(1)步定义的label
	  (3)、在对应的.te文件中申请权限，即allow system_server sys_green_brightness_file:file write;样式，如果用audit2allow跑出来的.te文件不存在，则可以重新新建一个

五百四十四、如何屏蔽usb debug弹出框
	进入frameworks/base/packages/SystemUI/src/com/android/systemui/usb/UsbDebuggingActivity.java文件中，可以在onCreate方法中直接屏蔽如下代码：
          IBinder b = ServiceManager.getService(USB_SERVICE);
          IUsbManager service = IUsbManager.Stub.asInterface(b);
          service.allowUsbDebugging(true, mKey);     -------->主要是靠这句话

五百四十五、Bit Byte  ---> Bit为位，Byte为字节
        1个汉字 = 2 Bytes ，1 Byte = 8 Bits
	1 KB = 1024 Bytes , 1 MB = 1024 KB , 1 GB = 1024 MB
	bps: bits per second      Bps:Byte per second ,   1Bps = 8 bps

五百四十六、L版本 签名问题：
	1、development/tools/make_key releasekey '/C=CN/ST=NingBo/L=Fenghua/O=Mediatek/OU=WCD/CN=Liangshuang/emailAddress=liangshuang@sagereal.com'
	development/tools/make_key platform '/C=CN/ST=NingBo/L=Fenghua/O=Mediatek/OU=WCD/CN=Liangshuang/emailAddress=liangshuang@sagereal.com'
	development/tools/make_key media '/C=CN/ST=NingBo/L=Fenghua/O=Mediatek/OU=WCD/CN=Liangshuang/emailAddress=liangshuang@sagereal.com'
	development/tools/make_key shared '/C=CN/ST=NingBo/L=Fenghua/O=Mediatek/OU=WCD/CN=Liangshuang/emailAddress=liangshuang@sagereal.com'
	development/tools/make_key testkey '/C=CN/ST=NingBo/L=Fenghua/O=Mediatek/OU=WCD/CN=Liangshuang/emailAddress=liangshuang@sagereal.com'

	2、拷贝到alps/device/mediatek/common/security/sr6580_we_n/ 
	3、MTK_SIGNATURE_CUSTOMIZATION = no --> MTK_SIGNATURE_CUSTOMIZATION = yes 
	4、MTK_INTERNAL = no

	ps：第1步的签名就是我们自己用第1步的方法自己生成的，当打开MTK_SIGNATURE_CUSTOMIZATION这个宏时会直接使用device/mediatek/common/security/sr6580_we_n下面的key去进行签名，如果关闭MTK_SIGNATURE_CUSTOMIZATION这个宏时会直接使用MTK默认的key去签名，即build/target/product/security下面的key
	原理可以看device/mediatek/common/device.mk中
		ifeq ($(MTK_INTERNAL),yes)
		  PRODUCT_DEFAULT_DEV_CERTIFICATE := device/mediatek/common/security/releasekey
		else
		  ifeq ($(MTK_SIGNATURE_CUSTOMIZATION),yes)
		    ifeq ($(wildcard device/mediatek/common/security/$(strip $(MTK_TARGET_PROJECT))),)
		      $(error Please create device/mediatek/common/security/$(strip $(MTK_TARGET_PROJECT))/ and put your releasekey there!!)
		    else
		      PRODUCT_DEFAULT_DEV_CERTIFICATE := device/mediatek/common/security/$(strip $(MTK_TARGET_PROJECT))/releasekey
		    endif
		  else
		#   Not specify PRODUCT_DEFAULT_DEV_CERTIFICATE and the default testkey will be used.
		  endif
		endif

五百四十七、notes操作
	1、如何在notes里本地备份邮件
      点击左上方“文件” ----> 数据库 ---->  新建拷贝 ，然后就可以在工作台找到备份的邮件（一般是最后一个框）

	2、如何压缩本地邮件
       点击左上方菱形的按钮（属性）---> 点击文档 ---> 选择数据库 ---> 选择第二个  ---> 里面有个压缩按钮（一般没有权限，需要叫it部门去打开权限） 

五百四十八、编程语言介绍
	JavaScript：一种直译式脚本语言，是一种动态类型、弱类型、基于原型的语言，内置支持类型。它的解释器被称为JavaScript引擎，为浏览器的一部分，广泛用于客户端的脚本语言，被广泛用于web应用开发，常用来为网页添加各式各样的动态功能，为用户提供更流畅美观的浏览效果
	日常用途：1、嵌入动态文本于HTML页面  2、对浏览器事件作出响应  3、读写HTML元素  4、在数据被提交到服务器之前验证数据  5、检测访客的浏览器信息  6、控制cookies，包括创建和修改等  7、基于Node.js技术进行服务器的编程。
	
	HTML超文本标记语言，标准通用标记语言下的一个应用。“超文本”就是指页面内可以包含图片、链接，甚至音乐、程序等非文字元素。主要用于网页开发。
   
	PHP：（外文名:PHP: Hypertext Preprocessor，中文名：“超文本预处理器”）是一种通用开源脚本语言。语法吸收了C语言、Java和Perl的特点，利于学习，使用广泛，主要适用于Web开发领域
	

	Python（英国发音：/ˈpaɪθən/ 美国发音：/ˈpaɪθɑːn/）, 是一种面向对象的解释型计算机程序设计语言,具有丰富和强大的库，常被称为胶水语言，能够把用其他语言制作的各种模块（尤其是c/c++）很轻松的联接在一起

ps：javascript和php的区别如下：javascript就是浏览器执行的脚本语言，控制页面内容；php就是服务器端执行的语言，读取数据库把内容显示到页面

	objective-C   Python

五百四十九、contentobserver的使用----> 数据库的监听
	./他人培训/彩信压缩/Mms/src/com/android/mms/data/Contact.java

五百五十、kk及kk之前的虚拟机：Dalvik VM             L和M的虚拟机：art、如果在windows系统里面，adb shell找不到设置，这时候可以进计算机-->属性-->设备管理器-->便携设备里是否有感叹号，如果有就是要装一个adb的驱动，驱动位置在c盘/adb驱动

五百五十二、55平台、37平台支持volte（一般支持lte的项目都支持volte），80平台不支持（80平台是3g的，没有4g）

五百五十三、[FAQ12346]进入Google Search应用按返回键，无法返回主菜单

五百五十四、如果手机被root后，手机里会出现system/bin/su

五百五十五、售后反馈
	1、5012mobicel 开机一直停留在黑屏界面，只出现状态栏 --->  eservice:ALPS03172059  ----> 通过抓取layerdump，知道可以用FAQ17902
如何关闭灭屏时colorFade渐变动画  解决该问题。  ps：如何抓取layerdump，在该eservice上有说明
	2、*#0*#恢复出厂设置到待机界面一直黑屏，重启后开机一直黑屏 ----> 可以用FAQ17902如何关闭灭屏时colorFade渐变动画解决该问题,方法跟上面相同

五百五十六、BQB认证
	概念：
	如果您的产品具有蓝牙功能并且在产品外观上标明蓝牙标志，必须通过一个叫做BQB的认证

	智能机：
	0. 手机不能内置联系人（HFP的测试项OCM_BV_02_I需要清空联系人）
	1. 软件释放有如下要求：
	a. 去掉GMS
	b. 默认关闭wifi
	c. 去掉USB充电功能
	d. 去掉温度检测
	e. eng模式编译软件
	2. 刷机后需要按如下步骤操作：待机界面输入*#*#3646633#*#* -》Log and Debugging -》ATCI -》点击Enable ATCI

五百五十七、恢复出厂设置机器人倒
   L/M平台：
	Issue ID:ALPS03185033 
	这是因为每次开完机进桌面会发 boot_completed intent 作这个清除动作， 刚好删除这时作恢复出厂设置写入的command，该代码是删除/cache/recovery 目录下 
	除 last_logx 以外不必要文件， 不会有影响，也可以自行加判断在这个case 下不作删除。

	alps/frameworks/base/core/java/android/os/RecoverySystem.java

		 for (int i = 0; names != null && i < names.length; i++) {
		     if (names[i].startsWith(LAST_PREFIX)) continue;
		     File f = new File(RECOVERY_DIR, names[i]);

	//Redmine87936 modify for recovery robot fall 2017-03-06 begin
	//            if (!f.delete()) {
	//                Slog.e(TAG, "Can't delete: " + f);
	//            } else {
	//                Slog.i(TAG, "Deleted: " + f);
	//            }
	//Redmine87936 modify for recovery robot fall 2017-03-06 end
		 }
 
    N平台：
	Issue ID:ALPS03196089 
	这是google patch原生bug，请合入google提供的patch
	https://android.googlesource.com/platform/frameworks/base/+/794c8b0b3fe16051843c22232d58d6b184dde49b

	将下面三个文件与源文件作对比，进行修改
	alps/frameworks/base/core/java/android/os/IRecoverySystem.aidl 	
	alps/frameworks/base/core/java/android/os/RecoverySystem.java 		
	alps/frameworks/base/services/core/java/com/android/server/RecoverySystemService.java

五百五十八、sr6750_35g_n软件包中每个代表的信息
	下图是6755 N的make文件，前4个数字代表平台（说明6750 & 6755都是用这套代码）；
	第5个数字，是3或6，3代表32位系统，6代表64位系统。64位系统的CTS测试case要比32位多很多
	第6个数字，是5或者6，5代表5模，6代表6模
	g代表GMO版本，GMO的特点是MTK裁剪了某些feature，用于节省ram，以便512M内存也可以用
	n代表android版本为N

五百五十九、如何快速抓取systrace （Systrace的功能用来debug performance问题）
	前提条件：下载好android SDK，安装Python
	1，终端下，cd切换到SDK目录
	2，切换到systrace目录：……../platform-tools/systrace
	3,执行命令.
		python systrace.py --time=10 -o performanceTrace.html sched gfx view wm
			--time=10表示抓取10s的信息
			–o performanceTrace.html表示输出文件名
			sched gfx view wm 是TAG（python systrace.py -l 可以查看全部标签）
	4,在当前路径生成的performanceTrace.html即是报告文件。右键用google浏览器打开，即可查看。

五百六十、spn系统获取的优先级
    在frameworks/opt/telephony/src/java/com/android/internal/telephony/uicc/SpnOverride.java文件lookupOperatorName方法中去获取那几个在system/etc下的spn文件，但是在显示过程中会先去判断，如下：
   if ((numeric.equals("46000")) || (numeric.equals("46002")) || (numeric.equals("46007")) || (numeric.equals("46008"))) {
                operName = context.getText(com.mediatek.R.string.oper_long_46000).toString();
            } else if ((numeric.equals("46001")) || (numeric.equals("46009"))) {
                operName = context.getText(com.mediatek.R.string.oper_long_46001).toString();
            } else if ((numeric.equals("46003")) || (numeric.equals("46011")) || getFromResource) {
                operName = context.getText(com.mediatek.R.string.oper_long_46003).toString();
            } else if (numeric.equals("46601")) {
                operName = context.getText(com.mediatek.R.string.oper_long_46601).toString();
            } else if (numeric.equals("46692")) {
                operName = context.getText(com.mediatek.R.string.oper_long_46692).toString();
            } else if (numeric.equals("46697")) {
                operName = context.getText(com.mediatek.R.string.oper_long_46697).toString();
            } else if (numeric.equals("99998")) {
                operName = context.getText(com.mediatek.R.string.oper_long_99998).toString();
            } else if (numeric.equals("99999")) {
                operName = context.getText(com.mediatek.R.string.oper_long_99999).toString();
            } else {
                // If can't found corresspoding operator in string resource, lookup from spn_conf.xml
                if (containsCarrier(numeric)) {
                    operName = getSpn(numeric);
                } else {
                    Rlog.w(LOG_TAG, "Can't find long operator name for " + numeric);
                }
	所以，有些比如说显示的CMCC、CU都是在这里判断显示的，并不是在spn文件中去写的
ps：在这个方法中可以看到，获取显示名字的优先级为getSpnByEfSpn(etc/virtual-spn-conf-by-efspn.xml) 》 getSpnByImsi(etc/virtual-spn-conf-by-imsi.xml) 》 getSpnByEfPnn(etc/virtual-spn-conf-by-efpnn.xml) 》 getSpnByEfGid(etc/virtual-spn-conf-by-efgid1.xml) 》  etc/spn-conf.xml

	virtual-spn-conf-by-efspn.xml文件中的efspn一般是在log中去抓取的，其实就是写在sim卡中的，所以优先级相当于sim卡最高，至于为什么要出现这几个xml文件，就是为了区别网络运营商和运营商，因为这两个的mnc和mcc是一样的，所以就用网络运营商中的efspn等值来区别开来


五百六十一、PRIMARY KEY 约束唯一标识数据库表中的每条记录。 主键必须包含唯一的值。 主键列不能包含 NULL 值

五百六十二、google包名称
	Velvet ---> google search    Phonesky ----> Google Play Store

五百六十三、redmine 49185 [基本移植任务] 主菜单Camera图标消失
	在vendor/mediatek/proprietary/packages/apps/Camera/src/com/android/camera/DisableCameraReceiver.java文件
 We want to disable camera-related activities if there is no camera. This receiver runs when BOOT_COMPLETED intent is received. After running once
 this receiver will be disabled, so it will not run again.

五百六十四、概率性开机定屏  ---->  有patch解决
	   6570新平台随机出现黑屏死机   ---->  事件起因：测试使用中，发现手机随机性出现黑屏，一段时间后死机或重启
				             软件解决方法：发现出现问题的机器内都产生了KE
				             解析KE，kworker/1:0线程停在acc_work_func->mxc400x_get_data->MXC400X_ReadSensorData->msleep,把msleep注释掉后就正常了。

五百六十五、3g如何显示为H，指的是小的3g   redmine69613
      M：frameworks/base/packages/SystemUI/res/values/config.xml文件中<bool name="config_hspa_data_distinguishable">true</bool>，该值为true代表显示为H，该值为false代表显示的为3G  
      ps：小的3g代表的是数据，大的3g代表的是网络

五百六十六、如何当通话记录上每条都显示运营商信息，即CU等，M上一般是直接没有显示这个的，但是L上是有显示的，如果要M上也能显示出来，可以在packages/apps/Dialer/src/com/android/dialer/calllog/PhoneAccountUtils.java文件中getAccountOrNull方法中把if (telecomManager.getCallCapablePhoneAccounts().size() <= 1 &&
                ExtensionManager.getInstance().getCallLogExtension().shouldReturnAccountNull()) {
            return null;
        }注释掉即可

五百六十七、有些4+512的项目安装大型第三方apk会出现安装时间长，在安装过程中去操作系统会出现卡顿的现象  ----->5012_LP的项目（M）
      在L、M版本上：art/dex2oat/dex2oat.cc文件中最上面定义如下代码：
#define IS_APP(appname) ((!oat_filename_.empty() && (oat_filename_.find(appname) != std::string::npos)) ||  \
						 (!zip_location_.empty() && (zip_location_.find(appname) != std::string::npos)) ||  \
                         (!oat_location_.empty() && (oat_location_.find(appname) != std::string::npos)))
       然后在compiler_options_.reset(new CompilerOptions这句话前面加上如下代码：
 	if( IS_APP("facebook") || IS_APP("youtube") || IS_APP("skype") || IS_APP("twitter") ) {
		compiler_filter = CompilerOptions::kInterpretOnly;
		LOG(INFO) <<" This apk is in whitelist, so set interpret-only ";
	}


五百六十八、[FAQ06165][NVRAM][SIM_ME_LOCK]protect_f和protect_s分区的作用是什么？
    [Description]
	protect_f和protect_s分区的作用是什么？
 
    [Solution]
	在没有Protect_s和Protect_f分区之前，SIM ME LOCK数据存在USER DATA分区内，详细路径为/data/nvram/md/NVRAM/IMPORTANT。
	当恢复出厂设置时，会将/data/nvram/md/下的文件全部清除，其后开机时会将NVRAM BIN Region中备份的数据recovery到/data/nvram/md/下。

        如NVRAM BIN REGION中数据为空，则会按照默认值生成SIM ME LOCK数据。
        如NVRAM BIN REGION中数据不为空，则会将SIM ME LOCK数据恢复为NVRAM BIN REGION保存的状态。

    针对case 2，由于NVRAM BIN REGION中保存的状态并不总是同恢复出厂之前/data/nvram/md/NVRAM/IMPORTANT下的SIM ME LOCK数据状态一致，因此可能无法满足SML 的更新一致性要求。

    为了对SML数据进行持久化保存以及更新一致性的目的，我们将SML数据移入Protect_s和Protect_f分区。

    Protect_s和Protect_f分区的特点有：
    Download的时候若要format USERDATA分区时，不会format Protect_s和Protect_f。
    恢复出厂设置时，也不会清除 Protect_s和Protect_f。但若此时BIN Region中无内容，开机时会判断出USERDATA分区中/data/nvram/md不存在且BIN Region中无内容，进而断定是第一次开机从而根据默认值生成SIM ME LOCK。

    [FAQ04454][NVRAM]modem内的哪些NVRAM会被备份到BIN Region?
		Protect_s和Protect_f分区数据是不会被备份到bin区的。


	把数据放入到product_info就能实现该数据在回恢复出厂设置的时候不丢失
	


五百六十九、为何在拨号盘中按*#*#3646633#*#*可以进入工程模式
	因为在vendor/mediatek/proprietary/packages/apps/EngineerMode/AndroidManifest.xml中去接收如下广播，也就意味着任何的第三方的phone的apk（无源码）也可以进入工程模式或者工厂测试（你只需要在工厂测试中的AndroidManifest.xml去接收如下广播即可）
      <receiver
            android:name=".EngineerModeReceiver"
            android:exported="true" >
            <intent-filter>
                <action android:name="android.provider.Telephony.SECRET_CODE" />

                <data
                    android:host="3646633"
                    android:scheme="android_secret_code" />
            </intent-filter>
        </receiver>


五百七十、simlock界面显示原理 ---->KeyguardSimPinPukView.java(主要在该文件进行操作)
	SIM-ME及其他解锁界面的出现，是由KeyguardHostView控制的。
	KeyguardHostView执行显示第一次解锁界面的函数为showPrimarySecurityScreen。此函数中会获取当前的系统的SecurityMode ，之后孵化并显示对应的解锁界面。
	SecurityMode securityMode = mSecurityModel.getSecurityMode();
	showSecurityScreen(securityMode);
	对应的SIM-ME状态的解锁界面就是KeyguardSimPinPukView，此JAVA文件是MTK编写的，对应也包括了PIN和PUK解锁界面。
	当对应SIM卡的解锁界面完成后，SIM卡状况会改变，SIM卡的状态会被KeyguardUpdateMonitor接收到。它会将状态分发给它的观察者
	KeyguardUpdateMonitor是所有会影响整个待机解/锁屏业务的事件的监控器。它监控诸如时间改变、电池状态改变、时区改变、SIM卡状态变化、电话状态变化、电话信号变化等事件。
它是一个观察者模式的被观察对象。观察者通过调用KeyguardUpdateMonitor的registerInfoCallback(InfoCallback)和registerSimStateCallback(SimStateCallback)方法进行注册，观察自己感兴趣的变化。
	KeyguardUpdateMonitor的观察者之一就是KeyguardSimPinPukView
	SIM卡的状态改变时， KeyguardUpdateMonitor 中handleSimStateChange函数会被调用，此函数中会将当前状态与之前状态进行比较，不一样的情况下会调用注册的观察者  （锁网状态除外）：
	for (int i = 0; i < mCallbacks.size(); i++) {
		KeyguardUpdateMonitorCallback cb = mCallbacks.get(i).get(); 
		cb.onSimStateChanged(state, simArgs.simId);
	}
	当KeyguardSimPinPukView被KeyguardHostView的showPrimarySecurityScreen显示后，输入解锁码的界面就出现了，对应的提示信息也被更新。
	输入解锁码按确定键后，对应的  verifyPasswordAndUnlock -> dealWithPinOrPukUnlock -> checkMe(mSimId) -> new CheckSimMe(mPasswordEntry.getText().toString(), mSimId) 就会被执行，CheckSimMe会将你输入的解锁码传递给Ril.java，之后通过AT命令发送给Modem，Modem端校验解锁码，之后再将校验解锁传回。
	当SIM卡状态改变，KeyguardSimPinPukView作为KeyguardUpdateMonitor的观察者，自己的onSimStateChanged函数会被执行。onSimStateChanged函数中会将check传入的SIM卡状态，锁网状态处理如下：
	else if (IccCardConstants.State.NETWORK_LOCKED == simState) {
	if (0 == getRetryMeCount(mSimId)) { //permanently locked, exit
	    // do not show permanently locked dialog here, it is already show in ViewMediator
	    KeyguardUtils.xlogD(TAG, "onSimStateChanged: ME retrycount is 0, dismiss it");
	    sendVerifyResult(KeyguardSimPinPukView.VERIFY_TYPE_SIMMELOCK, false);
	    mUpdateMonitor.setPINDismiss(mSimId, KeyguardUpdateMonitor.SimLockType.SIM_LOCK_ME, true);
	    mCallback.dismiss(true);
	} else {
	    updateSimState();   // show next ME lock guiding
	}
	}


ps: L/M/N:永久解锁使用的是sendUnlockBroadcast(mContext, mPhoneId)方法，非永久解锁使用的是supplyNetworkDepersonalization方法，这两个方法都在KeyguardSimPinPukMeView.java文件中的CheckSimMe方法中，这些平台上没有keep_list就能永久解锁就是因为他们的数据保存在protect_f, protect_s分区里面，这两个分区的数据不会因为恢复出厂设置而被清除（kk的时候数据是保存在data/nvram里面，所以每次恢复出厂设置后数据会被清除），所以就能直接实现永久解锁；而非永久解锁应该是modem解锁后没有把数据保存进protect_f, protect_s分区。

	

五百七十一、快速休眠????
	当不用网络的时候，手机会跟网络端沟通，然后如果不需要用到网络的时候，会去断掉网络，进入休眠，如果等用到了会自动连上


五百七十二、认证名称
   CTA：从狭义上讲就是型号核准(Type Approval)的意思, 国家无线电监测中心检测中心(SRTC)是型号核准的唯一测试单位.
但是目前, CTA这个词在中国手机类产品认证领域, 已经广义的包含了型号核准(TA),进网许可,CCC认证(CCC), 也就是包含了手机在中国上市需要取得三个认证许可:
	1. 型号核准(TA) ，即型号核准报告
   	2. 进网许可 ,  泰尔实验室的入网检验报告
   	3. CCC认证 ,中国强制性产品认证
   GCF：是进入欧洲各运营商渠道销售的通信产品必须进行的认证
   FCC：是进入美洲各运营商渠道销售的通信产品必须进行的认证            
   BQB：蓝牙认证


五百七十三、6755N上的项目对nvram中product_info不能进行读写操作  ----->  eservice:ALPS03265743
	在normal mode，apk和服务都能访问nvram。如果在备份发生的时候，有其他的服务访问nvram，很容易导致nvram备份失败。如果备份失败，会直接导致nvram的数据全部丢失。也就是说，存在为了备份一两只文件，导致其他所有备份数据丢失的风险。简单的说，就是开了写保护，让nvram 数据在normal mode 更加安全.
         具体修改，请参照上面的eservice。

五百七十四、辅助机拨打联通短号给测试机，测试机短信拒绝，辅助机接收不到短信 ----> 该问题是正常的  ----->  eservice:ALPS03275386

五百七十五、关于(通话)信息拒绝来电，对方接收不到信息的总结
	关于这个问题，对比了魅族，360等手机，通过跟踪发现是由于联通运营商的短号无法解析特殊符号如（ I'll）导致。Can\'t talk now. Call me later? 改为 Can not talk now. Call me later?

五百七十六、BUILD_FINGERPRINT := $(PRODUCT_BRAND)/$(SAGEREAL_PRODUCT_NAME)/$(SAGEREAL_TARGET_DEVICE):$(PLATFORM_VERSION)/$(BUILD_ID)/$(BF_BUILD_NUMBER):$(TARGET_BUILD_VARIANT)/$(BUILD_VERSION_TAGS)
     ps：fingerprint里面“：”前面几个是要我们自己设置的（即可以用客户要求的名字），“：”后面的是会自动生成的

五百七十七、gps默认关闭
	当把gps默认关闭后，开机向导会把gps去打开（此时打开的是network，即battery saving），此时要关闭的话，必须在开机向导结束后去修改数据库
	1.首先需要将def_location_providers_allowed置为空，即系统认为的默认关闭  2.默认关闭后仍然开启，则抓取第一次开机log，搜索gps字段的关键字location_providers_allowed
3.在sys log中搜索到call_put(secure:location_providers_allowed=+network) for 0   4.同样定位到SettingsProvider.java的call方法，我们也可以在这里做处理
继续查看redmine对应提交记录，我们最终是在Settings.java的putStringForUser方法中修改的，我们可以看到putStringForUser中，最后调用了cp.call(cr.getPackageName(), mCallSetCommand, name, arg);
这句代码最终调用的就是SettingsProvider.java里面的call方法
	在Settings.java的putStringForUser方法中加上如下代码
                if (Secure.getInt(cr,Secure.USER_SETUP_COMPLETE,0) == 0 && name.equals(Secure.LOCATION_PROVIDERS_ALLOWED)) {
                    if(!android.util.FeatureOption.SAGEREAL_GPS_WORKON_WIZARD){
                        return true;
                    }
                }
	具体可参考如下文档：/home/jiangcunbin/Desktop/sagereal资料/自己总结/GMS认证/GMS包引起问题分析_new/GMS包引起问题分析.ppt

五百七十八、当apk已经在手机上，连上手机去获取某个apk的信息，可以用adb shell dumpsys package + com.xxx.xxx（包名）
	   当apk未在手机内，只是单纯的apk，这时候可以用aapt的密令，具体可以在此文档中搜索aapt

五百七十九、[FAQ13914]CPU-Z显示的电池容量不对  ---->  使用CPU-Z软件读取电池容量，显示电池容量只有1000mah，与实际容量不符

五百八十、redmine90660 问题：下拉状态栏进入wifi、勿扰、蓝牙、电池、数据流量，点击done会闪现白屏，见视频
	解决方法：alps/frameworks/base/services/core/java/com/android/server/wm/WindowManagerService.java文件中 mAnimatorDurationScaleSetting从1.0f改为0.5f
		会引起gms认证的失败

五百八十一、gps在第二页没有被打开（出现在xb52u和M80上）
       由于手机配置低，第一次gps没有打开成功，现在的解决方案如下：
		延迟1s去打开gps，
                   Timer timer = new Timer();
            timer.schedule(new TimerTask() {
                @Override
                public void run() {
                    runOnUiThread(new Runnable() {
                        @Override
                        public void run() {
                            openGPSSettings();
                        }
                    });
                }
            }, 1000);  
     
五百八十二、[FAQ19228][Audio APP] android 7.0 充电提示音无效  ----》 其实是需要无线充电的时候才会发出声音   

五百八十三、使用google包但是不过认证风险邮件如下：
   1、根据GMS认证新要求，在Google Play Store 的Setting菜单里面会显示这款机器是否通过GMS认证，针对没有过GMS认证的7.0机器，系统会通过Play Store推送信息给使用者，大概内容为：该设备不合法，请退给零售商    -------> 该条虽然现在google反馈的是android 7.0 才会有消息推送，但不能保证谷歌以后不会在其他版本实施该认证要求，所以存在风险。
   2、预计从2017年8月份开始，所有使用安卓系统的机器，不管是什么版本，如果没有通过GMS认证，谷歌会让机器停止使用谷歌所有的应用。 
        -------> 不管是安卓哪个版本，只要是没有通过GMS认证，谷歌所有的应用都会被停止使用，这个风险点比较大。
  
五百八十四、在如下文件中也会直接涉及到KeyEvent.KEYCODE_CALL的使用，当你按下KeyEvent.KEYCODE_CALL键时，如下文件也会去运行
	alps/frameworks/base/policy/src/com/android/internal/policy/impl/PhoneFallbackEventHandler.java 

五百八十五、[FAQ19292]N上关机闹钟铃声问题
   现象：N上关机闹钟设置的铃声，在闹钟开机界面会恢复成默认铃声，即设置的铃声和播放的铃声不一样。
   解决方案：
	1、如果将设置-->无障碍-->快速开机的功能打开，就不存在此问题。
	2、如果不打开快速开机，将走google原生的开机流程，google在N上新增了FBE的加密机制，因为mediaprovider没有BOOT_AWARE的flag : android:directBootAware="true"  , 导致mediaprovider不支持direct boot，从而resolveContentProvider返回null,因此闹钟去获取默认的铃声。
        可以通过在MediaProvider的Manifest文件/packages/providers/MediaProvider/AndroidManifest.xml ，增加 android:directBootAware="true" 来解决此问题。
        ps：但如果是用户客制化SD卡的三方铃声，用此方法将无法解决，因为FBE的限制，SD卡在关机闹钟阶段无法mount上。所以我司建议要使用关机闹钟的完好功能，请打开快速开机，并在用户关闭快速关机时，显示警告，提醒用户将导致关机闹钟的铃声异常。 	


五百八十六、网络解析
    G：2G  <  E:2G升级版（2.75G）< 3G:3G < H:3G升级版（3.5G）< H+:H升级版（3.75G）
    PS：2G网络为GSM，3G网络为WCDMA，H为HSPA

五百八十七、N上多了一个display size的功能，当你去调整display size功能的时候会发现桌面上apk的位置会出现变化，比如说桌面从4x4的布局变成了4x5的布局
    Display size修改后，屏幕的密度会变化，而桌面的布局是根据密度进行调整，这个是正常现象，该功能MTK给的功能介绍也是说会根据Display size进行调整的，具体可以看/home/jiangcunbin/Desktop/sagereal资料/自己总结/DisplaySize.docx文档

五百八十八、锁屏方式设置为滑动解锁，锁屏界面来电，接通电话的瞬间闪现黑屏；当锁屏方式设置为图案解锁时，锁屏界面来电，接通电话没有出现闪现黑屏
	这个Goolge default；复现这个问题也是有条件的，当您在把手机锁屏换成滑动或者none时才可以复现；主要是由于：在M，Google改變了keyguard force hide 的條件，導致 incall app 會先被 hide，等 keyguard 被dismiss 後再顯示出來；所以，这个地方建议不需要处理；
	
五百八十九、当在某个界面来电时，会在屏幕上方跳出一个提示框，点击提示框会进入InCallActivity,跳转的地方在哪里？
     packages/apps/Dialer/InCallUI/src/com/android/incallui/InCallPresenter.java文件中getInCallIntent(boolean showDialpad, boolean newOutgoingCall)方法，把里面的intent.setFlags(Intent.FLAG_ACTIVITY_NO_USER_ACTION | Intent.FLAG_ACTIVITY_NEW_TASK)修改成intent.setFlags(Intent.FLAG_ACTIVITY_NO_USER_ACTION | Intent.FLAG_ACTIVITY_NEW_TASK|Intent.FLAG_ACTIVITY_TASK_ON_HOME)，这样挂断电话就会跳转到launcher界面

五百九十、[FAQ14091]如何在Recent App不显示某个应用
	长按HOME键或者Navigation bar的recent key在最近应用程序列表中会显示最近访问过的应用，如何做到不显示某应用以达到隐藏进程的目的呢？
	为该应用AndroidManifest xml文件中主activity设置属性：android:excludeFromRecents=“true”

五百九十一、[FAQ10364]前置摄像头如何打开Video Snapshot功能？ ----->  VSS功能
     后摄：直接到对应的imgsensor文件中打开
	FTABLE_CONFIG_AS_TYPE_OF_USER(
        KEY_AS_(MtkCameraParameters::KEY_VIDEO_SNAPSHOT_SUPPORTED),
        SCENE_AS_DEFAULT_SCENE(
            ITEM_AS_DEFAULT_(MtkCameraParameters::TRUE),
        ),
     前摄：直接到对应的imgsensor文件中打开
	FTABLE_CONFIG_AS_TYPE_OF_USER(
        KEY_AS_(MtkCameraParameters::KEY_VIDEO_SNAPSHOT_SUPPORTED),
        SCENE_AS_DEFAULT_SCENE(
            ITEM_AS_DEFAULT_(MtkCameraParameters::TRUE),
        ),然后在vendor/mediatek/proprietary/packages/apps/Camera/src/com/mediatek/camera/mode/VideoMode.java文件initializeShutterStatus()方法中把CameraInfo.CAMERA_FACING_FRONT == mICameraDeviceManager.getCameraInfo(mICameraDeviceManager.getCurrentCameraId()).facing这个判断注释掉


五百九十二.多用户
     FAQ13688 【Multi-user】如何在L版本上打开Multi-user？

     FAQ14403 【multi-user】android 5.1 如何打开 android.software.managed_users 功能
1. 在sagereal/mk/Project_name/ProjectConfig.mk文件中开以下宏
		config_enableMultiUserUI = true
		config_multiuserMaximumUsers = 8  //此宏值不小于2,
		/*
		  以上两个宏也可以在alps/frameworks/base/core/res/resalues/config.xml文件中直接设置默认值
			<bool name="config_enableMultiUserUI">true</bool>
			<integer name="config_multiuserMaximumUsers">8</integer>
		*/
		MTK_2SDCARD_SWAP = no
		MTK_OWNER_SDCARD_ONLY_SUPPORT = yes
		MTK_SHARED_SDCARD = yes
	2. 在alps/devicegetel/sr6572_wet_l/system.prop文件中ro值
		ro.config.low_ram=false
		若上面文件中没有该值，可以去alps/devicegetel/sr6572_wet_l/device.mk文件中找到ro.config.low_ram，并设置为false
	3. 在alps/frameworks/native/data/etc/handheld_core_hardware.xml文件中打开手机多功能系统服务
    	<feature name="android.software.managed_users" /
>
		<feature name="android.software.device_admin" />
	4. AndroidForWork.apk is mandatory to preload on all GMS devices.  //Google App中必须包含该APK
	注意：若要添加多用户功能，必须配置好以上4点，否则CTS测试会有15项测试不通过。

    1，Check managered_users configuration:
         adb shell pm list features
         看是否有android.software.managed_users
    2，check multi-user number
         adb shell pm  get-max-users
         获取到的个数应该大于1
    3，check multi-user UI
         adb shell getprop fw.show_multiuserui
         这个值应该是true。

五百九十三、对方接通电话，自己手机震动一下
	N：packages/services/Telecomm/src/com/android/server/telecom/Ringer.java文件中vibrateMOConnected方法中mVibrator.vibrate(MO_CALL_VIBRATE_TIME);这句代码

五百九十四、VOLTE、VOWIFI
       VOLTE：用流量打电话，用LTE承载，但是用分钟数收钱，优点是用数据流量传输数据，音质更好，电话接通更快
       VOWIFI：用wifi打电话，用wifi承载

五百九十五、如何添加widevine 
       可按照如下修改：http://172.16.78.132:8002/gitweb/?p=repositories/ALPS-MP-N0.MP2-V1_SR6580_WE_N.git;a=commitdiff;h=b942425cc932e1cdfb716cda72a37183ed87c995;hp=a9460b27dce8bb4163bf92522aae534af9ade5bf
	修改方法：
   (1)、alps/device/mediatek/common/device.mk 	
	ifeq (yes, $(strip $(SAGEREAL_WIDEVINE_SUPPORT)))
	$(shell cp $(TOPDIR)device/mediatek/common/widevine_on/SECRO_GMP.ini  $(TOPDIR)vendor/mediatek/proprietary/custom/common/secro/SECRO_GMP.ini)
	else
	$(shell cp $(TOPDIR)device/mediatek/common/widevine_off/SECRO_GMP.ini  $(TOPDIR)vendor/mediatek/proprietary/custom/common/secro/SECRO_GMP.ini)
	endif	
   (2)、alps/device/mediatek/common/widevine_off/SECRO_GMP.ini 	新建的文件
   (3)、alps/device/mediatek/common/widevine_on/SECRO_GMP.ini 	新建的文件
   (4)、sagereal/mk/VP40_H4007/ProjectConfig.mk   ---->  SAGEREAL_WIDEVINE_SUPPORT = yes		
   (5)、sagereal/script/makesagerealAction.sh 	
	把make -j8 sign-image 2>&1 | tee sign-image_build.log修改为make -j8 sign-image-nodeps 2>&1 | tee sign-image_build.log	

五百九十六、[FAQ20101]增加National data roaming 菜单定制
	这里的漫游，是指手机使用一个运营商的SIM卡，注册上另一个运营商的网络。

	International Roaming: Operator A的sim卡注册到了和Operator A不同国家的其他Operator的plmn上；
	National Roaming: Operator A的sim卡注册到了和Operator A相同国家的其他Operator的plmn上；

	ps:[FAQ09599]如何默认勾选DATA ROAMING

五百九十七、如何让手机运行更流畅（没办法的时候才使用）----> 测试项：CtsMediaTestCases --android.media.cts.EncoderTest#testAACEncoders 
	GMO版本，flash超频，LCD降频，AAL功能关闭，并关闭CPU温度界限功能	

五百九十八、关于apn
	[FAQ17853]M上默认接入点apn显示  ----> apn显示的顺序
	[FAQ17660]如何客制化“插入非特定运营商SIM卡时APN显示为空。允许手动添加APN并只有手动添加APN才能删除和编辑”   
		-----> 手动添加的APN，sourcetype==1；apns-conf.xml中预置的APN，sourcetype==0。packages/apps/Settings/ext/src/com/mediatek/settings/ext/DefaultApnSettingsExt.java中isAllowEditPresetApn()返回true表示该APN可以删除和编辑

	apn的数据库是写在packages/providers/TelephonyProvider/src/com/android/providers/telephony/TelephonyProvider.java

五百九十九、关于功耗
	飞行模式功耗(3mA)：开启飞行模式，确保wifi、gps、bt、data关闭，灭屏，过一小段时间后，一般会降到3mA左右且不会大的跳变则为正常；一般观察几分钟即可。
	待机功耗(6-8mA，一般在10mA)：关闭飞行模式，关闭wifi、gps、bt、data关闭，灭屏过一段时间后，等功耗下来开始计算平均值，中间会有小幅跳变，一般平均值在6-8左右算正常，依手机配置而定，一般平均值都在10以下；需要观察十分钟左右。
	数据功耗(40-60mA):关闭飞行模式，开启data，关闭wifi、gps、bt，灭屏，过一段时间后，等功耗下来开始计算平均值，中间会有跳变，一般平均值会在40-60这样；需要使用账号密码翻墙，翻墙成功后测试，大概需要十分钟之后才开始计算平均值，每十分钟得到一次平均值，一次要测试大概半小时以上。 

	如果是飞行模式功耗认为高了一点点，则查看宏MTK_FLIGHT_MODE_POWER_OFF_MD；当等于yes时，飞行模式下modem完全关闭，功耗更低，但从飞行模式切换回普通模式时搜索信号速度慢；当等于no时，飞行模式下modem不完全关闭，会有跳变，但是从飞行模式切换回普通模式时搜索信号速度快（一般运营商比较关注这点）； 底电流会大0.5-1mA左右；


六百、下拉状态栏的手电筒(flashlight)如何修改
	frameworks/base/packages/SystemUI/src/com/android/systemui/qs/tiles/FlashlightTile.java文件修改以下几点：
        1、boolean newState = intent.getBooleanExtra("state", false)修改为
		boolean newState = intent.getBooleanExtra("state", false) && mFlashlightController.isAvailable() ;
	      1：camera打开时，下拉状态栏手电筒图标消失
              2：camera关闭时，下拉状态栏手电筒图标显现并显示关闭状态
              3：第三方apk手电筒打开时，下拉状态栏手电筒图标消失
              4：第三方apk手电筒关闭时，下拉状态栏手电筒图标显现并显示关闭

六百零一、GMS认证汇总
	1、必须使用GooglePackageInstaller，然后还要去除MTK的PackageInstaller，如果同时存在会报错，如果只存在MTK的PackageInstaller会出
	2、	1.screen pinning 需要支持（ctsv中进行check）
		2.FRP 需要支持（MMI去check宏控，测试组通过翻墙）   
		3.非Low_ram（>=1G）项目，多用户需要支持（MMI check宏控，测试组check）
		4.7.0以上需支持多窗口功能（测试组验证check功能）"
	3、 New device第一版正式过认证软件ro.product.first_api_level不能存在，必须去除。
		升级软件过认证，按照以前的ro.product.first_api_level设置即可
	4、clientid的使用
		非运营商项目只要设置ro.com.google.clientidbase，即在3pl提供的表格中木有（包括运营商和国家都要同时满足，不然的话算非运营商）
		运营商项目项目如下设置：		base/.ms/.am/.wal，去掉了.gmm/.yt（wal是增加的）
				ro.com.google.clientidbase=android-symphonyedison  \
				ro.com.google.clientidbase.ms=android-symphonyedison \
				ro.com.google.clientidbase.am=android-symphonyedison \
				ro.com.google.clientidbase.wal=android-symphonyedison

六百零二、如何修改默认插值
	默认的插值都是默认插值为最后一个，有时候客户需要默认插值为某个值，可以按照下面这个FAQ进行修改。
		[FAQ14380]L版本上如何修改默认picture size

六百零三、预置资源
	[FAQ14735]【sdcard-FAT filesystem】MTK_SHARED_SDCARD打开时L上如何预置资源
	[FAQ17418][Recovery][Build] 预置资源（如apk）到userdata，otapackage之后的userdata.img没有此资源
		---> allview预置壁纸（预置在data区，备份在system/vendor下，恢复出厂设置后从system/vendor拷贝到data区），new好后刷机后data区中存在预置的壁纸，但是new以后再otapackage，发现刷机进去后data区中不存在预置的壁纸，就是因为上面FAQ17418的问题。

六百零四、Android 手机上的 USB MIDI 是做什么用的?怎么用? （goole 从 M 平台开始就有这一功能，这个功能是USB可以插入MIDI 键盘，手机就会成为音源，弹奏键盘，手机就能发出声音）
	Connect the USB cable to the Android device under test (Android device A).
	Use an OTG adapter to connect the other end of the cable to a second
	Android device B that operates in host mode.
	On Android device A:
	   1.	Drag finger down from top of screen.
	   2.	Select USB for Charging icon.
	   3.	Select MIDI.
	   4.	Launch MidiKeyboard app.
	   5.	Select Android USB Peripheral Port from Receiver for Keys menu at
	      top.
	On Android device B:
	   1.	Launch MidiScope app.
	   2.	Select the other Android device as the source.
	On Android device A:
	   1.	Play notes on the keyboard and look for NoteOn and NoteOff on Android
	      device B.

六百零五、关于壁纸
	[FAQ13787]如何去掉系统所有的动态壁纸？             [FAQ17430]如何让某个APK里面的图片能够作为壁纸使用
	[FAQ06210]如何让主菜单的背景显示为壁纸?		[FAQ12506]如何实现壁纸不随着workspace的滑动而滑动
	[FAQ10982]如何内置多张静态壁纸（图片）到系统中	[FAQ10958]系统WallPaper图片可以设置成屏幕大小的图吗？

六百零六、mtklog中除了mobile log，其他log会使得系统无法长时间休眠

六百零七、DuraSpeed（快霸）功能   ----> [FAQ19932]快霸(DuraSpeed)功能介绍
        DuraSpeed 是 MTK 开发的进程管理软件, 目的是“缓解手机长时间使用后的性能下降”.
	DuraSpeed 在 APP 启动时开始执行, 在后台限制“被保护之外”的进程. 从而为前台进程提供更多的系统资源.
	DuraSpeed 有一套进程保护规则, 并提供 APP List 允许使用者编辑应用保护列表.
	快霸透过抑制后台应用的活动来加速前台应用的速度，但可能导致部分通知无法正常接收

	ps：这是一个apk，无源码，路径在alps/vendor/mediatek/proprietary/packages/apps/RunningBooster

六百零八、/home/jiangcunbin/Desktop/sagereal资料/自己总结/智能机平台手机连接PC端显示错误名称-陈毅.docx


六百零九、widevive和secureboot
	数字版权管理 Digital Rights Management----简称DRM，这个google的默认都有，而且打开了，但是怎么保护这个DRM，这时候就需要使用widevine技术了。
	DRM 是一系列访问控制技术的集合，它不仅用来控制对作品或设备的拷贝。而且也控制使用、查看、打印及修改等内容。最简单的话说对那些音乐，视频，电子书，游戏等很容易被复制的内容进行控制，防止盗版。MTK平台，实现DRM保护使用的就是widevine技术。
	因此widevine与secure boot的关系是：其实两者是两个不同的东西。widevine只是一家提供了相应DRM解决方案的公司，我们提到widevine，是指该公司提供的解决方案，它实现了Android平台的版权保护，它针对数字媒体提供了与格式无关的加密解密方式来保护版权。而secure boot是mtk的在刷机，启动，升级等过程中的安全机制，只是两者绑定了。我们要想启用widevine，必须enable serure boot。

	ps：widevine的机制本身就存在，但是必须打开serure boot才能启用。

	当终端产品enable了该功能，相关的安全机制如下。
	1）：Secure Download Check:编译时期，image会被客户的key签名。而Flashtool在下载时，会检查签名。
	2）：Secure Boot Check：终端在启动时，image也会被检查key签名。如果检查失败， 那终端启动会失败。
	3）：Secure Version Check：image会配置security version number和custom name，下载的时候，会被检查。（可以高，不能低）。


六百十、测试时间相关
	基本功能测试：适用于样机软件或其它在本地更新的软件，仅在上个编译的版本软件上修改点少且不涉及到大模块（通话，信息，网络相关为大模块）的软件，只对手机的主要功能进行的简单测试
	工作周期：4小时/人
	大功能测试（Q0）：适用于本地编译的量产升级软件，用例中主要包括用户常规的一些操作
	工作周期：功能机：1天/2人；智能机：1.5天/2人

	开发测试：
	Q1：包含手机所有模块的基本功能测试，即各模块的浅层测试
	工作周期：功能机：1.5天/2人；智能机：2天/2人
	Q2：包含各模块功能测试以及模块间交互测试，不包括强度测试，包含用例中的等级1和等级2
	工作周期：功能机：3天/2人；智能机：4天/2人
	Q3：包含各模块的功能测试和模块间交互测试，强度测试及客户所有定制化需求验证，一般稳定平台项目量产前会进行一轮Q3测试
	工作周期：功能机：4天/2人；智能机：5天/2人

六百十一、命令行获取及修改settingsprovider数据库
	adb shell settings put  global device_provisioned 0
	adb shell settings get  global device_provisioned

六百一十一、sym客户存在的问题
    现发现sym客户有如下情况存在:
    1、反馈时无法一次性反馈完，时不时在客户自己的redmine上面更新出bug。
    2、现在一般sym的项目我们总共开发3版，但是最近的项目（4011_sym 3504_sym）都有发现，客户在我们把V02软件发给客户后，客户还会提出一些大功能的开发，因为本身最后一版是确认所有问题，除非有重大bug出现，尽量不要反馈需求，这对最后项目量产造成较大的delay风险。
    3、TP等UE问题需要提前开始测试以及优化

六百一十二、[FAQ12016]锁屏界面紧急呼叫时页面会先跳转到锁屏界面然后才转会到打电话界面
	这是 google 设计, google 对比机 nexus 也是一样的.
	详细解释如下:
	1: 显示拨号界面
	2: 拨号完成, 隐藏拨号界面并通知 AMS show 打电话界面
	3: AMS 需要时间准备打电话界面并通知 WMS show 打电话界面, 在 AMS&WMS 准备好画面之前, 打电话界面是黑的, 所以选择仍然显示 keyguard
	4: 当 AMS 及 WMS 准备好打电话界面了,并画出打电话界面了, 才会跳转到准备好的打电话界面

六百一十三、经过开机向导到开机界面，看到桌面提示语不要点击ok，立即拔掉电池再开机，手机卡在just a second 界面，skip按钮置灰。
	http://192.168.3.76:8007/gitweb/?p=ALPS-MP-M0.MP23-V1.32.3_SR6570_CTLC_M.git;a=commit;h=997aa2bcae152b506a6f0bc00edaff9006f48040
	问题描述：手机过完开机向导，看到桌面壁纸立即拔掉电池，再次开机，手机会卡在just a second 界面，即CheckFrpActivity；
        问题分析：通过反编译开机向导apk查看源码分析，发现在开机向导完成之后，代码中回执行ComponentHelper.disableHome(context)等，最终执行pm.setComponentEnabledSetting(new ComponentName("com.google.android.setupwizard","com.google.android.setupwizard.SetupWizardActivity"),2,1);当disableHome方法没来得及执行完毕，非法关机，但这时数据库中DEVICE_PROVISIONED 和 USER_SETUP_COMPLETE 值已经变为1，表示开机向导已经完成。再次开机会重新启动SetupWizardActivity；在onSetupComplete()中最终会跳转到SetupWizardExitActivity，在SetupWizardExitActivity.java文件中会继续判断过开机向导时是否跳过了checkFrp，第二次开机显然是没有跳过checkFrp，则通过intent去启动了CheckFrpActivity，导致界面卡在just a second 界面。
 
        解决措施：在开机时读取DEVICE_PROVISIONED 和 USER_SETUP_COMPLETE值等于1，并且homeComponent的状态是disable时，将开机向导结束的正常流程再走一遍，disable掉相关的service，activity和receiver。

六百一十四、[需求SYM_044][3GTV] [Mobile TV] Teletalk 3G mobile TV is not working by default video player but it is working well by MX player add MX player. Notes: mtk and Spreadtrum use platform solution and qualcomm use mx player。
	方案：alps/device/mediatek/common/custom.conf文件中修改对比机OK的useragent
	     vendor/mediatek/proprietary/packages/apps/Browser/src/com/android/browser/Controller.java文件onDownloadStart方法中加入 
		if (mimetype.equalsIgnoreCase("application/application/vnd.apple.mpegurl")) {
				         mimetype = "application/vnd.apple.mpegurl";
				 } 	

六百一十五、如何直接用textview修改第三方apk显示的问题
	http://172.16.78.132:8002/gitweb/?p=repositories/ALPS-MP-N0.MP2-V1_SR6580_WE_N.git;a=commit;h=f1f02c2659baf18347f27f77e50905707d477e75
	 if(mContext.getResources().getBoolean(com.mediatek.internal.R.bool.sagereal_copple_mexicotimezone)){
        try{           
                 if(mContext.getClass() != null){
           String currentClass=mContext.getClass().toString();  //可以通过该方法获取放前的类名
                       if(currentClass.contains("com.google.android.setupwizard.time.DateTimeActivity"))
                        {
		    if(text.toString().contains("Hora estándar del centro de Norteamérica")){
		    	text = text.toString().replace("Hora estándar del centro de Norteamérica", "Ciudad de México");
		     	}
                         }
                        }
            }
         catch (Exception e)
            {
                       e.printStackTrace();
            }
       }

六百一十六、如何重启
	Intent reboot = new Intent("android.intent.action.REBOOT");
                    reboot.putExtra("android.intent.extra.KEY_CONFIRM", false);
                    reboot.setFlags(268435456);
                    RebootActivity.this.mContext.startActivity(reboot);

六百一十七、CSFB：电路回落

六百一十八、拨打紧急拨号时，如何让手机每次都可以选择用哪张卡拨打？？？
	MTK：按照Goolge 默认的逻辑；进行ECC call是默认先起一个phone handler，这个就是卡1；如果卡1失败会用卡2去做retry；所以，您的需求无法满足；敝司不会去大概google原有的逻辑；
	现在客户提供了方案：redmine ---> 102899     ［需求］（SW）If I make a call to 112 will make the call automatic by SIM1 even if I have "allways ask" for calls and the call will not remai-n in call history. See sheet152 


六百一十九、如何加默认权限
	frameworks/base/services/core/java/com/android/server/pm/DefaultPermissionGrantPolicy.java文件，如果要加某个package的权限，可以使用PackageParser.Package coppelPackage = getPackageLPr("com.esoft.movil.coppel")方法，“com.esoft.movil.coppel”为包名

六百二十、 Android L email 附件，在如下任何一条满足都不允许下载
	1.没有external storage，如SD卡
	2.后缀名为"ade", "adp", "bat", "chm", "cmd", "com", "cpl", "dll", "exe", "hta", "ins", "isp", "jse","lib", "mde", "msc", "msp", "mst", "pif", "scr", "sct", "shb", "sys", "vb", "vbe", "vbs", "vxd", "wsc", "wsf", "wsh",
	3.Server不允许下载到本地的附件。
	4.大小超过5M的附件
	5.文件content type不能被client端中任何application识别或打开的文件。 
	详细规则请查看class AttachmentInfo的构造函数。 

六百二十一、获取cpu信息
    adb shell cat /proc/cpuinfo 

六百二十二、FM中的RDS功能  ----> 目前MTK的chip都是支持RDS功能的。
	一、支持RDS功能的FM收音机就是指具有“无线数据广播系统”功能的收音机。
	二、所谓RDS是英国BBC广播公司开发的一种特殊无线电广播。即“无线数据广播系统”（Radio Data System). 它是在调频广播发射信号中利用副载波把电台名称，节目类型，节目内容及其它信息以数字形式发送出去。通过具有RDS功能的调谐器就可以识别这些数字信号，并做响应处理，RDS广播精髓在于其AF和TA功能，AF既自动频率调整，当信号低于某个水平时，AF功能会自动搜索当前电台的其他发射频率串。
	三、RDS收音系统还独有“交流信息”功能（TA功能，也称交通公告），若有紧急事件，电台就会发送特殊信号，令收音机强行播放，另外，还有时间基准发射，自动调准收音机时间等功能，RDS在汽车，手机等移动设备上使用很方便。
	四、目前国内支持RDS的电台已知的有：
	上海 FM91.4 中央人民广播电台经济之声
	北京 FM88.7 中国国际广播电台 HIT FM
	上海 FM87.9 中国国际广播电台 HIT FM
	广州 FM88.5 中国国际广播电台 HIT FM

六百二十三、如何把四个cpu同时打开，提高速度
	echo 0 > /proc/hps/enabled
	echo 1 > /sys/devices/system/cpu/cpu0/online
	echo 1 > /sys/devices/system/cpu/cpu1/online
	echo 1 > /sys/devices/system/cpu/cpu2/online
	echo 1 > /sys/devices/system/cpu/cpu3/online

六百二十四、simlock、sim PIN、加密、防盗
	simlock：出现输入密码界面时会在屏幕上出现大的sim卡图标，界面上无状态栏
	sim PIN：出现输入密码界面时会在屏幕上出现大的sim卡图标，界面上无状态栏，且如果和simlock同时存在，会先出现sim PIN密码界面，然后再出现simlock的密码界面
	加密：加密后每次重启logo后会跳出密码框，然后解密后会出现开机动画，出现密码界面无sim卡图标，有状态栏
        防盗：防盗功能开启过程后会叫你设置密码以及紧急联系人，在测试中，开机该放到功能后，紧急联系人可以发送“suoding”的短信给该手机，该手机会出现输入密码的界面，该界面无sim卡图标，无状态栏。------>  /home/jiangcunbin/Desktop/sagereal资料/自己总结/CTA_Level3_手机防盗_说明.pdf

六百二十五、黑名单功能
	黑名单功能在N上是直接存在的，但是在N以前的是不存在的

六百二十六、快速拨号 ？？？

六百二十七、[FAQ13782]设置屏幕锁后，关机闹钟无作用
	L 之后google 加入了default 模式，所以才有这个问题。加密模式下面是无法支持poweroffalarm的。这是因为在启动poweroffalarm之后需要读取data数据，但是data又是被加密的，所以无法支持。
        所以，设置屏幕锁为图案，PIN码，密码，并勾选了“要求输入图案才能启动android设备”，就不会出现关机闹钟。此为正常现象。
	ps：“要求输入图案才能启动android设备”这个选项只有加密后的手机才会出现，默认不加密的不会出现这个选项


六百二十八、[FAQ10441][Audio Profile] 情景模式如何分开设置来电铃声和通知铃声音量

六百二十九、[FAQ04081]TTY功能简介
	TTY这个功能是专为有听说障碍的残障人士使用的电传打字机(TTY) 功能，这项功能可以让听障人士使用现有的电话基础设施（包括行动电话）进行沟通。
	这个功能是Google在Android 2.3中引入的功能，MTK目前对于这一功能保持Google的设计，基本没有做修改。
	这个功能的测试需要有特殊的TTY外接设备以及当地运营商网络的支持，目前世界上北美地区的运营商网络（例如美国、墨西哥等）支持这个功能。若是手机项目市场没有在上述国家和地区，也可以考虑将这个功能关闭。开关的方式是在对用工程下面的ProjectConfig.mk文件中设置MTK_TTY_SUPPORT。

	ps：TTY与VT有冲突，不能同时打开，即MTK_TTY_SUPPORT与MTK_3G324M_SUPPORT不能同时为yes

六百三十、后续项目暗码建议都是用谷歌的默认规则，以*#*#开头#*#*结尾
	目前我们设定暗码都是比较随意的，不过这样可能会存在一些风险，如#888#目前被我们设定为了一个暗码，但这个码在马达加斯加是作为一个USSD的；谷歌默认有一套暗码的标准，即*#*#开头#*#*结尾，这应该是比较保险的一种暗码方式；这些建议在后续新项目中改进并知会到相关部门，老项目需要讨论；

六百三十一、M上如何加入锁屏界面和主界面使用不同壁纸的功能
	http://192.168.0.76:8007/gitweb/?p=ALPS-MP-M0.MP23-V1.32.3_SR6570_CTLC_M.git;a=commitdiff;h=2fddcc8a0bb19ed6826b0a4a2141ce2e16a5ef97;hp=e305124faab1612ffea994f60fd1be88effc078b
     ps：N上默认已经存在该功能

六百三十二、如何用密令录取视频
	adb shell screenrecord  /sdcard/1.3gpp

六百三十三、google应用Duo打开时壁纸会概率性变为应用界面
	贵司看到Duo的第一画面是Duo的starting window,这不是app真正的应用画面，仅仅是Android为了提升用户体验而设计的一个pre-view的画面,且只会在应用第一次启动才会出现,且它会在app画面ready好之后才会被remove掉，此问题是google default设计的行为，也与贵司的操作手法有关。
	如果贵司操作太快，即还未等app画面真正ready好就按了home key。贵司如果等app画面show出来之后再操作，应该不会复现此问题。谢谢

六百三十四、[UE][Camera]照片无限放大效果需要控制4X以内，否则体验效果很差
	packages/apps/Gallery2/mtkgallery/src/com/mediatek/galleryfeature/pq/TiledBitmapDecoder.java文件中SCALE_LIMIT=4修改为SCALE_LIMIT=2
	packages/apps/Gallery2/src/com/android/gallery3d/ui/PositionController.java文件中SCALE_LIMIT=4修改为SCALE_LIMIT=2
	ps:SCALE_LIMIT不可小于2，如果小于2的情况下，会出现从camera右下角缩略图跳转到gallery显示图片时，会有先显示半张图片，然后才显示整屏的图片

六百三十五、clientid的使用
	非运营商项目只要设置ro.com.google.clientidbase，即在3pl提供的表格中木有（包括运营商和国家都要同时满足，不然的话算非运营商）
	运营商项目项目如下设置：		base/.ms/.am/.wal，去掉了.gmm/.yt（wal是增加的）
			ro.com.google.clientidbase=android-symphonyedison  \
			ro.com.google.clientidbase.ms=android-symphonyedison \
			ro.com.google.clientidbase.am=android-symphonyedison \
			ro.com.google.clientidbase.wal=android-symphonyedison

六百三十六、running permission
	当manifest.xml文件中的sdkersion为23时，该文件中的部分的非running permission（文件中部分user-permission是非running permission）失效，部分依然有效
	ex：android.permission.READ_PHONE_STATE为running permission，但是android.permission.READ_PRIVILEGED_PHONE_STATE为非running permission，如何判别可以去找DefaultPermissionGrantPolicy.java文件

	ps：android.permission.READ_PRIVILEGED_PHONE_STATE和android.permission.READ_PHONE_STATE有同样的效果，email中直接在exchange的manifest.xml文件中使用android.permission.READ_PRIVILEGED_PHONE_STATE即可


六百三十七、[bug]（近期任务）近期任务键一键清除后，需点击两次才可以调出近期任务 （N上存在）
	frameworks/base/packages/SystemUI/src/com/android/systemui/recents/views/TaskStackView.java文件中移除如下代码即可：
	 if (mStack.getTaskCount() == 0) {
             EventBus.getDefault().send(new AllTaskViewsDismissedEvent(fromDockGesture
                     ? R.string.recents_empty_message
                     : R.string.recents_empty_message_dismissed_all));
         }

六百三十八、省晶体软件 （GPS）  ----> gps需要校准
	1、Coclock是会节省一颗TCXO物料。
	2、通过check log中CO、C1的值是否为0，为0表示校准失败 ，否则校准成功。
		mnl_linux: linux_gps_init: init_cfg.C0 = 0
		mnl_linux: linux_gps_init: init_cfg.C1 = 0
	3、关于GPS校准，针对的是采用coclock 方案的项目:
		1.涉及到的宏及路径：
		MTK_GPS_CO_CLOCK_DATA_IN_MD
		 
		M版本在project.mak中
		 
		N版本在
		/vendor/mediatek/proprietary/hardware/connectivity/gps/mtk_mnld/Android.mak
		 
		2.开关宏的标准：
		看平台是否support LTE，若平台support LTE，則C0/C1是從MD NVRAM讀取，则
		要打开这个宏控；若平台not support LTE，則C0/C1是從AP NVRAM讀取(如6580)，则
		要关闭这个宏控。
	4、备份GPS参数具体有哪些？
	  [GPS COClock Coefficients]
		C0=0
		C1=-0.224999994039536
		initU=0
		lastU=0
	  如果C0/C1是從MD NVRAM讀取，则可以直接用用meta工具（modem版本）去备份出这些参数。如果C0/C1是從AP NVRAM讀取(如6580)，则需要用张迪最新开发的apk


六百三十九、system里面的文件不能通过代码去操作，除非用adb shell去操作。

六百四十、RTC 有其自己的供电系统,所以在手机处于关机状态时,RTC仍然可以正常工作，关机闹钟的时候就是通过RTC的自己的供电系统去检测

六百四十一、calendar日历中有个pop-up notification
	M/N：该功能实现就是出悬挂式的notification，悬挂式Notification是android5.0新增加的方式，和前两种显示方式不同的是，前两种需要下拉通知栏才能看到通知，而 悬挂式Notification不需要下拉通知栏就直接显示出来悬挂在屏幕上方并且焦点不变仍在用户操作的界面因此不会打断用户的操作，过几秒就会自动消失。
和前两种Notification不同的是，他需要调用setFullScreenIntent来将Notification变为悬挂式Notification
		notificationBuilder.setFullScreenIntent(pendingIntent1, false);// 横幅，悬挂式

六百四十二、4007_allview/4007_telekom项目下拉状态栏手电筒打不开 	ps：注意是后摄的闪光灯打不开
	搜下“metadata”的log，看看是否这块出现问题
	alps/vendor/mediatek/proprietary/custom/mt6580/hal/imgsensor_metadata，用文件中的哪个看你具体的camera是哪一颗，对应的config_static_metadata.project.flashlight.gc2355mipiraw.h文件中的MTK_FLASH_INFO_AVAILABLE_FALSE修改为MTK_FLASH_INFO_AVAILABLE_TRUE
	分析：该项目出现该问题是因为出现问题的测试机用的是2355的camera，普通的都是用的2365的camera，而上面的文件中有单独的2355文件夹，没有2365的文件夹，所以2355的用自己文件夹下面的文件，2365用的是common文件夹下面的文件，而common中已经把MTK_FLASH_INFO_AVAILABLE_FALSE修改为MTK_FLASH_INFO_AVAILABLE_TRUE，2355中未修改，所以出现了该问题

六百四十三、80M 5012_sym项目出现通话过程中不停通过psensor亮屏灭屏出现白屏现象
	主要原因：该项目打开了AAL功能
	AAL：Ambient-Light Adaptive Luma,作用包含两个方面：降低功耗/增强亮光环境下的可视性。
	    目前架构中包含CABC跟DRE，(1). CABC:会根据内容调整背光强度，因此跟功耗有关  (2). DRE:根据light sensor的环境光数据做内容增强，不会影响背光，因此跟功耗无关

六百四十四、如果一个apk是在system区的，另一个apk是在data区的，当两个apk的包名都相同且版本号不一样的时候，在data区的apk也算是在system区且会直接覆盖system区里面的apk
	ps：详细见PAI原理
		
	jar包不能调用系统的方法


六百四十五、 android.os.FileUriExposedException: file:///storage/emulated/0/Android/data/com.chinahrt.qx/files/rongxue/chinahrt.apk exposed beyond app through Intent.getData() ----> 说明fileprovider(应用间共享文件)出现问题了，这是N上才会出现的问题，具体请看http://www.jianshu.com/p/3f9e3fc38eae


六百四十六、安全patch的日期  ---->  build/core/version_defaults.mk

六百四十七、为什么学习 JavaScript?
	JavaScript web 开发人员必须学习的 3 门语言中的一门：
    		HTML 定义了网页的内容
    		CSS 描述了网页的布局
    		JavaScript 网页的行为

六百四十八、如何在项目中加ro值
    device/mediatek/common/device.mk文件中加入如下即可  （当然是否用宏空根据自己的情况而定）
	ifeq ($(strip $(SAGEREAL_DIGICEL_ECC_CUSTOM)), yes)
    		PRODUCT_PROPERTY_OVERRIDES += ro.sagereal_digicel_ecc_custom=1
	else
    		PRODUCT_PROPERTY_OVERRIDES += ro.sagereal_digicel_ecc_custom=0
	endif

六百四十九、simlock输入密码次数超过最大值后，恢复出厂设置也不会出现输入密码界面
	原因：因为密码次数等simlock的数据都是存在protect_f, protect_s这两个分区里面的，这两个分区在恢复出厂设置或者是升级下载都是不会丢失的，除非格式化下载，所以当输入密码测试达到最大值后，只有格式化下载才能使输入密码界面出现（恢复出厂设置或者是升级下载的都是不可以的）

	ps：上面的前提是手动刷入过IMEI码，如果没有刷入过，当输入密码测试达到最大值后，恢复出厂设置后又会出现输入密码界面，即没有bin区就直接会使用默认值
		原因如下：
	如果 Bin region 不存在，就判断为第一次开机，如果判断是第一次开机，所有的 nvram 项使用 default value 创建；
		=》第一次恢复出厂设置，密码次数变成5，就是这种情况，因为default value 是5，这个时候没有 bin region，当做第一次开机了，就是用 default value 创建锁卡数据；
	如果判断不是第一次开机，nvram 中不存在的项使用 default value 创建，nvram 中存在的项（锁卡数据的 protect_f, protect_s 存在）不变；
		=》第二次恢复出厂设置，密码次数变成0，就是这种情况，因为已经存在 Bin region, 请 protect_f, protect_s 存在，锁卡数据就不变；


六百五十、settings的入口：adb shell am start -n "com.android.settings/.Settings"

六百五十一、关于tee
	如何查看tee.bin的版本？
 		---> 在终端中执行如下密令：strings tee.bin | grep "gp" （其中tee.bin就是客户提供的tee.bin文件）,出来的结果就是tee的版本
	如何查看preloader是否升级上去?
		---> 可以抓取升级前后的串口log，在log中搜索[TZ_INIT] TEE start entry即可，看看起始地址是否相同

六百五十二、如何客制化开关机动画  ---> 王浩
		http://192.168.3.77:8989/wcp/webdoc/view/Pub402880cd5dc4c831015dcc441dd6011b.html
		1、添加新的分区。参考FAQ19053以及Partition Layout Introduction and Customization_L AOSP.pdf文档

六百五十三、FOTA升级后，查看通话记录，升级前的通话记录被清空
	comment:1）由于fota升级之前的时间是系统初始化时间，在此时间基础上建立通话记录，fota升级之后通过网络更新时间，导致通话记录消失，属于正常情况；
		2） 如果在fota之前时间为当前时间，在此时间上建立通话，fota升级之后通话记录不会消失，这是正常情况，请知悉，谢谢！


六百五十四、[FAQ11437]如何将默认滑动解锁改为pin/password 解锁

六百五十五、当长时间播放视频或者播放音乐出现无声音现象
	可以搜下no more track availble这块log，然后是否有如下类似的log
	Dear customer,
	06-07 12:55:30.413251 299 6231 E AudioFlinger_Threads: no more track availble
	06-07 12:55:30.413311 299 6231 E AudioFlinger_Threads: track name: 4104, ID 10097
	06-07 12:55:30.413362 299 6231 E AudioFlinger_Threads: track name: 4101, ID 10097
	06-07 12:55:30.413411 299 6231 E AudioFlinger_Threads: track name: 4117, ID 10097
	06-07 12:55:30.413459 299 6231 E AudioFlinger_Threads: track name: 4120, ID 10097
	06-07 12:55:30.413507 299 6231 E AudioFlinger_Threads: track name: 4123, ID 10097
	06-07 12:55:30.413558 299 6231 E AudioFlinger_Threads: track name: 4106, ID 10097
	06-07 12:55:30.413610 299 6231 E AudioFlinger_Threads: track name: 4108, ID 10097
	06-07 12:55:30.413658 299 6231 E AudioFlinger_Threads: track name: 4111, ID 10097
	06-07 12:55:30.413710 299 6231 E AudioFlinger_Threads: track name: 4114, ID 10097
	06-07 12:55:30.413764 299 6231 E AudioFlinger_Threads: track name: 4126, ID 10097
	06-07 12:55:30.413812 299 6231 E AudioFlinger_Threads: track name: 4113, ID 10097
	06-07 12:55:30.413895 299 6231 E AudioFlinger_Threads: track name: 4110, ID 10097
	06-07 12:55:30.413950 299 6231 E AudioFlinger_Threads: track name: 4103, ID 10097
	06-07 12:55:30.414009 299 6231 E AudioFlinger_Threads: track name: 4119, ID 10097
	06-07 12:55:30.414062 299 6231 E AudioFlinger_Threads: track name: 4107, ID 10097
	06-07 12:55:30.414113 299 6231 E AudioFlinger_Threads: track name: 4100, ID 10097
	06-07 12:55:30.414165 299 6231 E AudioFlinger_Threads: track name: 4098, ID 10097
	06-07 12:55:30.414214 299 6231 E AudioFlinger_Threads: track name: 4099, ID 10097
	06-07 12:55:30.414282 299 6231 E AudioFlinger_Threads: track name: 4102, ID 10097
	06-07 12:55:30.414363 299 6231 E AudioFlinger_Threads: track name: 4105, ID 10097
	06-07 12:55:30.414412 299 6231 E AudioFlinger_Threads: track name: 4109, ID 10097
	06-07 12:55:30.414465 299 6231 E AudioFlinger_Threads: track name: 4112, ID 10097
	06-07 12:55:30.414518 299 6231 E AudioFlinger_Threads: track name: 4115, ID 10097
	06-07 12:55:30.414572 299 6231 E AudioFlinger_Threads: track name: 4118, ID 10097

	根据google设计，track最多只能有32个。
	出现audiotrack报错，是因为track被占满了，如上LOG。
	在events log可以看到10097是水果忍者进程：
	06-07 12:48:56.314997 940 3309 I am_proc_start: [0,4207,10097,com.halfbrick.fruitninjahd,activity,com.halfbrick.fruitninjahd/com.halfbrick.fruitninja.FruitNinjaActivity]
	通话没有问题是因为通话不需要audio track，数据不经AP，直接走MODEM。
	综上，这个应该是属于水果忍者第三方APK的问题，使用了以后没有释放track导致的。
	请知，谢谢！

六百五十六、Android O以后版本内置第三方APK可卸载可恢复的方法变更
	由于Android O以后使用了vendor分区在编译时会生成 vendor.img，使用之前内置第三方APK可卸载可恢复的方法时在编译时会报错无法生成 vendor.img。
O版以后内置可卸载可恢复的第三方APK时可将该语句LOCAL_MODULE_PATH := $(TARGET_OUT)/vendor/operator/app 修改为：LOCAL_MODULE_PATH := $(TARGET_OUT_VENDOR)/operator/app


六百五十七、openconnect翻墙工具的使用
	/home/jiangcunbin/apk/翻墙工具/app.openconnect.apk，安装后，可使用adb shell am start -n "app.openconnect/.MainActivity"登录或者直接点击登录，输入以下信息即可 --->   IP：207.148.102.17:443  账户：zjj15  密码：Abc123456


六百五十八、如何修改第三方apk的组件（前提是能拿到该组件的id）
	/media/JCB/project2/80N/VP40_H4007V_Allview/ALPS-MP-N0.MP2-V1_SR6580_WE_N/alps/frameworks/base/core/java/android/app/Activity.java文件中
	加入以下方法：
    private boolean isAdupsFotaPackage(){    //判断是不是这个包名
        return "com.adups.fota".equalsIgnoreCase(getComponentName().getPackageName());
    }

    private View findViewByName(String name){    //直接通过反编译出来的组件的id来获取对应的View
       return findViewById(getResources().getIdentifier(name, "id", getPackageName()));
    }

    private View findViewByName(View parent, String name){   //直接通过反编译出来的组件的id来获取对应的View
       return parent.findViewById(getResources().getIdentifier(name, "id", getPackageName()));
    }

    private boolean isInActivity(String className){
       if(getComponentName() != null){
             String mClassName = getComponentName().getClassName();
             if(className != null && className.equalsIgnoreCase(mClassName)){
                 return true;
             }
         }
         return false;
     }

    然后在onresume等方法中直接去
	if(isAdupsFotaPackage("com.adups.fota")   ){
		Button mButton = (Button)findViewByName(skip_button);
		if(mButton != null){
			mButton.setText("aaa");
		}
		

	}


六百五十九、如果修改edittext的底边颜色
	在style加入如下的话
 <item name="colorControlNormal">@color/indigo</item>   ---> 未在焦点时的颜色
 <item name="colorControlActivated">@color/pink</item>   ---> 在焦点时的颜色

六百六十、redmine116211 [T1产线反馈]文件管理SD卡不能播放MP3
   	1.用文件管理SD卡播放MP3
	2.选择google music，要事先在主菜音应用里打开一次google music，设置使用了后才可以在文件管理器里打开

	期望：选择google music，如果不是第一次打开google music就引导设置权限，可以直接打开

	解决方案：在文件管理器中直接加一个fileprovider，步骤按照wcp中[FileProvider]Android 7.0 权限变更之FileProvider的使用，然后在vendor/mediatek/proprietary/packages/apps/FileManager/src/com/mediatek/filemanager/FileManagerOperationActivity.java文件中去使用                  
		  intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION | Intent.FLAG_GRANT_WRITE_URI_PERMISSION);
                Uri uri = FileProvider.getUriForFile(this.getApplicationContext(), "com.mediatek.filemanager.MyProvider", selecteItemFileInfo.getFile());
这样的uri，就可以直接跳过权限播放


六百六十一、bitmap和drawable之间的切换
  1.Drawable—>Bitmap
	Resources res=getResources();
	Bitmap bmp=BitmapFactory.decodeResource(res, R.drawable.sample_0);

  2.Bitmap---->Drawable
	Drawable drawable =new BitmapDrawable(bmp);

  3、Drawable → Bitmap
    public static Bitmap drawableToBitmap(Drawable drawable) {
        Bitmap bitmap = Bitmap.createBitmap(drawable.getIntrinsicWidth(),drawable.getIntrinsicHeight(),drawable.getOpacity() != PixelFormat.OPAQUE ? Bitmap.Config.ARGB_8888: Bitmap.Config.RGB_565);
        Canvas canvas = new Canvas(bitmap);
        //canvas.setBitmap(bitmap);
        drawable.setBounds(0, 0, drawable.getIntrinsicWidth(), drawable.getIntrinsicHeight());
        drawable.draw(canvas);
        return bitmap;
    }

  4、Bitmap → byte[]
    ByteArrayOutputStream baos = new ByteArrayOutputStream();
    bm.compress(Bitmap.CompressFormat.PNG, 100, baos);
    return baos.toByteArray();   

  5、byte[] → Bitmap
   	private Bitmap Bytes2Bimap(byte[] b){
                    if(b.length!=0){
                            return BitmapFactory.decodeByteArray(b, 0, b.length);
                    }else {
                            return null;
                    }
          }


六百六十二、如何编译userdebug版本
	/home/jiangcunbin/project/80M/WM05_GMO/ALPS-MP-M0.MP1-V2.34_SR6580_WE_M/sagereal/script/makesagerealAction.sh文件中把
	if [ $1 == "yes" ]; then
  		lunch full_${sagereal_target_project}-user
	else
  		lunch full_${sagereal_target_project}-eng
	fi
	把对应的修改为lunch full_${sagereal_target_project}-userdebug即可

六百六十三、关于抓取mtklog
	1、eng版本在抓取log的时候，可以把mtklog中的taglog关闭，taglog的作用：当系统有exception(如NE，ANR)发生时会弹出这个Tag Log的框，作用是把当前exception的log保存到SD card的，做记录Log之用，当ANR等情况下会把log压缩至mtklog/taglog/文件下；如果关闭该功能的话，按照正常的log抓取，具体可参考[FAQ03748] TagLog功能简述
	2、userdebug版本有时候会出现无法抓取到aee_exp文件的情况，这是因为Android M/N, 因受security 限制, aee 如果mode 开到3, 权限太大, 会导致安全问题， 后续user/userdebug build 默认设置成了mode 4 , 并且mobile log 无法  直接切成mode 3. 导致开了mtklogger 后也只能抓到fatal db （见下表），而不能抓到普通exception db;具体修改
 	如果需要在user load 中打开mobilelogd 后，能够切换到aee mode3 抓到普通exception db ，可以参考以下修改：关闭强制性约束.
		/vendor/mediatek/proprietary/external/aee/config_external/init.aee.customer.rc 文件中添加
			on init
			setprop ro.aee.enforcing no  
	（在出货版本中，切记把此行 注释掉）
		具体可以参考[FAQ20159] Android M/N user load，在打了aee security enhance patch 后，如何抓到普通aee db？
 

六百六十四、密令的使用
	adb shell ls -aal dev/pm ---> 会把dev/pm文件的权限路径等显示出来
	adb shell find system -name "*app*" ----> 会把system下名字中有app的都显示出来，需要会使用*
	adb logcat | egrep -i "nfc|nxp|AEE_AEDV|ERR"   ---> 抓取log时可以查找多个关键字
 

六百六十五、如何新加系统级的manager或者service
	/home/jiangcunbin/Desktop/sagereal资料/自己总结/皮套新方法(frameworks加aidl)

六百六十六、[FAQ10872] 如何check手机的browser UA信息
	[DESCRIPTION]
	 客户整理UA的时候，需要check样机的browser UA的信息。
	[SOLUTION]
	通常，可用该样机访问 www.show-ip.net/browserinfo上边会显示对应的user-agent信息。

六百六十七、FAQ18188 [Recovery][Common]Android M 版本如何升级logo等rawdata分区方法？  ---> 比如说modem端的MD1IMG等分区的升级
	同时要参考FAQ17441 [Recovery] [Common] Android M 版本如何升级lk 、preloader

六百六十八、如何让apk只能当签了某个特定的key后才能安装？
	http://192.168.3.76:8007/gitweb/?p=MT6572_JB3_LCA_MP3.git;a=commitdiff;h=8c9ab90ee555e59a1f518dfb938c7851bc073cd3;hp=2a633d6df3a3f83d41826376e31fdd9db1321f36
	原理：在PackageInstallerActivity.java文件中去获取安装的apk的签名信息（2进制），然后和某个特定的key去对比是否相同，如果相同的话，就直接正常安装（安装apk的方法一直存在），如果不同的话，就是跳出一个对话框而已，不去走安装的方法，原理上platform还是正常的平台签名，key只是某个客户提供的普通key而已，不能认为把platform改成了某个key了，只是当你只签平台签名的时候，不可安装而已，但是当你只安装特定key的时候，该apk不会有平台签名的权限！

六百六十九、Gerrit的使用
	git push origin HEAD:refs/for/master


六百七十二、[FAQ17991] 【Phone SS】如何禁掉+COLP功能 --》  拨号界面和电话接通界面显示的号码不一致
	如上是mtk提供的方法，如下是传音提供的方法：
	go：alps/vendor/mediatek/proprietary/hardware/ril/gsm/mtk-ril/ril_callbacks.c文件中把
   at_send_command("AT+COLP=1", NULL, getDefaultChannelCtx(rid));改成at_send_command("AT+COLP=0", NULL, getDefaultChannelCtx(rid));

六百七十三、插入某些卡， 拨号界面和电话接通界面显示的号码不一致（比如拨打的时候前面有0，通话记录上没有0）
	[FAQ17991] 【Phone SS】如何禁掉+COLP功能 + [FAQ04051] 拨号过程中显示“Unknown Caller”
	关于FAQ04051，go上的项目在MtkGsmCdmaConnection.java文件的update (DriverCall dc)方法中equalsHandlesNulls(mAddress, dc.number)前面加上（mAddress == null || mAddress.isEmpty() && equalsHandlesNulls(mAddress, dc.number)就行了

六百七十五、有时候selinux权限可以加上去，但是没起效果，加上权限后还是报同样的权限问题，这时候要去加如下话
	/device/mediatek/sepolicy/bsp/non_plat/device.te 文件中加上typeattribute ttyMT_device mlstrustedobject;
	当时无法起效果的权限为allow untrusted_app_25 ttyMT_device:chr_file write;
	mlstrustedobject:这一attribute包含了所有能越过MLS检查的客体type。

六百七十六、依次执行如下两个指令打开mobilelog及taglog
	adb shell am broadcast -a com.mediatek.mtklogger.ADB_CMD -e cmd_name switch_taglog --ei cmd_target 1
	adb shell am broadcast -a com.mediatek.mtklogger.ADB_CMD -e cmd_name start --ei cmd_target 1

六百七十七、[FAQ11194] 添加彩信附件时，拍摄视频不会保存，而拍摄照片、录音都能够保存问题



六百八十、VOLTE 基于LTE的语音通话(VO = voice)   VILTE 基于LTE的视频通话（VI = video）  VOWIFI 基于wifi的语音通话(VO = voice)  ，这三个都是基于运营商的功能
	 VOIP 是互联网通话，跟运营商应该没啥关系，需要第三方的apk去实现
	 SDN 预制默认联系人   FDN 固定联系人


六百八十一、Entel项目VOLTE VOWIFI在39go上申请patch路径

	01.MP1 Peru

	volte     ALPS03672047, MOLY00273272, MOLY00254705
	VoWIFI     ALPS03672047, MOLY00273272, MOLY00254705


	O1.MP1 Chile

	Volte
	VoWIFI ALPS03650263, MOLY00294431
	补充业务走Volte: ALPS03650263, MOLY00294431


六百八十二、subid和slotid区别
	slotid或者phoneid是指卡槽，双卡机器卡槽一值为0，卡槽2为1，依次类推，不过国内也就双卡和单卡机器了，三卡机器只听说在遥远的印度有。

	subid用过数据库的同学比较好理解，subid就是主键递增项，值从1开始，机器每插入一个新卡（iccid是没有见的，值就会加1，iccid每个sim卡是唯一的）。插入双卡后数据库中就会有subid值为1和2的两个数据条目，拔卡插卡交换卡槽数据库并不会增加新项，只有插入一张新的sim卡才会增加一条id为3的数据条目

	subid是跟卡走的，slotid是跟卡槽走的。一般来说slotid比较好理解，subid不好理解。

	Android5.0之后google终于加入了多sim卡的代码，5.0之前的多卡（一般也就是双卡）机制是各写各的，mtk和高通的代码各有千秋，但是基本上用slotid较多，subid只有mtk在用也很少。Google一统千秋后subid反而用的比slotid多了，

	三方app获取slot和subId
	这个小节是针对文章下面的评论加的。

	frameworks/base/telephony/java/android/telephony/SubscriptionManager.java

	public int getDefaultDataPhoneId() 　默认数据slotId
	public static int getDefaultDataSubscriptionId()　默认数据subId


	public int getDefaultSmsPhoneId() 　默认短信slotId 

	public static int getDefaultSmsSubscriptionId() 默认短信subId


	public static int getDefaultVoicePhoneId() 　默认通话slotId
	public static int getDefaultVoiceSubscriptionId() 默认通话subId

	public static int getDefaultSubscriptionId()　获取默认subId，上述三个都返回-1的话使用这个


	双卡设置中短信和通话的设置只是设置SettingsProvider中的一个字段，而设置数据业务卡槽除了设置数据库字段外还会导致modem的重启、网络类型切换（数据业务卡能上4G，而另一张卡只能用2G）等一系列操作。所以手机开发厂商一般说主卡就是数据业务卡。

六百八十三、如何用终端命令去查看手机的ram
     adb shell dumpsys meminfo

六百八十四、如果出现工厂的问题需要评估能否放行的时候怎么办？
      我们只评估软件是否能解决，什么时候解决，是否放行不管

六百八十五、80GO项目 8+1 --> 1、在不合入MTK提供的方法前提下，能正常播放720P的视频，但是播放1080P的视频会开卡顿
                            2、在合入MTK提供的方法后，能正常播放1080P的视频
                   8+512  --> 1、在不合入MTK提供的方法前提下，能正常播放720P的视频，但是播放1080P的视频会开卡顿
                            2、在合入MTK提供的方法后，也不能播放1080P的视频


六百八十六、如何用终端命令去给手机输入字符串
	普通字符 eg:输入 "666@qq.com" 命令:adb shell input text "666@qq.com"
	特殊字符 eg:输入 "#" 命令: adb shell input text "\#"  无法输入某些字符时，给该字符前加入反斜线即可"\"

六百八十七、手机重启数次进入recovery模式

	Dear Customer，
		您好！从贵司的log中有看到大量JE如下：
		01-04 03:15:30.424174  1994  2030 E AndroidRuntime: FATAL EXCEPTION: pool-3-thread-1
		01-04 03:15:30.424174  1994  2030 E AndroidRuntime: Process: ru.appspress.android.eguarantee.bq, PID: 1994
		01-04 03:15:30.424174  1994  2030 E AndroidRuntime: java.lang.IllegalStateException: Apps may not schedule more than 100 distinct jobs
		01-04 03:15:30.424174  1994  2030 E AndroidRuntime:     at android.os.Parcel.readException(Parcel.java:2013)
		01-04 03:15:30.424174  1994  2030 E AndroidRuntime:     at android.os.Parcel.readException(Parcel.java:1951)
		01-04 03:15:30.424174  1994  2030 E AndroidRuntime:     at android.app.job.IJobScheduler$Stub$Proxy.schedule(IJobScheduler.java:180)
		01-04 03:15:30.424174  1994  2030 E AndroidRuntime:     at android.app.JobSchedulerImpl.schedule(JobSchedulerImpl.java:44)
		01-04 03:15:30.424174  1994  2030 E AndroidRuntime:     at androidx.work.impl.background.systemjob.SystemJobScheduler.scheduleInternal(SystemJobScheduler.java:85)
		01-04 03:15:30.424174  1994  2030 E AndroidRuntime:     at androidx.work.impl.background.systemjob.SystemJobScheduler.schedule(SystemJobScheduler.java:64)
		01-04 03:15:30.424174  1994  2030 E AndroidRuntime:     at androidx.work.impl.Schedulers.scheduleInternal(Schedulers.java:98)
		01-04 03:15:30.424174  1994  2030 E AndroidRuntime:     at androidx.work.impl.Schedulers.schedule(Schedulers.java:69)
		01-04 03:15:30.424174  1994  2030 E AndroidRuntime:     at androidx.work.impl.WorkManagerImpl.rescheduleEligibleWork(WorkManagerImpl.java:398)
		01-04 03:15:30.424174  1994  2030 E AndroidRuntime:     at androidx.work.impl.utils.ForceStopRunnable.run(ForceStopRunnable.java:66)
		01-04 03:15:30.424174  1994  2030 E AndroidRuntime:     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1162)
		01-04 03:15:30.424174  1994  2030 E AndroidRuntime:     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:636)
		01-04 03:15:30.424174  1994  2030 E AndroidRuntime:     at java.lang.Thread.run(Thread.java:764)

		java.lang.IllegalStateException: Apps may not schedule more than 100 distinct jobs
		看起来是某些app使用job过多，属于APK issue。
		贵司可以pull出data/system/job/jobs.xml ，查看到底是哪个APP使用job过多。

		目前 job service 这边没有保护机制，之前的类似issue只是将jobs.xml 删除掉之后，暂时解决问题。 

		如果某些app 恶意使用大量 job，目前看起来没好的方式避免。 
		以上还请了解~

	BRs,
	Mediatek Support



	Dear MTK：
		pull出data/system/job/jobs.xml ，查看是客户提供的一个apk使用job过多。
		感谢帮忙分析，此问题原因已了解，请关闭这个eservice
	Thanks！



六百八十七、如何在代码端去看兼容哪几个LCD
	sr6572_wet_l_debug_defconfig文件中搜索LCM即可

六百八十八、如何用adb进入recovery模式或者bootloader模式
   重启到Recovery界面   --->  adb reboot recovery
   重启到bootloader界面  --->  adb reboot bootloader


六百八十九、导参数
  用SP meta导参数可以把射频参数、IMEI、BARCODE、WIFI地址等导出来;关于GPS参数用SP Meta可以导出，其他的工具不行

六百九十、如何打开zsd
  go:vendor/mediatek/proprietary/custom/mt6580/hal/sendepfeature/gc2385_mipi_raw/config.ftbl.gc2385_mipi_raw.h 	
 #if 1
     //  Zsd
     FTABLE_CONFIG_AS_TYPE_OF_DEFAULT_VALUES(
         KEY_AS_(MtkCameraParameters::KEY_ZSD_MODE),
         SCENE_AS_DEFAULT_SCENE(
             ITEM_AS_DEFAULT_(MtkCameraParameters::ON),    ----> 这一条是是否打开ZSD
             ITEM_AS_VALUES_(
                 MtkCameraParameters::OFF,
                 MtkCameraParameters::ON
             )
         ),
     )

  MtkCameraParameters::OFF,
  MtkCameraParameters::ON同时存在的时候，camera的界面中会出现这个选项，如果只有一个的话，camera的界面中不会出现这个问题

六百九十一、M上如何去看apk是否提取出odex
ifeq ($(TARGET_BUILD_VARIANT),user)
  WITH_DEXPREOPT := true    ---》对应有源码的
  DONT_DEXPREOPT_PREBUILTS := true   ---》 对应无源码
  WITH_DEXPREOPT_PIC := true
endif
(1) 如果DDONT_DEXPREOPT_PREBUILTS := true --》没有源码的apk不会提取odex(不管android.mk中是否有写生成odex)，所以第一次开机必须apk->dex->odex->被ART执行，多了解析成odex的步骤，导致开机慢
(1) 如果DDONT_DEXPREOPT_PREBUILTS := false 或 去掉这句话 ---》没有源码的apk会根据android.mk文件中是否提取odex去运行


六百九十二、gms三合一方案总结
	/home/JCB/disk1/sagereal资料/自己总结/GMS三合一总结


六百九十三、如何在同一版软件客制化apk是否安装？

	http://192.168.3.79:8084/gitweb?p=O1_MP2/alps-release-o1.mp2-default.git;a=commit;h=d0e6add85de9cd34e2fb8df9924b8f781b8363bd
	相关资料：https://www.jianshu.com/p/0d0246cc6663

   1、frameworks/base/services/core/java/com/android/server/pm/PackageManagerService.java文件中的scanPackageInternalLI方法中去判断， 
	if (sPmsExt.needSkipScanning(pkg, updatedPkg, ps))
                return null;下面去进行ro值的判断然后如果不想安装就return null
   2、设置Allapp中隐藏Youtube/YoutubeGo
	alps/vendor/mediatek/proprietary/packages/apps/MtkSettings/src/com/android/settings/applications/ManageApplications.java文件中applyPrefixFilter方法中去加入如下代码：
	//Redmine149881 modified for youtube or youtubeGo muyuanyuan begin
		               String CountryCode = SystemProperties.get("ro.boot.name2");
	android.util.Log.e("muyuanyuan","CountryCode===== "+CountryCode);
		               if(TextUtils.isEmpty(CountryCode)){
		               CountryCode="AE";
		           }
		               for(int i=0;i<origEntries.size();i++){
		                       if(("AE".equals(CountryCode)||"CZ".equals(CountryCode)||"ES".equals(CountryCode)||"FR".equals(CountryCode)||"GR".equals(CountryCode)||"IL".equals(CountryCode)||"IT".equals(CountryCode)||"PL".equals(CountryCode)||"PT".equals(CountryCode)||"RO".equals(CountryCode)||"RU".equals(CountryCode)||"SG".equals(CountryCode)||"UA".equals(CountryCode)||"DE".equals(CountryCode))){
		                               if(origEntries.get(i).info.packageName.equals("com.google.android.apps.youtube.mango")){
		                                       origEntries.remove(i);
		                               }
		                       }else if(("AR".equals(CountryCode)||"BD".equals(CountryCode)||"BR".equals(CountryCode)||"CL".equals(CountryCode)||"CO".equals(CountryCode)||"IR".equals(CountryCode)||"KZ".equals(CountryCode)||"MX".equals(CountryCode)||"MY".equals(CountryCode)||"PE".equals(CountryCode)||"TH".equals(CountryCode)||"TR".equals(CountryCode)||"UY".equals(CountryCode)||"VE".equals(CountryCode)||"VN".equals(CountryCode))) {
		                               if(origEntries.get(i).info.packageName.equals("com.google.android.youtube")){
		                                       origEntries.remove(i);
		                               }
		                       }
		               }
	//Redmine149881 modified for youtube or youtubeGo muyuanyuan end

六百九十四、驱动启动的顺序
   ？？？

六百九十五、1、BMOBILE-AX905的项目，MTK刷完镜像后测试GMS，发现SN码丢失 
           2、5313_TPLINK项目，用adb devices发现是默认值，也就是说没有写入SN码

    原因是：产线在写barcode 的时候，针对G类项目，只写了BP端(modem meta下)barcode，未写AP端（SP meta下）barcode 

    TPL回复：MTK平台存储BARCODE的区域有两个：BP端(modem meta下)barcode和AP端 （SP meta下）barcode； 手机正常开机显示的SN是BP端的barcode,此操作也是工厂内部流程在做的； device SN(ID)、ro.serialno属性获取的SN是在AP端的barcode，需要提前在AP端写入 barcode数据，目前工厂没有将此流程作为正常生产流程，只对特殊需求的产品操作 了。 

    我们建议:所有智能机新项目都加入 AP端写入barcode数据，请评估，谢谢 

    ps:TPLINK的国家码工具是按照meta工具去写的，如果写入国家码后再用SN WRITER去写序列号，就会把barcode（共64位）除了序列号以外的位数设置为0x00，也就是置为空，所以要先用SN WRITER去写序列号，在用国家码工具去写国家码


五百九十六、如何确认生成的某个so文件从哪里代码拷贝过去的？
   1、source build/envsetup.sh    --> 导入环境
   2、godir fingerprint.default.so   --> 搜索这个文件的具体代码路径
   3、md5sum fingerprint.default.so   --> 获取唯一值
     5656a7e732354b53d1e3b1b67b12a67a  fingerprint.default.so
     因为步骤2会搜索出好几个结果，那么如何确认是哪个路径拷贝的呢？首先先在out中找到对应的文件，然后用md5sum fingerprint.default.so 获取出唯一值，然后在把步骤2搜索出来的路径每个都用md5sum的命令去获取唯一值，然后相同的就是对应的文件路径

六百九十六、 反编译.vdex文件
	O版本，vdex文件直接通过vdexExtractor 直接生成dex文件
	./vdexExtractor  -i xxxx.vdex  -o . --deps -f

	P版本，会生成中间.cdex文件，需要使用compact_dex_converters临时转换成dex文
	件, 生成的boot-framework_classes.cdex.new其实就是.dex文件，重命名成.dex后
	缀，直接jadx解开即可看到java文件

	工具同步更新到如下目录：smb://192.168.3.127/02_sw/127文件目录/02_工具dTOOL/02%20智能机/10_Tools/Extra-vdex/

六百九十七、P平台预置可卸载可恢复APK
P平台预置可卸载可恢复APK:
1.预置方式和O平台一样：
    预置路径：LOCAL_MODULE_PATH := $(TARGET_OUT_VENDOR)/operator/app
2.有些APK（eg:facebook）中会包含动态、或者静态库文件，预置后点击会因找不到库报错，一般是缺少SELinux权限，可以抓取LOG，生成权限后加入即可。
（一般需要该权限：allow untrusted_app_27 system_data_file:file {open execute r_file_perms};）
3，对于可卸载可恢复的APK注意：
    P版本的vendor/operator/app将不再直接具有uninstall的功能，需要在可删除系统的list文件中加入对应的package name才可以。
    alps/vendor/mediatek/proprieta


六百九十八、后摄录像时从点击录像开始到出现一秒的时间过长
	6739O版本上录像启动慢的问题:
	录像启动会有一个音视频对齐等待时间，默认是1s。实际对齐时间通常在100ms以内，可以客制该对齐时间加快录像响应。
	 
	客制方法如下：
	修改media_profiles.xml，添加startOffsetMs字段，
	<CamcorderProfiles cameraId="0" startOffsetMs="100">
	<CamcorderProfiles cameraId="1" startOffsetMs="100">
	请根据音视频启动时间调整该参数。
	 
         另外录像启动太快可能导致CTS  CtsMediaTestCases测试失败，请一并关注。


六百九十九、拍照速度慢、美颜状态下拍照速度慢
	1、美颜拍照的原图可以从capbufMgr中取图，即参考zsd的方法（不使用normalshot的取图），这样可以直接从内存取图，缩小取图的时间。
	2、开启postview功能，并在app中是用postview做小图的显示，这样显示小图的时间可以加快约800ms（即美颜算法处理时间）。
	3、调整美颜算法所在线程的优先级，减少算法处理时间。
	4、打开ZSD功能

七百、如何修改wqhl导致的usb连接模式在重启后会不停变化
	frameworks/base/services/usb/java/com/android/server/usb/UsbDeviceManager.java文件中trySetEnabledFunctions(String functions, boolean forceRestart)方法内增加如下方法
            if (functions.equals("adb")){
                        functions = "mtp,adb";
            }

七百零一、o上平台的默认壁纸
        alps-release-o1.mp1-default/alps/device/mediatek/common/overlay/ago/frameworks/base/core/res/res/drawable-nodpi/default_wallpaper.jpg

70/80代码地址：
git clone git@192.168.3.76:alps-release-o1.mp2-default.git
 
35/39/55/63代码地址：
git clone git@192.168.3.76:alps-release-o1.mp1-default.git



testkey（或者releasekey）,plateform,shared,media ---->  签名apk
secureboot   ----> 签名img


a、三星：KMNJ2000ZM-B207   
b、 GD：GD9D4M4EYKM-A6             ---> 最差
c、KIS：04EMCP04_NL2DM627 
d、Hynix：H9TP32A4GDDCPR_KGM
e、TOSHIBA：TYC0FH121660RA    ----> 东芝




System.currentTimeMillis()  系统时间，也就是日期时间，可以被系统设置修改，然后值就会发生跳变。
uptimeMillis 自开机后，经过的时间，不包括深度睡眠的时间
elapsedRealtime自开机后，经过的时间，包括深度睡眠的时间


GMS包的有效期大概为2-4个月d


STK GET INPUT命令弹出来的界面代码是： vendor/mediatek/proprietary/packages/apps/Stk1/src/com/android/stk/StkInputActivity.java

场景 软件版本



